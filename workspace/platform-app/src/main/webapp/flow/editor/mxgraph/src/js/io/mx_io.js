var mxCodecRegistry={codecs:[],aliases:[],register:function(C){if(C!=null){var B=C.getName();mxCodecRegistry.codecs[B]=C;var A=mxUtils.getFunctionName(C.template.constructor);if(A!=B){mxCodecRegistry.addAlias(A,B)}}return C},addAlias:function(B,A){mxCodecRegistry.aliases[B]=A},getCodec:function(B){var E=null;if(B!=null){var D=mxUtils.getFunctionName(B);var A=mxCodecRegistry.aliases[D];if(A!=null){D=A}E=mxCodecRegistry.codecs[D];if(E==null){try{E=new mxObjectCodec(new B());mxCodecRegistry.register(E)}catch(C){}}}return E}};
function mxCodec(A){this.document=A||mxUtils.createXmlDocument();this.objects=[]}mxCodec.prototype.document=null;mxCodec.prototype.objects=null;mxCodec.prototype.elements=null;mxCodec.prototype.encodeDefaults=false;mxCodec.prototype.putObject=function(B,A){this.objects[B]=A;return A};mxCodec.prototype.getObject=function(C){var A=null;if(C!=null){A=this.objects[C];if(A==null){A=this.lookup(C);if(A==null){var B=this.getElementById(C);if(B!=null){A=this.decode(B)}}}}return A};mxCodec.prototype.lookup=function(A){return null};mxCodec.prototype.getElementById=function(A){if(this.elements==null){if(this.document.documentElement==null){throw new Error("mxCodec constructor needs document parameter")}this.elements=new Object();this.addElement(this.document.documentElement)}return this.elements[A]};mxCodec.prototype.addElement=function(A){if(A.nodeType==mxConstants.NODETYPE_ELEMENT){var B=A.getAttribute("id");if(B!=null&&this.elements[B]==null){this.elements[B]=A}}A=A.firstChild;while(A!=null){this.addElement(A);A=A.nextSibling}};mxCodec.prototype.getId=function(A){var B=null;if(A!=null){B=this.reference(A);if(B==null&&A instanceof mxCell){B=A.getId();if(B==null){B=mxCellPath.create(A);if(B.length==0){B="root"}}}}return B};mxCodec.prototype.reference=function(A){return null};mxCodec.prototype.encode=function(A){var B=null;if(A!=null&&A.constructor!=null){var C=mxCodecRegistry.getCodec(A.constructor);if(C!=null){B=C.encode(this,A)}else{if(mxUtils.isNode(A)){B=mxUtils.importNode(this.document,A,true)}else{mxLog.warn("mxCodec.encode: No codec for "+mxUtils.getFunctionName(A.constructor))}}}return B};mxCodec.prototype.decode=function(D,E){var B=null;if(D!=null&&D.nodeType==mxConstants.NODETYPE_ELEMENT){var A=null;try{A=window[D.nodeName]}catch(F){}var C=mxCodecRegistry.getCodec(A);if(C!=null){B=C.decode(this,D,E)}else{B=D.cloneNode(true);B.removeAttribute("as")}}return B};mxCodec.prototype.encodeCell=function(E,D,A){D.appendChild(this.encode(E));if(A==null||A){var B=E.getChildCount();for(var C=0;C<B;C++){this.encodeCell(E.getChildAt(C),D)}}};mxCodec.prototype.isCellCodec=function(A){if(A!=null&&typeof(A.isCellCodec)=="function"){return A.isCellCodec()}return false};mxCodec.prototype.decodeCell=function(B,E){E=(E!=null)?E:true;var D=null;if(B!=null&&B.nodeType==mxConstants.NODETYPE_ELEMENT){var C=mxCodecRegistry.getCodec(B.nodeName);if(!this.isCellCodec(C)){var A=B.firstChild;while(A!=null&&!this.isCellCodec(C)){C=mxCodecRegistry.getCodec(A.nodeName);A=A.nextSibling}}if(!this.isCellCodec(C)){C=mxCodecRegistry.getCodec(mxCell)}D=C.decode(this,B);if(E){this.insertIntoGraph(D)}}return D};mxCodec.prototype.insertIntoGraph=function(C){var D=C.parent;var A=C.getTerminal(true);var B=C.getTerminal(false);C.setTerminal(null,false);C.setTerminal(null,true);C.parent=null;if(D!=null){D.insert(C)}if(A!=null){A.insertEdge(C,true)}if(B!=null){B.insertEdge(C,false)}};mxCodec.prototype.setAttribute=function(B,A,C){if(A!=null&&C!=null){B.setAttribute(A,C)}};
function mxObjectCodec(E,C,A,D){this.template=E;this.exclude=(C!=null)?C:[];this.idrefs=(A!=null)?A:[];this.mapping=(D!=null)?D:[];this.reverse=new Object();for(var B in this.mapping){this.reverse[this.mapping[B]]=B}}mxObjectCodec.allowEval=false;mxObjectCodec.prototype.template=null;mxObjectCodec.prototype.exclude=null;mxObjectCodec.prototype.idrefs=null;mxObjectCodec.prototype.mapping=null;mxObjectCodec.prototype.reverse=null;mxObjectCodec.prototype.getName=function(){return mxUtils.getFunctionName(this.template.constructor)};mxObjectCodec.prototype.cloneTemplate=function(){return new this.template.constructor()};mxObjectCodec.prototype.getFieldName=function(B){if(B!=null){var A=this.reverse[B];if(A!=null){B=A}}return B};mxObjectCodec.prototype.getAttributeName=function(B){if(B!=null){var A=this.mapping[B];if(A!=null){B=A}}return B};mxObjectCodec.prototype.isExcluded=function(A,D,B,C){return D==mxObjectIdentity.FIELD_NAME||mxUtils.indexOf(this.exclude,D)>=0};mxObjectCodec.prototype.isReference=function(A,D,B,C){return mxUtils.indexOf(this.idrefs,D)>=0};mxObjectCodec.prototype.encode=function(C,A){var B=C.document.createElement(this.getName());A=this.beforeEncode(C,A,B);this.encodeObject(C,A,B);return this.afterEncode(C,A,B)};mxObjectCodec.prototype.encodeObject=function(F,B,C){F.setAttribute(C,"id",F.getId(B));for(var A in B){var D=A;var E=B[D];if(E!=null&&!this.isExcluded(B,D,E,true)){if(mxUtils.isInteger(D)){D=null}this.encodeValue(F,B,D,E,C)}}};mxObjectCodec.prototype.encodeValue=function(G,C,E,F,D){if(F!=null){if(this.isReference(C,E,F,true)){var A=G.getId(F);if(A==null){mxLog.warn("mxObjectCodec.encode: No ID for "+this.getName()+"."+E+"="+F);return}F=A}var B=this.template[E];if(E==null||G.encodeDefaults||B!=F){E=this.getAttributeName(E);this.writeAttribute(G,C,E,F,D)}}};mxObjectCodec.prototype.writeAttribute=function(E,A,C,D,B){if(typeof(D)!="object"){this.writePrimitiveAttribute(E,A,C,D,B)}else{this.writeComplexAttribute(E,A,C,D,B)}};mxObjectCodec.prototype.writePrimitiveAttribute=function(F,B,D,E,C){E=this.convertAttributeToXml(F,B,D,E,C);if(D==null){var A=F.document.createElement("add");if(typeof(E)=="function"){A.appendChild(F.document.createTextNode(E))}else{F.setAttribute(A,"value",E)}C.appendChild(A)}else{if(typeof(E)!="function"){F.setAttribute(C,D,E)}}};mxObjectCodec.prototype.writeComplexAttribute=function(F,B,D,E,C){var A=F.encode(E);if(A!=null){if(D!=null){A.setAttribute("as",D)}C.appendChild(A)}else{mxLog.warn("mxObjectCodec.encode: No node for "+this.getName()+"."+D+": "+E)}};mxObjectCodec.prototype.convertAttributeToXml=function(D,A,B,C){if(this.isBooleanAttribute(D,A,B,C)){C=(C==true)?"1":"0"}return C};mxObjectCodec.prototype.isBooleanAttribute=function(D,A,B,C){return(typeof(C.length)=="undefined"&&(C==true||C==false))};mxObjectCodec.prototype.convertAttributeFromXml=function(B,D,A){var C=D.value;if(this.isNumericAttribute(B,D,A)){C=parseFloat(C)}return C};mxObjectCodec.prototype.isNumericAttribute=function(B,C,A){return mxUtils.isNumeric(C.value)};mxObjectCodec.prototype.beforeEncode=function(C,A,B){return A};mxObjectCodec.prototype.afterEncode=function(C,A,B){return B};mxObjectCodec.prototype.decode=function(B,C,D){var E=C.getAttribute("id");var A=B.objects[E];if(A==null){A=D||this.cloneTemplate();if(E!=null){B.putObject(E,A)}}C=this.beforeDecode(B,C,A);this.decodeNode(B,C,A);return this.afterDecode(B,C,A)};mxObjectCodec.prototype.decodeNode=function(B,C,A){if(C!=null){this.decodeAttributes(B,C,A);this.decodeChildren(B,C,A)}};mxObjectCodec.prototype.decodeAttributes=function(C,D,B){var E=D.attributes;if(E!=null){for(var A=0;A<E.length;A++){this.decodeAttribute(C,E[A],B)}}};mxObjectCodec.prototype.isIgnoredAttribute=function(B,C,A){return C.nodeName=="as"||C.nodeName=="id"};mxObjectCodec.prototype.decodeAttribute=function(C,G,B){if(!this.isIgnoredAttribute(C,G,B)){var D=G.nodeName;var E=this.convertAttributeFromXml(C,G,B);var F=this.getFieldName(D);if(this.isReference(B,F,E,false)){var A=C.getObject(E);if(A==null){mxLog.warn("mxObjectCodec.decode: No object for "+this.getName()+"."+D+"="+E);return}E=A}if(!this.isExcluded(B,D,E,false)){B[D]=E}}};mxObjectCodec.prototype.decodeChildren=function(C,D,B){var A=D.firstChild;while(A!=null){var E=A.nextSibling;if(A.nodeType==mxConstants.NODETYPE_ELEMENT&&!this.processInclude(C,A,B)){this.decodeChild(C,A,B)}A=E}};mxObjectCodec.prototype.decodeChild=function(dec,child,obj){var fieldname=this.getFieldName(child.getAttribute("as"));if(fieldname==null||!this.isExcluded(obj,fieldname,child,false)){var template=this.getFieldTemplate(obj,fieldname,child);var value=null;if(child.nodeName=="add"){value=child.getAttribute("value");if(value==null&&mxObjectCodec.allowEval){value=mxUtils.eval(mxUtils.getTextContent(child))}}else{value=dec.decode(child,template)}this.addObjectValue(obj,fieldname,value,template)}};mxObjectCodec.prototype.getFieldTemplate=function(A,D,B){var C=A[D];if(C instanceof Array&&C.length>0){C=null}return C};mxObjectCodec.prototype.addObjectValue=function(A,D,C,B){if(C!=null&&C!=B){if(D!=null&&D.length>0){A[D]=C}else{A.push(C)}}};mxObjectCodec.prototype.processInclude=function(B,C,D){if(C.nodeName=="include"){var E=C.getAttribute("name");if(E!=null){try{var F=mxUtils.load(E).getDocumentElement();if(F!=null){B.decode(F,D)}}catch(A){}}return true}return false};mxObjectCodec.prototype.beforeDecode=function(B,C,A){return C};mxObjectCodec.prototype.afterDecode=function(B,C,A){return A};
mxCodecRegistry.register(function(){var A=new mxObjectCodec(new mxCell(),["children","edges","overlays","mxTransient"],["parent","source","target"]);A.isCellCodec=function(){return true};A.isNumericAttribute=function(C,D,B){return D.nodeName!=="value"&&mxObjectCodec.prototype.isNumericAttribute.apply(this,arguments)};A.isExcluded=function(C,E,D,B){return mxObjectCodec.prototype.isExcluded.apply(this,arguments)||(B&&E=="value"&&D.nodeType==mxConstants.NODETYPE_ELEMENT)};A.afterEncode=function(E,C,D){if(C.value!=null&&C.value.nodeType==mxConstants.NODETYPE_ELEMENT){var B=D;D=mxUtils.importNode(E.document,C.value,true);D.appendChild(B);var F=B.getAttribute("id");D.setAttribute("id",F);B.removeAttribute("id")}return D};A.beforeDecode=function(M,I,L){var C=I.cloneNode(true);var B=this.getName();if(I.nodeName!=B){var G=I.getElementsByTagName(B)[0];if(G!=null&&G.parentNode==I){mxUtils.removeWhitespace(G,true);mxUtils.removeWhitespace(G,false);G.parentNode.removeChild(G);C=G}else{C=null}L.value=I.cloneNode(true);var K=L.value.getAttribute("id");if(K!=null){L.setId(K);L.value.removeAttribute("id")}}else{L.setId(I.getAttribute("id"))}if(C!=null){for(var H=0;H<this.idrefs.length;H++){var F=this.idrefs[H];var E=C.getAttribute(F);if(E!=null){C.removeAttribute(F);var J=M.objects[E]||M.lookup(E);if(J==null){var N=M.getElementById(E);if(N!=null){var D=mxCodecRegistry.codecs[N.nodeName]||this;J=D.decode(M,N)}}L[F]=J}}}return C};return A}());
mxCodecRegistry.register(function(){var A=new mxObjectCodec(new mxGraphModel());A.encodeObject=function(E,C,D){var B=E.document.createElement("root");E.encodeCell(C.getRoot(),B);D.appendChild(B)};A.decodeChild=function(C,D,B){if(D.nodeName=="root"){this.decodeRoot(C,D,B)}else{mxObjectCodec.prototype.decodeChild.apply(this,arguments)}};A.decodeRoot=function(D,C,G){var F=null;var B=C.firstChild;while(B!=null){var E=D.decodeCell(B);if(E!=null&&E.getParent()==null){F=E}B=B.nextSibling}if(F!=null){G.setRoot(F)}};return A}());
mxCodecRegistry.register(function(){var A=new mxObjectCodec(new mxRootChange(),["model","previous","root"]);A.afterEncode=function(D,B,C){D.encodeCell(B.root,C);return C};A.beforeDecode=function(D,E,C){if(E.firstChild!=null&&E.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT){E=E.cloneNode(true);var B=E.firstChild;C.root=D.decodeCell(B,false);var F=B.nextSibling;B.parentNode.removeChild(B);B=F;while(B!=null){F=B.nextSibling;D.decodeCell(B);B.parentNode.removeChild(B);B=F}}return E};A.afterDecode=function(C,D,B){B.previous=B.root;return B};return A}());
mxCodecRegistry.register(function(){var A=new mxObjectCodec(new mxChildChange(),["model","child","previousIndex"],["parent","previous"]);A.isReference=function(C,E,D,B){if(E=="child"&&(C.previous!=null||!B)){return true}return mxUtils.indexOf(this.idrefs,E)>=0};A.afterEncode=function(D,B,C){if(this.isReference(B,"child",B.child,true)){C.setAttribute("child",D.getId(B.child))}else{D.encodeCell(B.child,C)}return C};A.beforeDecode=function(D,E,C){if(E.firstChild!=null&&E.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT){E=E.cloneNode(true);var B=E.firstChild;C.child=D.decodeCell(B,false);var H=B.nextSibling;B.parentNode.removeChild(B);B=H;while(B!=null){H=B.nextSibling;if(B.nodeType==mxConstants.NODETYPE_ELEMENT){var G=B.getAttribute("id");if(D.lookup(G)==null){D.decodeCell(B)}}B.parentNode.removeChild(B);B=H}}else{var F=E.getAttribute("child");C.child=D.getObject(F)}return E};A.afterDecode=function(C,D,B){B.child.parent=B.previous;B.previous=B.parent;B.previousIndex=B.index;return B};return A}());
mxCodecRegistry.register(function(){var A=new mxObjectCodec(new mxTerminalChange(),["model","previous"],["cell","terminal"]);A.afterDecode=function(C,D,B){B.previous=B.terminal;return B};return A}());
var mxGenericChangeCodec=function(A,B){var C=new mxObjectCodec(A,["model","previous"],["cell"]);C.afterDecode=function(E,F,D){if(mxUtils.isNode(D.cell)){D.cell=E.decodeCell(D.cell,false)}D.previous=D[B];return D};return C};mxCodecRegistry.register(mxGenericChangeCodec(new mxValueChange(),"value"));mxCodecRegistry.register(mxGenericChangeCodec(new mxStyleChange(),"style"));mxCodecRegistry.register(mxGenericChangeCodec(new mxGeometryChange(),"geometry"));mxCodecRegistry.register(mxGenericChangeCodec(new mxCollapseChange(),"collapsed"));mxCodecRegistry.register(mxGenericChangeCodec(new mxVisibleChange(),"visible"));mxCodecRegistry.register(mxGenericChangeCodec(new mxCellAttributeChange(),"value"));
mxCodecRegistry.register(function(){return new mxObjectCodec(new mxGraph(),["graphListeners","eventListeners","view","container","cellRenderer","editor","selection"])}());
mxCodecRegistry.register(function(){var A=new mxObjectCodec(new mxGraphView());A.encode=function(C,B){return this.encodeCell(C,B,B.graph.getModel().getRoot())};A.encodeCell=function(G,B,H){var C=B.graph.getModel();var E=B.getState(H);var N=C.getParent(H);if(N==null||E!=null){var Q=C.getChildCount(H);var L=B.graph.getCellGeometry(H);var S=null;if(N==C.getRoot()){S="layer"}else{if(N==null){S="graph"}else{if(C.isEdge(H)){S="edge"}else{if(Q>0&&L!=null){S="group"}else{if(C.isVertex(H)){S="vertex"}}}}}if(S!=null){var F=G.document.createElement(S);var J=B.graph.getLabel(H);if(J!=null){F.setAttribute("label",B.graph.getLabel(H));if(B.graph.isHtmlLabel(H)){F.setAttribute("html",true)}}if(N==null){var O=B.getGraphBounds();if(O!=null){F.setAttribute("x",Math.round(O.x));F.setAttribute("y",Math.round(O.y));F.setAttribute("width",Math.round(O.width));F.setAttribute("height",Math.round(O.height))}F.setAttribute("scale",B.scale)}else{if(E!=null&&L!=null){for(var D in E.style){var R=E.style[D];if(typeof(R)=="function"&&typeof(R)=="object"){R=mxStyleRegistry.getName(R)}if(R!=null&&typeof(R)!="function"&&typeof(R)!="object"){F.setAttribute(D,R)}}var K=E.absolutePoints;if(K!=null&&K.length>0){var P=Math.round(K[0].x)+","+Math.round(K[0].y);for(var D=1;D<K.length;D++){P+=" "+Math.round(K[D].x)+","+Math.round(K[D].y)}F.setAttribute("points",P)}else{F.setAttribute("x",Math.round(E.x));F.setAttribute("y",Math.round(E.y));F.setAttribute("width",Math.round(E.width));F.setAttribute("height",Math.round(E.height))}var M=E.absoluteOffset;if(M!=null){if(M.x!=0){F.setAttribute("dx",Math.round(M.x))}if(M.y!=0){F.setAttribute("dy",Math.round(M.y))}}}}for(var D=0;D<Q;D++){var I=this.encodeCell(G,B,C.getChildAt(H,D));if(I!=null){F.appendChild(I)}}}}return F};return A}());
var mxStylesheetCodec=mxCodecRegistry.register(function(){var codec=new mxObjectCodec(new mxStylesheet());codec.encode=function(enc,obj){var node=enc.document.createElement(this.getName());for(var i in obj.styles){var style=obj.styles[i];var styleNode=enc.document.createElement("add");if(i!=null){styleNode.setAttribute("as",i);for(var j in style){var value=this.getStringValue(j,style[j]);if(value!=null){var entry=enc.document.createElement("add");entry.setAttribute("value",value);entry.setAttribute("as",j);styleNode.appendChild(entry)}}if(styleNode.childNodes.length>0){node.appendChild(styleNode)}}}return node};codec.getStringValue=function(key,value){var type=typeof(value);if(type=="function"){value=mxStyleRegistry.getName(style[j])}else{if(type=="object"){value=null}}return value};codec.decode=function(dec,node,into){var obj=into||new this.template.constructor();var id=node.getAttribute("id");if(id!=null){dec.objects[id]=obj}node=node.firstChild;while(node!=null){if(!this.processInclude(dec,node,obj)&&node.nodeName=="add"){var as=node.getAttribute("as");if(as!=null){var extend=node.getAttribute("extend");var style=(extend!=null)?mxUtils.clone(obj.styles[extend]):null;if(style==null){if(extend!=null){mxLog.warn("mxStylesheetCodec.decode: stylesheet "+extend+" not found to extend")}style=new Object()}var entry=node.firstChild;while(entry!=null){if(entry.nodeType==mxConstants.NODETYPE_ELEMENT){var key=entry.getAttribute("as");if(entry.nodeName=="add"){var text=mxUtils.getTextContent(entry);var value=null;if(text!=null&&text.length>0&&mxStylesheetCodec.allowEval){value=mxUtils.eval(text)}else{value=entry.getAttribute("value");if(mxUtils.isNumeric(value)){value=parseFloat(value)}}if(value!=null){style[key]=value}}else{if(entry.nodeName=="remove"){delete style[key]}}}entry=entry.nextSibling}obj.putCellStyle(as,style)}}node=node.nextSibling}return obj};return codec}());mxStylesheetCodec.allowEval=true;
mxCodecRegistry.register(function(){var A=new mxObjectCodec(new mxDefaultKeyHandler());A.encode=function(C,B){return null};A.decode=function(C,D,E){if(E!=null){var F=E.editor;D=D.firstChild;while(D!=null){if(!this.processInclude(C,D,E)&&D.nodeName=="add"){var H=D.getAttribute("as");var B=D.getAttribute("action");var G=D.getAttribute("control");E.bindAction(H,B,G)}D=D.nextSibling}}return E};return A}());
var mxDefaultToolbarCodec=mxCodecRegistry.register(function(){var codec=new mxObjectCodec(new mxDefaultToolbar());codec.encode=function(enc,obj){return null};codec.decode=function(dec,node,into){if(into!=null){var editor=into.editor;node=node.firstChild;while(node!=null){if(node.nodeType==mxConstants.NODETYPE_ELEMENT){if(!this.processInclude(dec,node,into)){if(node.nodeName=="separator"){into.addSeparator()}else{if(node.nodeName=="br"){into.toolbar.addBreak()}else{if(node.nodeName=="hr"){into.toolbar.addLine()}else{if(node.nodeName=="add"){var as=node.getAttribute("as");as=mxResources.get(as)||as;var icon=node.getAttribute("icon");var pressedIcon=node.getAttribute("pressedIcon");var action=node.getAttribute("action");var mode=node.getAttribute("mode");var template=node.getAttribute("template");var toggle=node.getAttribute("toggle")!="0";var text=mxUtils.getTextContent(node);var elt=null;if(action!=null){elt=into.addItem(as,icon,action,pressedIcon)}else{if(mode!=null){var funct=(mxDefaultToolbarCodec.allowEval)?mxUtils.eval(text):null;elt=into.addMode(as,icon,mode,pressedIcon,funct)}else{if(template!=null||(text!=null&&text.length>0)){var cell=editor.templates[template];var style=node.getAttribute("style");if(cell!=null&&style!=null){cell=editor.graph.cloneCells([cell])[0];cell.setStyle(style)}var insertFunction=null;if(text!=null&&text.length>0&&mxDefaultToolbarCodec.allowEval){insertFunction=mxUtils.eval(text)}elt=into.addPrototype(as,icon,cell,pressedIcon,insertFunction,toggle)}else{var children=mxUtils.getChildNodes(node);if(children.length>0){if(icon==null){var combo=into.addActionCombo(as);for(var i=0;i<children.length;i++){var child=children[i];if(child.nodeName=="separator"){into.addOption(combo,"---")}else{if(child.nodeName=="add"){var lab=child.getAttribute("as");var act=child.getAttribute("action");into.addActionOption(combo,lab,act)}}}}else{var select=null;var create=function(){var template=editor.templates[select.value];if(template!=null){var clone=template.clone();var style=select.options[select.selectedIndex].cellStyle;if(style!=null){clone.setStyle(style)}return clone}else{mxLog.warn("Template "+template+" not found")}return null};var img=into.addPrototype(as,icon,create,null,null,toggle);select=into.addCombo();mxEvent.addListener(select,"change",function(){into.toolbar.selectMode(img,function(evt){var pt=mxUtils.convertPoint(editor.graph.container,mxEvent.getClientX(evt),mxEvent.getClientY(evt));return editor.addVertex(null,funct(),pt.x,pt.y)});into.toolbar.noReset=false});for(var i=0;i<children.length;i++){var child=children[i];if(child.nodeName=="separator"){into.addOption(select,"---")}else{if(child.nodeName=="add"){var lab=child.getAttribute("as");var tmp=child.getAttribute("template");var option=into.addOption(select,lab,tmp||template);option.cellStyle=child.getAttribute("style")}}}}}}}}if(elt!=null){var id=node.getAttribute("id");if(id!=null&&id.length>0){elt.setAttribute("id",id)}}}}}}}}node=node.nextSibling}}return into};return codec}());mxDefaultToolbarCodec.allowEval=true;
mxCodecRegistry.register(function(){var A=new mxObjectCodec(new mxDefaultPopupMenu());A.encode=function(C,B){return null};A.decode=function(B,C,D){var E=C.getElementsByTagName("include")[0];if(E!=null){this.processInclude(B,E,D)}else{if(D!=null){D.config=C}}return D};return A}());
mxCodecRegistry.register(function(){var A=new mxObjectCodec(new mxEditor(),["modified","lastSnapshot","ignoredChanges","undoManager","graphContainer","toolbarContainer"]);A.afterDecode=function(D,E,C){var B=E.getAttribute("defaultEdge");if(B!=null){E.removeAttribute("defaultEdge");C.defaultEdge=C.templates[B]}var F=E.getAttribute("defaultGroup");if(F!=null){E.removeAttribute("defaultGroup");C.defaultGroup=C.templates[F]}return C};A.decodeChild=function(C,D,B){if(D.nodeName=="Array"){var E=D.getAttribute("as");if(E=="templates"){this.decodeTemplates(C,D,B);return}}else{if(D.nodeName=="ui"){this.decodeUi(C,D,B);return}}mxObjectCodec.prototype.decodeChild.apply(this,arguments)};A.decodeUi=function(L,J,B){var G=J.firstChild;while(G!=null){if(G.nodeName=="add"){var D=G.getAttribute("as");var E=G.getAttribute("element");var I=G.getAttribute("style");var F=null;if(E!=null){F=document.getElementById(E);if(F!=null&&I!=null){F.style.cssText+=";"+I}}else{var N=parseInt(G.getAttribute("x"));var M=parseInt(G.getAttribute("y"));var K=G.getAttribute("width");var C=G.getAttribute("height");F=document.createElement("div");F.style.cssText=I;var H=new mxWindow(mxResources.get(D)||D,F,N,M,K,C,false,true);H.setVisible(true)}if(D=="graph"){B.setGraphContainer(F)}else{if(D=="toolbar"){B.setToolbarContainer(F)}else{if(D=="title"){B.setTitleContainer(F)}else{if(D=="status"){B.setStatusContainer(F)}else{if(D=="map"){B.setMapContainer(F)}}}}}}else{if(G.nodeName=="resource"){mxResources.add(G.getAttribute("basename"))}else{if(G.nodeName=="stylesheet"){mxClient.link("stylesheet",G.getAttribute("name"))}}}G=G.nextSibling}};A.decodeTemplates=function(C,D,F){if(F.templates==null){F.templates=[]}var H=mxUtils.getChildNodes(D);for(var G=0;G<H.length;G++){var E=H[G].getAttribute("as");var B=H[G].firstChild;while(B!=null&&B.nodeType!=1){B=B.nextSibling}if(B!=null){F.templates[E]=C.decodeCell(B)}}};return A}());
