<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>条件网关</title>
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <script src="../../common/common.css.js"></script>
</head>
<style>
  .ui-jqgrid-hdiv{
    background: #acd7ff;
    line-height: 24px;

  }
  .ui-jqgrid .ui-jqgrid-hbox{
    padding-top: 4px;
    line-height: 20px;
  }
</style>
<body>
<header class="container-fluid xj-form-header">
  <div class="row clearfix">
    <div class="col-md-5 col-xs-4 xj-index-logo">
      <img src="../../common/img/logo.png" alt="巨洲云">
    </div>
    <div class="col-md-2 col-xs-4 xj-form-title">条件网关</div>
    <div class="col-md-5 col-xs-4 xj-form-btn">
      <button class="btn btn-sm btn-adv" id="close">关闭</button>
      <button class="btn btn-sm btn-adv" id="save">确定</button>
    </div>
  </div>
</header>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-10 col-sm-12 col-md-offset-1 col-sm-offset-0">
      <form class="form-inline">
        <div class="xj-form-tab mt50 container-fluid">
          <div class="row">
            <div class="col-md-3">
              <i class="fa fa-list addBlue" aria-hidden="true"></i>
              <span class="form-title">判断条件列表</span>
            </div>
          </div>
        </div>
        <div class="xj-form-content grid-container">
        	<table class="table table-bordered" id="formulaTable" constraint-layout="true"></table>
        </div>
      </form>
    </div>
  </div>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-10 col-sm-12 col-md-offset-1 col-sm-offset-0">
      <form class="form-inline">
        <div class="xj-form-tab container-fluid">
          <div class="row">
            <div class="col-md-3">
              <i class="fa fa-list addBlue" aria-hidden="true"></i>
              <span class="form-title">编辑公式</span>
            </div>
          </div>
        </div>
        <div class="xj-form-content">
          <table class="table table-bordered">
            <tbody>
              <tr class="form-tr">
                <td class="form-edit"><label>流向环节名称 :</label></td>
                <td><input type="text" class="form-control addInputWidth" id="targetName" value="" readonly></td>
              </tr>            
              <tr class="form-tr">
                <td class="form-edit"><label>显示名称 :</label></td>
                <td><input type="text" class="form-control addInputWidth" id="lineName" value=""></td>
              </tr>
              <tr>
                <td class="form-edit"><label>选择变量 :</label></td>
                <td>
                  <label for="">变量</label>
                  <select id="varName" class="form-control edit-select"></select>
                  <label for="" class="label-margin">运算符</label>
                  <select id="operator" class="form-control edit-select">
						<option value="=" selected>=</option>
						<option value="&gt;">&gt;</option>
						<option value="&gt;=">&gt;=</option>
						<option value="&lt;">&lt;</option>
						<option value="&lt;=">&lt;=</option>
						<option value="!=">!=</option>
						<option value="like">like</option>
						<option value="in">in</option>
						<option value="not in">not in</option>
						<!-- <option value="between">between</option> -->
                  </select>
                  <label for="" class="label-margin">阈值</label>
                  <input type="text" class="form-control addWidth" id="varVal" value="">
                  <button type="button" class="btn btn-sm btn-opacity pull-right" style="margin-top: 2px;" class="label-margin" id="addFormula">添加</button>
                </td>
              </tr>
              <tr class="form-tr">
                <td class="form-edit"><label>条件公式 :</label></td>
                <td>
                  <textarea class="form-control addInputWidth" id="formulaCanvas" rows="3"></textarea>
                  <button type="button" class="btn btn-xs btn-icon" onclick="insertBrackets('(')">(</button>
                  <button type="button" class="btn btn-xs btn-icon" onclick="insertBrackets(')')">)</button>
                  <button type="button" class="btn btn-xs btn-icon" onclick="insertBrackets('and')">并且</button>
                  <button type="button" class="btn btn-xs btn-icon" onclick="insertBrackets('or')">或者</button>
                  <div class="v-equation">
                    <button type="button" class="btn btn-sm blue" onclick="validateFormula()">验证公式</button>
                    <span class="equation-info" id="validateResult"></span>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </form>
    </div>
  </div>
</div>
</body>
<script src="../../common/common.js"></script>
<script src="../js/flow.js"></script>
<script src="fl_fork_multi.js"></script>
</html>
