package com.xinleju.erp.frame.service;

import org.apache.commons.lang.StringUtils;
import org.hibernate.criterion.DetachedCriteria;
import org.hibernate.criterion.MatchMode;
import org.hibernate.criterion.Restrictions;
import org.springframework.stereotype.Service;

import com.xinleju.erp.base.app.bean.Page;
import com.xinleju.erp.base.app.service.impl.BaseService;
import com.xinleju.erp.frame.models.FuncButton;
/**
 * 
 * 版权：(C) 版权所有 2000-2014 上海天好电子商务有限公司苏州分公司
 *  功能按钮service
 * @author   jeeping
 * @version  $Id$
 * @since
 * @see
 */
@Service
public class FuncButtonService extends BaseService {
    /**
     * 
     * 功能按钮分页
     *〈详细描述〉
     * @author jeeping
     * @param funcModuleId
     * @param keyWord
     * @param start
     * @param limit
     * @return
     */
    public Page findFuncButtonList(String funcModuleId, String keyWord, Integer start, Integer limit) {
        DetachedCriteria dc = DetachedCriteria.forClass(FuncButton.class);
        if (StringUtils.isNotBlank(funcModuleId) && Long.valueOf(funcModuleId) != 0) {
            dc.add(Restrictions.eq("funcModuleId", Long.valueOf(funcModuleId)));
        }
        if (StringUtils.isNotBlank(keyWord)) {
            dc.add(Restrictions.like("name", keyWord, MatchMode.ANYWHERE));
        }
        return getDao().findPage(dc, start, limit);
    }
    /**
     * 
     * 保存功能按钮
     * @author jeeping
     */
    public void save(FuncButton funcButton) {
        getDao().saveOrUpdate(funcButton);
    }
    /**
     * 
     * 删除功能按钮
     * @author zhoupeng
     * @param funcButtonId
     */
    public void delete(Long funcButtonId){
        getDao().execute("delete from FuncButton where id = ?", funcButtonId);
    }
}
