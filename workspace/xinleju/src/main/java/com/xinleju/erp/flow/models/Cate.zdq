package com.xinleju.erp.flow.models;

import java.util.List;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.FetchType;
import javax.persistence.JoinColumn;
import javax.persistence.ManyToOne;
import javax.persistence.Table;
import javax.persistence.Transient;

import org.hibernate.annotations.DynamicInsert;
import org.hibernate.annotations.DynamicUpdate;
import org.hibernate.annotations.Formula;

import com.xinleju.erp.base.app.models.IdEntity;
import com.xinleju.erp.flow.utils.CateDataType;


/**
 * 
 * 版权：(C) 版权所有 2000-2014 上海天好电子商务有限公司苏州分公司 
 * <工作流条配置目录> 
 * <工作流条配置目录>
 * @author hongbin
 * @version $Id$
 * @since
 * @see
 */
@Entity
@Table(name = "sm_cate")
@DynamicInsert(true)
@DynamicUpdate(true)
public class Cate extends IdEntity {
    /**
     * @Fields serialVersionUID : 序列化
     */
    private static final long serialVersionUID = -6299705953188834671L;

    /**
     * 子节点的个数
     */
    @Formula("(select COUNT(d.id) from  SM_cate d where (d.parent_id = id))")
    private int subCount;

    /**
     * 目录名称
     */
    private String name;

    /**
     * 目录编码
     */
    private String code;

    /**
     * 目录排序
     */
    private Integer position;

    /**
     * 是否禁用（0表示否，1表示是）
     */
    @Column(columnDefinition = "int(10) default 0", nullable = false)
    private Integer isDisabled = 0;

    /**
     * 数据类型
     * 
     * @see CateDataType
     */
    private String dateType;

    /**
     * 父目录ID
     */
    @Column(name = "parent_id")
    private Integer parentId;
    
    /**
     * 父目录对象
     */
    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "parent_id", updatable = false, insertable = false)
    private Cate parent;
    
    /**
     * 条件值的list
     */
    @Transient
    private List<CateVal> valList;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public Integer getPosition() {
        return position;
    }

    public void setPosition(Integer position) {
        this.position = position;
    }

    public Integer getIsDisabled() {
        return isDisabled;
    }

    public void setIsDisabled(Integer isDisabled) {
        this.isDisabled = isDisabled;
    }

    public Cate getParent() {
        return parent;
    }

    public void setParent(Cate parent) {
        this.parent = parent;
    }

    public Integer getParentId() {
        return parentId;
    }

    public void setParentId(Integer parentId) {
        this.parentId = parentId;
    }

    public int getSubCount() {
        return subCount;
    }

    public void setSubCount(int subCount) {
        this.subCount = subCount;
    }

    public String getDateType() {
        return dateType;
    }

    public void setDateType(String dateType) {
        this.dateType = dateType;
    }

    public List<CateVal> getValList() {
        return valList;
    }

    public void setValList(List<CateVal> valList) {
        this.valList = valList;
    }

}
