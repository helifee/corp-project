package com.xinleju.erp.finance.service;

import org.springframework.stereotype.Service;

import com.xinleju.erp.base.app.config.App;
import com.xinleju.erp.base.app.service.impl.BaseService;
import com.xinleju.erp.co.voucher.service.SyncFinaCoData;
import com.xinleju.erp.data.cache.api.MDFinanceCacheService;
import com.xinleju.erp.ex.service.SyncFinaExData;
import com.xinleju.erp.flow.flowutils.bean.FlowResult;
import com.xinleju.erp.flow.flowutils.bean.PageBean;
import com.xinleju.erp.sa.service.SyncFinaSaData;
import com.xinleju.erp.sm.cache.api.RewriteFinaResult;
import com.xinleju.erp.sm.cache.api.RewriteFinaSaResult;
import com.xinleju.erp.sm.cache.api.SyncFinaData;
import com.xinleju.erp.sm.cache.api.SyncFinaDataCompanyService;
import com.xinleju.erp.sm.cache.api.SyncFinaDataProductTypeService;
import com.xinleju.erp.sm.cache.api.SyncFinaDataProjectBranchService;
import com.xinleju.erp.sm.extend.dto.FinaData;
import com.xinleju.erp.sm.extend.dto.FinaQueryParams;

/**
 * 该类访问各种数据接口
 * 
 * @author walden
 * 
 */
@Service
public class SyncFinaDataService extends BaseService {
	/** 主数据系统-取数据接口 */
	private SyncFinaData syncFinaData;
	/** 主数据系统-回写据接口 */
	private RewriteFinaResult rewriteFinaResult;
	/** 销售系统-取数据接口 */
	private SyncFinaSaData syncFinaSaData;
	/** 销售系统-回写接口 */
	private RewriteFinaSaResult rewriteFinaSaResult;
	/** 费用系统-注册、取数据、回掉接口*/
	private SyncFinaExData syncFinaExData;
	
	private SyncFinaCoData syncFinaCoData;
	
	private MDFinanceCacheService syncFinaMdData;

	
	

	/**
	 * 获得公司信息 主数据 从本地调用
	 * 
	 * @return
	 */
	public FlowResult<PageBean<FinaData>> getCompany(FinaQueryParams params) {
		return ((SyncFinaDataCompanyService) App.getBean("syncFinaDataCompany")).getFinaData(params);
	}

	/**
	 * 获得项目分期 主数据
	 * 
	 * @return
	 */
	public FlowResult<PageBean<FinaData>> getProjectPeriod(FinaQueryParams params) {
		return App.getBean(SyncFinaDataProjectBranchService.class).getFinaData(params);
	}

	/**
	 * 获得产品类型 主数据
	 * 
	 * @return
	 */
	public FlowResult<PageBean<FinaData>> getProductType(FinaQueryParams params) {
		return App.getBean(SyncFinaDataProductTypeService.class).getFinaData(params);
	}

	public SyncFinaSaData getSyncFinaSaData() {
		if (syncFinaSaData == null) {
			// syncFinaSaData = (SyncFinaSaData) App.getBean("syncFinaSaData");
			syncFinaSaData = App.getBean(SyncFinaSaData.class);
		}
		return syncFinaSaData;
	}
	
	

	public RewriteFinaResult getRewriteFinaResult() {
		if (rewriteFinaResult == null) {
			rewriteFinaResult = App.getBean(RewriteFinaResult.class);
		}
		return rewriteFinaResult;
	}

	public RewriteFinaSaResult getRewriteFinaSaResult() {
		if (rewriteFinaSaResult == null) {
			rewriteFinaSaResult = App.getBean(RewriteFinaSaResult.class);
		}
		return rewriteFinaSaResult;
	}

	/**
	 * 获取费用系统接口
	 * @return
	 */
	public SyncFinaExData getSyncFinaExData() {
		if (syncFinaExData == null) {
			syncFinaExData = App.getBean(SyncFinaExData.class);
		}
		return syncFinaExData;
	}
	
	/**
	 * 获取费用系统接口
	 * @return
	 */
	public SyncFinaCoData getSyncFinaCoData() {
		if (syncFinaCoData == null) {
			syncFinaCoData = App.getBean(SyncFinaCoData.class);
		}
		return syncFinaCoData;
	}
	
	
	/**
	 * 获取主数据系统接口
	 * @return
	 */
	public MDFinanceCacheService getSyncFinaMdData() {
		if (syncFinaMdData == null) {
			syncFinaMdData = App.getBean(MDFinanceCacheService.class);
		}
		return syncFinaMdData;
	}

}
