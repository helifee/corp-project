package com.xinleju.erp.frame.models.extender;

import com.xinleju.erp.base.app.config.App;
import com.xinleju.erp.frame.models.BusinessMold;
import com.xinleju.erp.frame.models.BusinessObject;
import com.xinleju.erp.frame.models.EntityExtender;
import com.xinleju.erp.frame.models.VoucherTemplate;
import com.xinleju.erp.frame.service.FiBusinessService;

public class FiVTExtender extends EntityExtender {
	@SuppressWarnings("unused")
	private String bmid_name = "";
	@SuppressWarnings("unused")
	private String boid_name = "";

	private FiBusinessService fiBusinessService;
	
	private FiBusinessService getFiBusinessService(){
		if(fiBusinessService == null){
			fiBusinessService = App.getBean(FiBusinessService.class);
		}
		return fiBusinessService;
	}
	public String getBmid_name(VoucherTemplate vt) {
		if(vt == null || vt.getBmid() == null)
			return "";
		BusinessMold bm =  getFiBusinessService().getDao().getById(BusinessMold.class, vt.getBmid());
		if(bm == null)
			return "";
		return bm.getName();
	}

	public String getBoid_name(VoucherTemplate vt) {
		if(vt == null || vt.getBmid() == null)
			return "";
		BusinessObject bo =  getFiBusinessService().getDao().getById(BusinessObject.class, vt.getBoid());
		if(bo == null)
			return "";
		return bo.getVobject();
	}
	
}
