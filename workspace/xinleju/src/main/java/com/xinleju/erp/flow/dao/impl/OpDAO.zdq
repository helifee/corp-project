package com.xinleju.erp.flow.dao.impl;

import java.util.ArrayList;
import java.util.List;

import org.apache.commons.lang3.StringUtils;
import org.springframework.stereotype.Repository;

import com.xinleju.erp.base.utils.StringHelper;
import com.xinleju.erp.flow.models.Op;

/**
 * <p>
 * 操作Service
 * </p>
 * <p>
 * </p>
 * 
 * @author Administrator
 * @version $Id: OpDAO.java 1196 2014-08-28 03:24:45Z sunchaohui $
 * @since
 * @see
 */
@Repository
public class OpDAO  extends BaseDAO {

    
    
    
    /**
     * <p>
     * 查询操作列表
     * </p>
     * <p>
     * </p>
     * 
     * @author 孙朝辉
     * @param ops
     *            Code分隔符
     * @return 操作列表
     */
    public List<Op> findOpList(String ops) {

        List<Op> opList = new ArrayList<Op>();

        if (StringUtils.isNotEmpty(ops)) {
            List<String> strs = StringHelper.splitAsStringList(ops, ",");
            if (strs.size() > 0) {
                opList = getDao().findAll(Op.class, "(isDisabled = 0 or isDisabled is null) " 
                        + " and code in (" + StringHelper.join(strs, ",", "'") + ")");
            }
        }

        return opList;
    }

    /**
     * <p>查询操作列表</p>
     * <p></p>
     * @author 孙朝辉
     * @return 操作列表
     */
    public List<Op> findOpList() {
        return getDao().findAll(Op.class, "(isDisabled = 0 or isDisabled is null) and code is not null");
    }


}
