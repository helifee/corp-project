package com.xinleju.erp.flowengine.service;

import java.util.List;

import com.xinleju.erp.flowengine.dto.FlowInstanceStepWorkTaskDto;
import com.xinleju.erp.flowengine.models.FlowInstance;

public interface FlowInstanceFiService {

	/**
	 * @param flowInstance
	 * @param flowInstanceStepWorkTask
	 * @throws Exception
	 */
	public void save(FlowInstance flowInstance,FlowInstanceStepWorkTaskDto flowInstanceStepWorkTask,com.xinleju.erp.flow.service.api.extend.dto.UserDTO currUser) throws Exception;
	
	
	/**
	 * 
	 * 获取流程实例
	 * @param fiId
	 * @return
	 */
	
	public FlowInstance getflowInstanceByFlowCodeAndBizId(String bizId, String flowCode,Integer status) throws Exception;
	
	
	
	/**
	 * 预处理Session逻辑
	 * @param flowInstance
	 * @return
	 * @throws Exception
	 */
	public FlowInstance getPreDealWithFlowInstance(FlowInstance flowInstance) throws Exception;
	
	
	
	/**流程替换
	 * @param guIds
	 * @param sourceParticipant
	 * @param targetParticipant
	 * @throws Exception
	 */
	public void replaceFormParticipantToParticipant(String[] guIds,Long sourceParticipant, Long targetParticipant) throws Exception;
	
	
	/**任务流程代理
	 * @param guIds
	 * @param sourceParticipant
	 * @param targetParticipant
	 * @throws Exception
	 */
	public void proxyFlowInstanceStepWorkTask(List<String> taskIds,Long proxUserId) throws Exception;
	
}
