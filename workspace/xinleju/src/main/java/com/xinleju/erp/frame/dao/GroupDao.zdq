package com.xinleju.erp.frame.dao;

import java.util.ArrayList;
import java.util.List;

import org.springframework.stereotype.Repository;

import com.xinleju.erp.flow.dao.impl.BaseDAO;
import com.xinleju.erp.frame.models.Dept;
import com.xinleju.erp.frame.models.Group;

@Repository
public class GroupDao extends BaseDAO{
	
	public Group getGroupByRefObjectId (Long refObjectId,Integer refObjectType){
		return getDao().findFirstByHQL(Group.class, "from Group g where g.refObjectId = ? and g.refObjectType = ?", refObjectId,refObjectType);
	}
	
	public List<Long> getProjectBranchByScopeId(Long scopeId){
		List<Long> ids=new ArrayList<Long>();
		return ids;
	}
	
	//根据主键取对象 
	public Group getGroupById(Long id,Long type){
		StringBuffer hqlSb = new StringBuffer();
		hqlSb.append(" from Group c where 1 = 1");
		
		hqlSb.append(" and c.id ="+id);
		hqlSb.append(" and c.refObjectType ="+type);
		return getDao().findFirstByHQL(Group.class, hqlSb.toString());
	}

}
