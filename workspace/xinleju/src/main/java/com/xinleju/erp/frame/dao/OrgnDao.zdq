package com.xinleju.erp.frame.dao;

import java.util.ArrayList;
import java.util.List;

import com.xinleju.erp.frame.dto.UserSelectDto;
import com.xinleju.erp.frame.models.User;

import org.springframework.stereotype.Repository;

import com.xinleju.erp.flow.dao.impl.BaseDAO;

@Repository
public class OrgnDao extends BaseDAO {
	
	 public List<User> getUserById(List<Long> UserIds){ 
		 List<User> userList=new ArrayList<User>();
         for(Long id : UserIds) {
            	 User user=getDao().getById(User.class, id);
            	 userList.add(user);
             }
         return userList;
     }
	 
	 /**
      * 根据角色ID查找
      */
     public List<User> findByRoleId(UserSelectDto dto) {
    	 List<User> userList = new ArrayList<User>();
    	 // modify by liuhm 只有存在已选人员的时候才进行查询
         if(dto != null && dto.getRoleId() != null && dto.getSelectedUserIds() != null && dto.getSelectedUserIds().length() > 0){
        	 userList=getDao().findByHQL(User.class, "from User u where u.mainRoleId = ?", dto.getRoleId());
         }
         return userList;
     }

     public List<User> getUserById(Long[] userIds){ 
   	  List<User> userList=new ArrayList<User>();
         for(Long id : userIds) {
             if(id!=null) {
            	 User user=getDao().getById(User.class, id);
            	 userList.add(user);
             }
         }
         return userList;
     }
     
     
      
}
