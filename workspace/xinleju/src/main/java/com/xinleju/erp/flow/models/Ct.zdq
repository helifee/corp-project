package com.xinleju.erp.flow.models;

import java.util.Date;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.FetchType;
import javax.persistence.JoinColumn;
import javax.persistence.ManyToOne;
import javax.persistence.Table;
import javax.persistence.Temporal;
import javax.persistence.TemporalType;
import javax.xml.bind.annotation.XmlRootElement;

import org.hibernate.annotations.Cache;
import org.hibernate.annotations.CacheConcurrencyStrategy;
import org.hibernate.annotations.Formula;

import com.xinleju.erp.base.app.models.IdEntity;
import com.xinleju.erp.base.app.utils.HibernateUtils;

/**
 * <p>
 * 流程分类树
 * </p>
 * <p>
 * </p>
 * 
 * @author Administrator
 * @version $Id$
 * @since
 * @see
 */
@Entity
@Table(name = "tf_ct")
@XmlRootElement
@Cache(usage=CacheConcurrencyStrategy.READ_WRITE)
public class Ct extends IdEntity {

    /**
     * 意义，目的和功能，以及被用到的地方<br>
     */
    private static final long serialVersionUID = 5312286843228492135L;

    /**
     * 子节点数量
     */
    @Formula("(select COUNT(d.id) from  tf_ct d where (d.parent_id = id))")
    private int subCount;

    /**
     * 名称
     */
    private String name;

    /**
     * 编码
     */
    private String code;

    /**
     * 排序号
     */
    private Integer position;

    /**
     * 禁用
     */
    private Integer isDisabled;
    
    /**
     * 说明
     */
    @Column(length = HibernateUtils.COLOUMN_LENGTH_3000)
    private String remark;
    
    /**
     * 是否显示说明
     */
    @Column(columnDefinition = "int(10) default 0")
    private Integer isShowRemark;
    
    /**
     * 创建时间(N/A)
     */
    @Temporal(TemporalType.TIMESTAMP)
    private Date createTime;
    
    /**
     * 更新时间(N/A)
     */
    @Temporal(TemporalType.TIMESTAMP)
    private Date editTime;
    
    /**
     * 父节点
     */
    @Column(name = "parent_id")
    private Long parentId;

    /**
     * 父节点
     */
    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "parent_id", updatable = false, insertable = false)
    private Ct parent;

    public int getSubCount() {
        return subCount;
    }

    public void setSubCount(int subCount) {
        this.subCount = subCount;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public Integer getPosition() {
        return position;
    }

    public void setPosition(Integer position) {
        this.position = position;
    }

    public Integer getIsDisabled() {
        return isDisabled;
    }

    public void setIsDisabled(Integer isDisabled) {
        this.isDisabled = isDisabled;
    }

    public Long getParentId() {
        return parentId;
    }

    public void setParentId(Long parentId) {
        this.parentId = parentId;
    }

    public Ct getParent() {
        return parent;
    }

    public void setParent(Ct parent) {
        this.parent = parent;
    }

    public String getRemark() {
        return remark;
    }

    public void setRemark(String remark) {
        this.remark = remark;
    }

    public Date getCreateTime() {
        return createTime;
    }

    public void setCreateTime(Date createTime) {
        this.createTime = createTime;
    }

    public Date getEditTime() {
        return editTime;
    }

    public void setEditTime(Date editTime) {
        this.editTime = editTime;
    }

    public Integer getIsShowRemark() {
        return isShowRemark;
    }

    public void setIsShowRemark(Integer isShowRemark) {
        this.isShowRemark = isShowRemark;
    }
}
