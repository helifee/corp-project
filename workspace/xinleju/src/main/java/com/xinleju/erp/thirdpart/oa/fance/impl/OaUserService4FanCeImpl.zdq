package com.xinleju.erp.thirdpart.oa.fance.impl;

import java.util.List;



import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import com.xinleju.erp.base.app.service.impl.BaseService;
import com.xinleju.erp.frame.filter.HttpForwardProxy;
import com.xinleju.erp.frame.models.UserInfo;
import com.xinleju.erp.thirdpart.oa.fance.IOaUserService;
import com.xinleju.erp.thirdpart.oa.fance.OATaskPush4FanCeService;
import com.xinleju.erp.thirdpart.oa.fanwei.impl.OATaskPushService4FanWeiImpl2;
@Service
@Transactional
public class OaUserService4FanCeImpl extends BaseService implements IOaUserService {
    @Autowired
    private OATaskPush4FanCeService oATaskPush4FanCeService;
    
	@Override
	public void synOaUser() {
		List<UserInfo> userLst = loadUserInfoFrOAFanWei();
		
		// 更新用户信息
		oATaskPush4FanCeService.synchronizeUserInfo(userLst);
	}
	
	private List<UserInfo> loadUserInfoFrOAFanWei() {
		HttpForwardProxy proxy = new HttpForwardProxy();
		List<UserInfo> userLst = proxy.oaLoadFanWeiUser();
		
		return userLst;
	}
}
