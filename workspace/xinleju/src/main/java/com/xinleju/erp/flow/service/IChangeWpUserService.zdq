package com.xinleju.erp.flow.service;

/**
 * 版权：(C) 版权所有 2000-2014 上海天好电子商务有限公司苏州分公司
 * 修改流程参与人intergace
 * @author   zhongjun
 * @version  $Id: IChangeWpUserService.java 2100 2014-12-15 08:30:22Z zhongjun $
 * @since
 * @see
 */
public interface IChangeWpUserService {
	
    /**
     * 修改流程参与人
     * @author jun
     * @param opWiId 修改参与人的节点opWiId
     * @param wpId 需要修改参与人的节点id
     * @param subWpId 需要修改参与人的子节点id
     * @param wiId 需要修改参与人的任务id
     * @param userId 需要修改参与人的用户id
     * @param paticipantString 选择的ids
     * @return 修改结果
     */
    Object[] changeWpUser(Long opWiId, Long wpId, Long subWpId, Long wiId, Long userId, String paticipantString);
    
    /**
     * 是否可以修改流程参与人
     * @author jun
     * @param opWiId 修改参与人的节点opWiId
     * @param wpId 需要修改参与人的节点id
     * @param subWpId 需要修改参与人的子节点id
     * @param wiId 需要修改参与人的任务id
     * @param userId 需要修改参与人的用户id
     * @return 是否可以修改参与人
     */
    Object[] canChangeWpUser(Long opWiId, Long wpId, Long subWpId, Long wiId, Long userId);
    /**
     * 是否可以修改参与人（只判断流程模板中的设置）
     * @author jun
     * @param opWiId 操作时的任务id
     * @param wpId 需要修改参与人的wpId
     * @return 是否可以修改参与人
     */
    boolean canChangeWpUsersByAcSet(Long opWiId, Long wpId);
    
    /**
     * 是否可以修改流程参与人(只判断是不是可以在该位置下添加)
     * @author jun
     * @param wpId 需要修改参与人的节点id
     * @param subWpId 需要修改参与人的子节点id
     * @param wiId 需要修改参与人的任务id
     * @param userId 需要修改参与人的用户id
     * @return 是否可以修改参与人
     */
    Object[] canChangeWpUserByPx(Long wpId, Long subWpId, Long wiId, Long userId);
    
    /**
     * 是否可以修改流程参与人(只判断wp的状态)
     * @author jun
     * @param wpId 需要修改参与人的节点id
     * @param subWpId 需要修改参与人的子节点id
     * @param wiId 需要修改参与人的任务id
     * @param userId 需要修改参与人的用户id
     * @return 是否可以修改参与人
     */
    Object[] canChangeWpUserByWpStatus(Long wpId, Long subWpId, Long wiId, Long userId);
    
    /**
     * 得到修改流程参与人的类型
     * @author jun
     * @param wpId 需要修改参与人的节点id
     * @param subWpId 需要修改参与人的子节点id
     * @param wiId 需要修改参与人的任务id
     * @param userId 需要修改参与人的用户id
     * @return 流程参与人的类型
     */
    int fixWpUserChangeType(Long wpId, Long subWpId, Long wiId, Long userId);
    /**
     * 修改流程参与人
     * @author jun
     * @param opWiId 修改参与人的节点opWiId
     * @param wpId 需要修改参与人的节点id
     * @param subWpId 需要修改参与人的子节点id
     * @param wiId 需要修改参与人的任务id
     * @param userId 需要修改参与人的用户id
     * @param paticipantString 选择的paticipantString
     * @return 修改结果
     */
    void dealChangeUser(Long opWiId, Long wpId, Long subWpId, Long wiId, Long userId, String paticipantString);
    
    /**
     * 删除流程参与人
     * @author jun
     * @param opWiId 修改参与人的节点opWiId
     * @param wpId 需要修改参与人的节点id
     * @param subWpId 需要修改参与人的子节点id
     * @param wiId 需要修改参与人的任务id
     * @param userId 需要修改参与人的用户id
     */
    void deleteParticipant(Long opWiId, Long wpId, Long subWpId, Long wiId, Long userId);
}
