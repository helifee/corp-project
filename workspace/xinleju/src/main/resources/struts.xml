<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>
	<bean type="com.opensymphony.xwork2.UnknownHandler" name="convention1" class="com.xinleju.erp.base.app.config.StrutsUnknownHandler" />
	<constant name="struts.ui.theme" value="simple" />
	<!-- dev properties -->
	<constant name="struts.devMode" value="false" />
	<constant name="struts.i18n.reload" value="false" />
	<constant name="struts.configuration.xml.reload" value="false" />
	<constant name="struts.convention.classes.reload" value="false" />
	<constant name="struts.serve.static.browserCache" value="false" />
	<!-- End  dev properties-->

	<constant name="struts.i18n.encoding" value="UTF-8" />
	
	<!-- Static Method Access -->
	<constant name="struts.ognl.allowStaticMethodAccess" value="true" />
	
	<constant name="struts.custom.i18n.resources" value="message" />
	<constant name="struts.enable.DynamicMethodInvocation" value="true" />
	<constant name="struts.convention.result.path" value="/page/" />
	<constant name="struts.convention.action.mapAllMatches" value="true" />
	<constant name="struts.convention.action.suffix" value="Action" />
	<constant name="struts.convention.action.name.lowercase" value="false" />
	<constant name="struts.convention.action.name.separator" value="" />
	<constant name="struts.convention.action.disableScanning" value="false" />
	<constant name="struts.convention.action.fileProtocols" value="jar,wsjar,zip" />
	<constant name="struts.convention.package.locators" value="action" />
	<constant name="struts.convention.package.locators.disable" value="flase" />
	<constant name="struts.convention.package.locators.basePackage" value="" />
	<constant name="struts.convention.default.parent.package" value="default" />
	<constant name="struts.convention.action.eagerLoading" value="true" />
	<constant name="struts.convention.action.mapAllMatches" value="true" />
	<constant name="struts.convention.action.checkImplementsAction" value="false" />
	<constant name="struts.convention.redirect.to.slash" value="true" />
	<constant name="struts.enable.SlashesInActionNames" value="true" />
	<constant name="struts.mapper.alwaysSelectFullNamespace" value="false" />
	<constant name="struts.action.extension" value="do,ajax,no,"/>

	<constant name="struts.multipart.maxSize" value="1000000000" />
	<constant name="struts.serve.static" value="true" />
	<constant name="struts.objectFactory.spring.autoWire.alwaysRespect" value="true" />
	
	<package name="default" extends="struts-default" namespace="/">
		<interceptors>
			<interceptor name="auth" class="com.xinleju.erp.flow.interceptor.AuthInterceptor"/>
			<interceptor name="visit" class="com.xinleju.erp.flow.service.api.extend.VisitInterceptor"/>
			
			<interceptor-stack name="simpleStack">
				<interceptor-ref name="auth">
					<param name="excludeMethods">getNoticeTypeTreeForAuth</param>
				</interceptor-ref>
				<interceptor-ref name="visit" />
				 <interceptor-ref name="defaultStack" />
				 <interceptor-ref name="tokenSession">
					 <param name="includeMethods">save</param>
				 </interceptor-ref>
				
			</interceptor-stack>
		</interceptors>
		
		<default-interceptor-ref name="simpleStack" />
		
		<global-results>
			<result name="ex">/ex.jsp</result>
			
			<result name="noAuth">/noAuth.jsp</result>
		</global-results>
		
		<global-exception-mappings>
		<exception-mapping result="ex" exception="com.telehot.sso.exception.ServerConnectException"></exception-mapping>
			<exception-mapping result="ex" exception="com.xinleju.erp.base.app.exception.AppException"></exception-mapping>
		</global-exception-mappings>
	</package>


</struts>
