package com.sitech.oa.ClassLoader;

import java.lang.reflect.Method;

public class Test implements Runnable{

	public void run() {
		try{
			while(true){
				ClassManager cm=new ClassManager("D:/swap",new String[]{"FOO"});
				//ClassManager cm=new ClassManager("D:/workspace/BCP/bin/com/sitech/oa/ClassLoader",new String[]{"FOO"});
				Class cls=cm.loadClass("FOO");
				Object foo = cls.newInstance();
				Method m = foo.getClass().getMethod("sayHello", new Class[]{}); 
				m.invoke(foo, new Object[]{}); 
				try{Thread.sleep(2000);}catch(Exception e){}
			}
		}catch(Exception e){e.printStackTrace();}
		
	}
	public static void main(String[] args){
		new Thread(new Test()).start();
	}

}
