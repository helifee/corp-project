/*
 * 获取配置信息
 */
package com.sitech.oa.pars;

import java.io.IOException;
import java.io.InputStream;
import java.util.HashMap;
import java.util.Map;
import java.util.Properties;

public class Config {
	public static Properties prop;
	public static Map headFileMap;
	public static Map mainPathMap;
	public static Map defaultHeadFileMap;
	public static Map fileTypeMap;
	/*
	public static String bcpHeadFilePath;//头文件目录
	public static String busiHeadFilePath;//头文件目录
	public static String serverHeadFilePath;//头文件目录
	public static String mainPath;//主目录
	public static String defaultHeadFile;//遍历文件类型
	public static String filetype;//遍历文件类型
	*/
	
	public static Map unreadHeadFileMap;//不读取头文件
	
	public static String url;
	public static String un;
	public static String pw;
	public static void load(){
		prop=new Properties();
		InputStream fis=null;
		headFileMap=new HashMap();
		mainPathMap=new HashMap();
		fileTypeMap=new HashMap();
		defaultHeadFileMap=new HashMap();
		unreadHeadFileMap=new HashMap();
		try{
			
			
			fis=PreReadHead.class.getClassLoader().getResourceAsStream("config.property");
			prop.load(fis);
			//头文件路径定义
			headFileMap.put("bcpHeadFilePath", prop.getProperty("BCPHeadFile"));
			headFileMap.put("busiHeadFilePath", prop.getProperty("BusiHeadFile"));
			headFileMap.put("servHeadFilePath", prop.getProperty("ServerHeadFile"));
			//主路径定义
			mainPathMap.put("bcpMainPath", prop.getProperty("BcpMainPath"));
			mainPathMap.put("busiMainPath", prop.getProperty("BusiMainPath"));
			mainPathMap.put("servMainPath", prop.getProperty("ServerMainPath"));
			//默认定义加载头文件定义
			defaultHeadFileMap.put("bcpDefaultHeadFileMap", prop.getProperty("BcpDefaultHeadFileMap"));
			defaultHeadFileMap.put("busiDefaultHeadFileMap", prop.getProperty("BusiDefaultHeadFileMap"));
			defaultHeadFileMap.put("servDefaultHeadFileMap", prop.getProperty("ServerDefaultHeadFileMap"));
			//文件类型
			fileTypeMap.put("bcpFileType", prop.getProperty("BcpFileType"));
			fileTypeMap.put("busiFileType", prop.getProperty("BusiFileType"));
			fileTypeMap.put("servFileType", prop.getProperty("ServerFileType"));
			

			String[] unreadHeadFile=prop.getProperty("UnreadHeadFile").split(";");
			for(int i=0;i<unreadHeadFile.length;i+=1){
				unreadHeadFileMap.put(unreadHeadFile[i],"");
			}
			
			url=prop.getProperty("URL");
			un=prop.getProperty("UseName");
			pw=prop.getProperty("Password");
			
		}catch(IOException e){
			e.printStackTrace();
		}finally{
			try{fis.close();}catch(Exception e){e.printStackTrace();}
		}
	}
	static{
		load();
	}
	
	
}
