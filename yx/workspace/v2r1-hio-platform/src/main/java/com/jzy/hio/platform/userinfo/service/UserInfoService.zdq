package com.jzy.hio.platform.userinfo.service;

import java.util.List;
import java.util.Map;

import com.jzy.hio.base.anno.TargetUserInfo;
import com.jzy.hio.base.service.BaseService;
import com.jzy.hio.entity.UserInfo;
import com.jzy.hio.exception.HioException;
import com.jzy.hio.platform.dto.userinfo.ImUserInfoDto;
import com.jzy.hio.platform.userinfo.mode.LoginUserInfoDto;
import com.jzy.hio.platform.userinfo.param.UserInfoParam;
import com.jzy.hio.springmvc.ApiResponse;

/**
 * 应用管理
 * 
 * @author chc<br/>
 * 		2018年3月23日
 */
public interface UserInfoService extends BaseService<UserInfo> {

	@TargetUserInfo
	public List<ImUserInfoDto> queryList() throws HioException;
	
	public ImUserInfoDto getUserInfoById(String id) throws HioException;
	
	public ImUserInfoDto getUserInfoByMap(Map<String,Object> map) throws HioException;
	
	public LoginUserInfoDto getLoginUserInfoByMap(Map<String,Object> map) throws HioException;
	
	/**
	 * 根据手机是否存在此用户 true占用，false未占用
	 * @param mobile
	 * @return
	 */
	boolean findMobile(String mobile);
	
	/**
	 * 根据id查找用户
	 * @param id
	 * @return
	 */
	UserInfo findById(String id);
	
	/**
	 * 获取用户的简单信息
	 * @param userParam
	 * @return
	 * @throws Exception
	 */
	ApiResponse<Object> getSimpleDto(UserInfoParam userParam) throws Exception;
	
	/**
	 * fid是否是uid的好友
	 * @param uid
	 * @param fid
	 * @return
	 */
	public boolean isFriend(String uid,String fid);
	
	/**
	 * 租户列表排序  倒序
	 * @param tendUserMap
	 * @return
	 * @throws Exception
	 */
	List<Map<String, Object>> getTendListByUserId(Map<String, String> tendUserMap) throws Exception;

	/**
	 * 根据手机号查询用户信息
	 * @param mobile
	 * @return
	 */
	public UserInfo getUserInfoByMobile(String mobile);

	/**
	 * 检查是否可以发消息
	 * @param uid
	 * @param fid
	 * @return
	 */
	public int checkIsSendMessage(String uid,String fid) throws Exception;

	/**
	 * 修改手机号
	 * @param paramMap
	 * @return
	 * @throws Exception
	 */
	public ApiResponse<Void> updPhoneNo(Map<String, Object> paramMap)throws Exception;
	/**
	 * 环信账号互踢
	 * @param xhUserName
	 * @return
	 * @throws Exception
	 */
	public void logoutHX(String xhUserName);
}
