/**
 * 
 */
package com.jzy.hio.platform.running.mapper;

import java.util.List;

import org.apache.ibatis.annotations.Param;

import com.jzy.hio.base.mapper.BaseMapper;
import com.jzy.hio.entity.RunningDayStatistics;
import com.jzy.hio.entity.RunningMonthStatistics;

/**
 * @author 马长习
 * @date 2017年10月31日
 */
public interface RunningStatisticsMapper extends BaseMapper<RunningDayStatistics>{

	/**
	 * 设置运动是否公开
	 * @param enterpriseId
	 * @param uid
	 * @param openType
	 */
	void setRunningOpen(@Param("enterpriseId")String enterpriseId, @Param("uid")String uid, @Param("openRun")int openType);
	
	/**
	 * 查询历史排行榜
	 * @param enterpriseId
	 * @param runDate
	 * @return
	 */
	List<RunningDayStatistics> findHistoryRunningRanking(@Param("enterpriseId")String enterpriseId, @Param("runDate")String runDate);
	
	/**
	 * 获取每天的运动记录
	 * @param enterpriseId
	 * @param uid
	 * @param pageNo
	 * @param pageSize
	 * @return
	 */
	List<RunningDayStatistics> findRunStatisticsByDay(@Param("enterpriseId")String enterpriseId, @Param("uid")String uid);
	
	/**
	 * 获取每月的运动记录
	 * @param enterpriseId
	 * @param uid
	 * @param pageNo
	 * @param pageSize
	 * @return
	 */
	List<RunningMonthStatistics> findRunStatisticsByMonth(@Param("enterpriseId")String enterpriseId, @Param("uid")String uid);
	
	/**
	 * 查询人员某个月的运动步数
	 * @param enterpriseId
	 * @param uid
	 * @param runMonth
	 * @return
	 */
	Integer findRunStepsByMonth(@Param("enterpriseId")String enterpriseId, @Param("uid")String uid, @Param("runMonth")String runMonth);

	/**
	 * 查询人员某个月的运动获得的赞
	 * @param enterpriseId
	 * @param uid
	 * @param runMonth
	 * @return
	 */
	Integer findPraiseCountByMonth(@Param("enterpriseId")String enterpriseId, @Param("uid")String uid, @Param("runMonth")String runMonth);

	/**
	 * 查询人员某个月的运动公里数
	 * @param enterpriseId
	 * @param uid
	 * @param runMonth
	 * @return
	 */
	Integer findRunKilometreByMonth(@Param("enterpriseId")String enterpriseId, @Param("uid")String uid, @Param("runMonth")String runMonth);

	/**
	 * 查询时间段内的运动记录
	 * @param enterpriseId
	 * @param uid
	 * @param startDate
	 * @param endDate
	 * @return
	 */
	List<RunningDayStatistics> findRunSteps(@Param("enterpriseId")String enterpriseId, @Param("uid")String uid, @Param("startDate")String startDate, @Param("endDate")String endDate);

	/**
	 * 查询个人历史运动详情
	 * @param enterpriseId
	 * @param uid
	 * @param runDate
	 * @return
	 */
	RunningDayStatistics findRunningByRunDate(@Param("enterpriseId")String enterpriseId, @Param("uid")String uid, @Param("runDate")String runDate);

	/**
	 * 查询历史运动冠军
	 * @param enterpriseId
	 * @param runDate
	 * @return
	 */
	RunningDayStatistics findRunningChampion(@Param("enterpriseId")String enterpriseId, @Param("runDate")String runDate);

	/**
	 * 更新点赞数，加1
	 * @param enterpriseId
	 * @param uid
	 * @param runDate
	 */
	void updateRunningPraise(@Param("enterpriseId")String enterpriseId, @Param("uid")String uid, @Param("runDate")String runDate);

	/**
	 * 删除运动天表中6个月前的运动记录
	 * @param runMonth
	 */
	void deleteRunSteps(String runMonth);
}
