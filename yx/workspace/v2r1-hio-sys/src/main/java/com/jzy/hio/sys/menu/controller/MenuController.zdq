package com.jzy.hio.sys.menu.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.jzy.hio.base.controller.BaseSysController;
import com.jzy.hio.sys.menu.service.MenuService;
import com.jzy.hio.sys.role.dto.RoleMenuDto;

/**
 * 菜单
 * 
 * @author wt.coffee
 * @date 2018年5月16日下午4:50:32
 */
@RestController
@RequestMapping("/menu")
public class MenuController extends BaseSysController {

	@Autowired
	private MenuService menuService;

	/**
	 * queryMenuWithRole2代替
	 * @return
	 */
	@Deprecated
	@PostMapping("/queryMenuWithRole")
	public List<RoleMenuDto> queryMenuWithRole() {
		String userId = getUserIdOA();
		String tendId = getTendId();
		List<RoleMenuDto> items = menuService.queryMenuWithRole(tendId, userId);
		return items;
	}

	@PostMapping("/queryMenuWithRole2")
	public List<RoleMenuDto> queryMenuWithRole2(String tendId, String userId) {
		List<RoleMenuDto> items = menuService.queryMenuWithRole(tendId, userId);
		return items;
	}
}
