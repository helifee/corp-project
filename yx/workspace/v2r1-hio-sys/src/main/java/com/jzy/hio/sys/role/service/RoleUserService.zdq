package com.jzy.hio.sys.role.service;

import java.util.List;
import java.util.Map;

import com.jzy.hio.annotation.DataSource;
import com.jzy.hio.base.service.BaseSysService;
import com.jzy.hio.entity.OaSysRoleUser;
import com.jzy.hio.sys.role.dto.RoleUserDto;

/**
 * 角色组下面的用户
 *
 * @author wt.coffee<br />
 *         2018年3月12日下午4:53:25
 */
public interface RoleUserService extends BaseSysService<OaSysRoleUser> {

	/**
	 * 新增角色下的用户
	 *
	 * @param tendId
	 * @param users
	 * @return
	 */
	public int saveAppendRoleUser(String tendId, List<OaSysRoleUser> users);

	int saveBatch(@DataSource String tendId, List<OaSysRoleUser> users);

	/**
	 * 给用户赋予权限--替换(之前的权限删除)
	 *
	 * @param roleUserId
	 * @param roleIds
	 *            只保留新赋予的权限
	 * @return
	 */
	public Object saveReplaceRoleUser(String tendId, String roleUserId, String roleIds);

	/**
	 * 给用户赋予权限--追加(之前的权限还在)
	 *
	 * @param tendId
	 * @param userId
	 * @param roleId
	 * @return 返回主键
	 */
	public int saveAppendRoleUser(String tendId, String userId, String roleIds, boolean isPusys);

	/**
	 * 删除该角色下的所有roleUser
	 *
	 * @param roleId
	 * @return
	 */
	public int deleteByRoleId(String roleId);

	/**
	 * 员工离职、删除所有角色角色
	 *
	 * @param userId
	 * @return
	 */
	public int deleteByUserId(String tendId, String userId);

	/**
	 * 根据角色id和userId删除记录
	 *
	 * @param roleId
	 * @param userId
	 * @return
	 */
	public int deleteByRoleIdAndUserId(String roleId, String userId);

	/**
	 * 查询该角色下的用户是否存在
	 *
	 * @param roleId
	 * @return
	 */
	public boolean queryIsExists(String roleId, String userId);

	/**
	 * 跨库查询 -- 指定的用户是否是roleId
	 * 
	 * @param tendId
	 * @param userId
	 * @return
	 */
	public boolean queryIsSuper(String tendId, String userId);

	public List<RoleUserDto> queryRoleUsers(String tendId, String roleId);

	/**
	 * 查询用户所有的角色
	 *
	 * @param userId
	 * @return
	 */
	List<OaSysRoleUser> queryRoleUsersByUserId(String tendId, String userId);

	public List<RoleUserDto> queryRoleUsers(Map<String, Object> paramMap);

	public List<RoleUserDto> queryRoleUserByMenuCode(String menuCode);

	boolean queryUserCanDelete(String tendId, String userId);

	boolean querySuperIsCanDelete(String tendId, String userId);
}
