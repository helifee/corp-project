package com.jzy.hio.sys.external.service;

import com.jzy.hio.base.service.BaseSysService;
import com.jzy.hio.entity.OaSysExternalShare;
import com.jzy.hio.sys.external.param.ExternalManagerParam;
import com.jzy.hio.sys.user.dto.IMUserDetailInfoDto;

import java.util.List;
import java.util.Map;

/**
 * 外部联系人--负责人、共享人
 * 
 * @author wt.coffee
 * @date 2018年4月2日下午8:21:52
 */
public interface ExternalShareService extends BaseSysService<OaSysExternalShare> {

	/**
	 * 设置外部联系人的负责人
	 * 
	 * @param contactId
	 *            外部联系人ID
	 * @param shareId
	 *            负责人ID
	 * @return
	 */
	public int saveManager(String tendId, String contactId, String shareId);

	/**
	 * 设置外部联系人的共享者
	 * 
	 * @param list
	 */
	public void saveOrUpdateShare(String tendId, List<OaSysExternalShare> list);

	int save(String tendId, OaSysExternalShare oaSysExternalShare);

	/**
	 * 通过外部联系人id查询 所有有关系的同事
	 * 
	 * @param tendId
	 * @param externalContactId
	 * @param mysqlExternalManager
	 * @return
	 */
	List<IMUserDetailInfoDto.UserManagerDto> queryOaUserListByType(String tendId, String externalContactId, Integer mysqlExternalManager);

	public OaSysExternalShare queryByExampleMap(String tendId, Map<String, Object> map);

	/**
	 * 更新共享人
	 * @param tendId
	 * @param oaSysExternalId
	 * @param shareUsers
	 * @param deleteEsIds
	 */
    void updateShares(String tendId, String oaSysExternalId,List<String> shareUsers,List<String> deleteEsIds);

	/**
	 * 外部联系人负责人更改
	 * @param tendId
	 * @param apiParam
	 */
	void saveOrUpdateManager(String tendId, ExternalManagerParam apiParam);

	OaSysExternalShare queryManagerByContactId(String tendId, String id);

    boolean queryUserIsRelation(String tendId,String sourceUserId, String targetUserId);
}
