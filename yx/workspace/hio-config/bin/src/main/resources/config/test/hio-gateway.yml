info:
  version: "v2"
  name: "hio"
management:
 security:
  enabled: false #不认证，解决关于springboot-actuator监控的401无权限访问
server:
  port: 9999
  tomcat:
    accept-count: 1000
    max-threads: 1000 #最大线程数
    min-spare-threads: 64 #最小线程数
    max-connections: 2000
  connection-timeout: 60000 #设置tomcat连接超时时间
spring:
  application:
    name: hio-api-gateway
  sleuth:
   sampler:
     percentage: 1.0 #加快收集效率
  cloud:   #错误重试开启
    loadbalancer:
      retry:
        enabled: true
#每个服务超时时间
#断路器默认时间10秒
hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 60000  #断路器超时时间
#ribbon超时时间
ribbon:
    ConnectTimeout: 60000
    ReadTimeout: 60000
    MaxAutoRetries: 1  #重试次数
    MaxAutoRetriesNextServer: 2 #重试服务次数
    OkToRetryOnAllOperations: false #所有请求都开启重试
zuul:
  retryable: true #开始重试
  prefix: /platform-app #配置统一前缀
  routes:
    FlowService:
       strip-prefix: false
       path: /flow/**
       serviceId: FlowService
    SysService:
      strip-prefix: false
      path: /sys/**
      serviceId: SysService
    PortalService:
        #strip-prefix: false
        path: /oa/**
        serviceId: PortalService
    HrService:
       strip-prefix: false
       path: /hr/**
       serviceId: HrService
    SearchService:
       strip-prefix: false
       path: /univ/**
       serviceId: SearchService
  add-host-header: true #解决重定向问题
  sensitive-headers: true #解决cookie与头信息不会传递到下游的外部服务器 cookie在默认网关是不会传递的