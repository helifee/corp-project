<template>
    <div class="communication-wrap">
        <!--æŸ¥è¯¢æ¡ä»¶-->
        <div class="project-search">
            <!--æ£€ç´¢å†…å®¹-->
            <el-form :inline="true" :model="searchForm" :rules="searchRules" ref="searchForm">
                <el-form-item label=" æŸ¥è¯¢æ¡ä»¶ï¼š" prop="searchVal">
                    <el-input v-model="searchForm.searchVal" placeholder="è¯·è¾“å…¥å…³é”®è¯è¿›è¡Œæ£€ç´¢" style="width: 240px"></el-input>
                </el-form-item>
                <el-form-item>
                    <el-button type="primary" @click="search">æŸ¥è¯¢</el-button>
                    <el-button @click="resetForm('searchForm')">é‡ç½®</el-button>
                </el-form-item>
                <el-form-item>

                </el-form-item>
            </el-form>

        </div>
        <!--è¡¨æ ¼-->
        <el-table
                :data="tableData"
                style="width: 100%;text-align: center"
                :header-cell-style="{'text-align':'center'}">
            <el-table-column
                    prop="sender"
                    label="å‘é€äºº"
                    width="180">
            </el-table-column>
            <el-table-column
                    prop="sendContent"
                    label="å‘é€å†…å®¹"
                    width="600">

                <template slot-scope="scope">
                    <el-popover trigger="hover" placement="top">
                        <p style="width: 300px">å§“å: {{ scope.row.sendContent }}</p>
                        <div slot="reference" class="name-wrapper">
                           {{ scope.row.sendContent }}
                        </div>
                    </el-popover>
                </template>
            </el-table-column>
            <el-table-column
                    prop="sendTime"
                    label="å‘é€æ—¶é—´">
            </el-table-column>
            <el-table-column
                    prop="enclosure"
                    label="">
            </el-table-column>
        </el-table>
    </div>
</template>
<script>

    export default {
        components: {

        },
        data() {
            return {

                tableData: [{
                    sender: 'å¼ ä¸‰111',
                    sendContent: 'å‘é€å†…å®¹å•Šå•Šå•Šé˜¿æ–¯é¡¿æ’’ç‚¹å¼€å§‹ä½ å¤±è´¥å®¢æˆ·å°±æ˜¯æŠŠä½ ä¸¾é«˜ç§‘æŠ€ç¯ä¿è‹¦ä¸èŒ¶',
                    sendTime: '2016-05-04 15:23:34',
                    enclosure: 'ğŸ“'
                },{
                    sender: 'å¼ ä¸‰111',
                    sendContent: 'å‘é€å†…å®¹å•Šå•Šå•Šé˜¿æ–¯é¡¿æ’’ç‚¹å¼€å§‹ä½ å¤±è´¥å®¢æˆ·å°±æ˜¯æŠŠä½ ä¸¾é«˜ç§‘æŠ€ç¯ä¿è‹¦ä¸èŒ¶',
                    sendTime: '2016-05-04 15:23:34',
                    enclosure: 'ğŸ“'
                },{
                    sender: 'å¼ ä¸‰111',
                    sendContent: 'å‘é€å†…å®¹å•Šå•Šå•Šé˜¿æ–¯é¡¿æ’’ç‚¹å¼€å§‹ä½ å¤±è´¥å®¢æˆ·å°±æ˜¯æŠŠä½ ä¸¾é«˜ç§‘æŠ€ç¯ä¿è‹¦ä¸èŒ¶',
                    sendTime: '2016-05-04 15:23:34',
                    enclosure: 'ğŸ“'
                },{
                    sender: 'å¼ ä¸‰111',
                    sendContent: 'å‘é€å†…å®¹å•Šå•Šå•Šé˜¿æ–¯é¡¿æ’’ç‚¹å¼€å§‹ä½ å¤±è´¥å®¢æˆ·å°±æ˜¯æŠŠä½ ä¸¾é«˜ç§‘æŠ€ç¯ä¿è‹¦ä¸èŒ¶',
                    sendTime: '2016-05-04 15:23:34',
                    enclosure: 'ğŸ“'
                },],

                searchForm:{
                    searchVal:''
                },
                searchRules:{
                    searchVal: [
                        { required: false, message: 'è¯·è¾“å…¥æ£€ç´¢å†…å®¹', trigger: 'blur' },
                        { min: 1, max: 20, message: 'é•¿åº¦åœ¨ 1 åˆ° 20 ä¸ªå­—ç¬¦', trigger: 'blur' }
                    ]
                },
            }
        },
        props: [],
        computed: {

        },
        filters:{
        },
        methods: {
            resetForm(formName) {
                console.log(this.$refs)
                this.$refs[formName].resetFields();
            },
            search (){
                console.log(this.$refs)
                console.log(this.searchForm.searchVal)
            },

        },
        watch: {
        }
    }
</script>
<style rel="stylesheet/scss" lang="scss" scoped>
    /*ä»»åŠ¡*/
    .communication-wrap{
        .name-wrapper{
            width: 500px;
            overflow: hidden;
            text-overflow:ellipsis;
            white-space: nowrap;
        }
    }

</style>
