<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>试卷管理</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <script src="../../common/common.css.js"></script>
    <link rel="styleSheet" href="../../organization_list.css">
</head>
<style>
    .tit-box .more > .btn {
        background: #fff;
    }

    .ui-jqgrid tr.jqgrow td {
        white-space: normal !important;
        height: auto;
        vertical-align: text-top;
        padding-top: 2px;
    }
    .table td{
        border: 1px dotted #E1E1E1;
    }

</style>
<body class="hold-transition skin-blue sidebar-mini">
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="row">
                <div class="col-md-2 slide-left">
                    <div class="tit-box clearfix">
                        <div class="pull-right">
                            <button class="btn btn-default btn-sm" type="button"  onclick="openNewWindow('tls_paper_add.html')">新增</button>
                            <button class="btn btn-default btn-sm" type="button" onclick="deleteRecord()">删除</button>
                        </div>
                    </div>
                    <div class="ztree-box" tabindex="5004" style=" overflow: hidden; outline: none;">
                        <ul id="treeDemo" class="ztree">
                            <li id="treeDemo_1" class="level0" tabindex="0" hidefocus="true" treenode=""><span
                                    id="treeDemo_1_switch" title="" class="button level0 switch noline_open"
                                    treenode_switch=""></span><a
                                    id="treeDemo_1_a" class="level0" treenode_a=""
                                    onclick="" target="_blank"
                                    style="color:#333;font-weight:normal;font-style:normal;"
                                    title="试卷"><span id="treeDemo_1_ico" title=""
                                                     treenode_ico=""
                                                     class="button diy-group_ico_open"
                                                     style=""></span><span
                                    id="treeDemo_1_span" class="node_name">试卷</span></a>
                                <ul id="treeDemo_1_ul" class="level0 ">
                                    <li id="treeDemo_2" class="level1" tabindex="0" hidefocus="true" treenode=""><a
                                            id="treeDemo_2_a" class="level1" treenode_a=""
                                            onclick="" target="_blank"
                                            style="color:#333;font-weight:normal;font-style:normal;"
                                            title="入职培训考试"><span id="treeDemo_2_ico"
                                                                 title=""
                                                                 treenode_ico=""
                                                                 class="button diy-company_ico_close"
                                                                 style=""></span><span
                                            id="treeDemo_2_span" class="node_name">入职培训考试</span></a></li>
                                    <li id="treeDemo_26" class="level1" tabindex="0" hidefocus="true" treenode=""><a
                                            id="treeDemo_26_a" class="level1" treenode_a=""
                                            onclick="" target="_blank"
                                            style="color:#333;font-weight:normal;font-style:normal;"
                                            title="招采系统操作使用考试"><span id="treeDemo_26_ico"
                                                                     title="" treenode_ico=""
                                                                     class="button diy-company_ico_close"
                                                                     style=""></span><span
                                            id="treeDemo_26_span" class="node_name">招采系统操作使用考试</span></a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="col-md-10 right-content pdrh0">
                    <!--班次信息-->

                    <div class="con-table" id="userDiv" style="display:block;">
                    <!--基本信息-->
                    <div class="user-list" id="shiftsBasicList" style="background-color: #F0F0F0">
                        <span><span class="org-icons list-icon"></span><span class="tit">基本信息</span></span>
                        <div class="my-btn-group">

                            <!--<button class="btn btn-default" data-toggle="modal" data-target="#treeModa2" onclick="add()">新增试卷</button>-->
                            <!--<button class="btn btn-default" onclick="openNewWindow('ojt_paper_add.html')">新增试卷-->
                            <!--</button>-->
                            <!--<button class="btn btn-default" onclick="deleteRecord()">删除试卷</button>-->
                            <button class="btn btn-default" data-toggle="modal" data-target="#treeModal"
                                    onclick="add()">增加试题
                            </button>
                            <button class="btn btn-default" onclick="deleteRecord()">删除试题</button>
                            <button class="btn btn-default" onclick="save()">保存</button>
                            <button class="btn btn-default">取消</button>
                            <button class="btn btn-default" onclick="paperPreview()">预览试卷</button>

                        </div>
                    </div>
                    <div class="container-fluid">
                        <div class="row">
                            <div>
                                <input type="hidden" name="operationType" id="operationType"/>
                                <input type="hidden" name="contentTypeId" id="contentTypeId"/>
                                <div class="xj-form-content">
                                    <table class="table" style="border: 1px solid #ddd" id="paperBasic">
                                        <tbody>
                                        <tr class="form-tr">
                                            <td class="form-label"><label><span class='req_f'></span>试卷名称 :</label></td>
                                            <td>
                                                <input type="text" class="form-control" id="name"
                                                       name="address"
                                                       data-required="true" data-placeholder="试卷名称"
                                                       value="入职培训考试"/>
                                                <input type="hidden" class="form-control" id="id" name="id"/>
                                            </td>
                                            <td class="form-label"><label><span class='req_f'></span>考试时间 :</label></td>
                                            <td>
                                                <input type="text" class="form-control addInputWidth" id="name"
                                                       name="address"
                                                       data-required="true" data-placeholder="考试时间"
                                                       value="90.0"/>
                                                <input type="hidden" class="form-control" id="id" name="id"/>
                                            </td>

                                            <td class="form-label"><label><span class='req_f'></span>试卷分数 :</label></td>
                                            <td><input type="text" class="form-control addInputWidth"
                                                       data-required="true" id="code"
                                                       data-placeholder="试卷分数" name="range" value="100"></td>

                                        </tr>
                                        <tr class="form-tr">
                                            <td class="form-label"><label><span class='req_f'></span>通过分数 :</label></td>
                                            <td><input type="text" class="form-control addInputWidth"
                                                       data-required="true" id="code"
                                                       data-placeholder="通过分数" name="range" value="60"></td>

                                            <td class="form-label"><label><span class='req_f'></span>试卷分类 :</label></td>
                                            <td>
                                                <select name="" id="id1" class="form-control">
                                                    <option>人力资源类</option>
                                                    <option>信息类</option>
                                                    <option>财务类</option>
                                                </select>
                                            </td>
                                            <td class="form-label"><label><span class='req_f'></span>所属机构 :</label></td>
                                            <td>
                                                <input type="text" class="form-control addInputWidth" id="name"
                                                       name="address"
                                                       data-required="true" data-placeholder="所属机构"
                                                       value="鑫苑(中国)/鑫苑总部/人力资源部"/>
                                                <input type="hidden" class="form-control" id="id" name="id"/>
                                            </td>

                                        </tr>
                                        <tr class="form-tr">
                                            <td class="form-label"><label><span class='req_f'></span>是否公开 :</label></td>
                                            <td>
                                                <!--<input class="form-control" type="radio" id="yes" name="yes" />是-->
                                                <!--<input class="form-control" type="radio" id="no" name="no"/>否-->
                                                <input type="radio" id="yes" name="a" style="m"/><span style="margin-right: 80px">是</span>
                                                <input type="radio" id="no" name="a"/>否
                                            </td>
                                            <td class="form-label"><label><span class='req_f'></span>试卷状态 :</label></td>
                                            <td>
                                                <select name="" id="id1" class="form-control">
                                                    <option>草稿</option>
                                                    <option>有效</option>
                                                </select>
                                            </td>
                                            <td class="form-label"></td>
                                            <td>
                                            </td>
                                        </tr>
                                        <tr class="form-tr">
                                            <td class="form-label"><label><span class='req_f'></span>试卷说明 :</label></td>
                                            <td colspan="5">
                                                <textarea class="form-control" rows="6" style="width: 100%;resize: none"></textarea>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--试卷设置-->
                    <div class="user-list" id="paperSetList" style="background-color: #F0F0F0">
                        <div class="my-btn-group">
                            <button class="btn btn-default" onclick="save()">保存</button>
                            <!--<button class="btn btn-default">取消</button>-->
                        </div>
                        <span><span class="org-icons list-icon"></span><span class="tit">试卷设置</span></span>

                    </div>
                    <div class="mytable tableStyle">
                        <table id="listPaperSet"></table>
                    </div>

                    <!--试题信息-->
                    <div class="user-list" id="shiftsPeriodList" style="background-color: #F0F0F0">
                        <span><span class="org-icons list-icon"></span><span class="tit">试题信息</span></span>

                    </div>
                    <div class="mytable tableStyle">
                        <table id="listTheme"></table>
                    </div>
                </div>


                </div>
            </div>
        </div>
    </div>
</div>
<div>

</div>

<!--treeModal-->
<div class="modal fade" id="treeModal" tabindex="-1" role="dialog" aria-labelledby="treeModalLabel">
    <div class="modal-dialog modal-grid" role="document">
        <div class="modal-content">
            <div class="modal-header">
                试题分类：<select style="width: 120px;display: inline" class="form-control">
                <option>人力资源类</option>
                <option>财务类</option>
                <option>信息类</option>
            </select>

                试题类型：<select style="width: 120px;display: inline" class="form-control">
                <option>单选题</option>
                <option>多选题</option>
                <option>填空题</option>
                <!--<option>问答题</option>-->
            </select>
                <button class="btn btn-sm blue pull-right mr20" data-dismiss="modal">取消</button>
                <button class="btn btn-sm blue pull-right mr20" data-dismiss="modal">确定</button>
            </div>
            <div class="modal-body">

                <div class="mytable tableStyle" style="width: 839px">
                    <table id="listUser_px"></table>
                </div>
            </div>
        </div>
    </div>
</div>
<!--treeModal-->

<!--treeModal结束-->
<div class="modal fade" id="treeModa2" tabindex="-1" role="dialog" aria-labelledby="treeModalLabel">
    <div class="modal-dialog modal-grid" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>

                <button class="btn btn-sm blue pull-right mr20" data-dismiss="modal">保存</button>
                <button class="btn btn-sm blue pull-right mr20" data-dismiss="modal">关闭</button>
            </div>

            <div class="xj-form-tab mt20 container-fluid">
                <div class="row">
                    <div class="col-md-3">
                        <i class="fa fa-list addBlue" aria-hidden="true"></i>
                        <span class="form-title">新增试卷</span>
                    </div>
                </div>
            </div>


            <div class="modal-body">
                <div class="xj-form-content">
                    <table class="table table-bordered">
                        <tbody>
                        <tr class="form-tr">
                            <td class="form-label"><label><span class='req_f'></span>试卷名称 :</label></td>
                            <td>
                                <input type="text" class="form-control addInputWidth" id="name"
                                       name="address"
                                       data-required="true" data-placeholder="试卷名称"
                                       value=""/>
                                <input type="hidden" class="form-control" id="id" name="id"/>
                            </td>
                            <td class="form-label"><label><span class='req_f'></span>试卷分数 :</label></td>
                            <td><input type="text" class="form-control addInputWidth"
                                       data-required="true" id="code"
                                       data-placeholder="试卷分数" name="range" value=""></td>
                        </tr>
                        <tr class="form-tr">
                            <td class="form-label"><label><span class='req_f'></span>考试时间 :</label></td>
                            <td>
                                <input type="text" class="form-control addInputWidth" id="name"
                                       name="address"
                                       data-required="true" data-placeholder="考试时间"
                                       value=""/>
                                <input type="hidden" class="form-control" id="id" name="id"/>
                            </td>
                            <td class="form-label"><label><span class='req_f'></span>试卷分类 :</label></td>
                            <td>
                                <select name="" id="id1" class="form-control">
                                    <option>人力资源类</option>
                                    <option>信息类</option>
                                    <option>财务类</option>
                                </select>
                            </td>
                        </tr>
                        <tr class="form-tr">
                            <td class="form-label"><label><span class='req_f'></span>所属机构 :</label></td>
                            <td>
                                <input type="text" class="form-control addInputWidth" id="name"
                                       name="address"
                                       data-required="true" data-placeholder="所属机构"
                                       value=""/>
                                <input type="hidden" class="form-control" id="id" name="id"/>
                            </td>
                            <td class="form-label"><label><span class='req_f'></span>是否公开 :</label></td>
                            <td>
                                <!--<input class="form-control" type="radio" id="yes" name="yes" />是-->
                                <!--<input class="form-control" type="radio" id="no" name="no"/>否-->
                                <input type="radio" id="yes" name="yes"/>是
                                <input type="radio" id="no" name="no"/>否
                            </td>
                        </tr>
                        <tr class="form-tr">
                            <td class="form-label"><label><span class='req_f'></span>试卷状态 :</label></td>
                            <td>
                                <select name="" id="id1" class="form-control">
                                    <option>草稿</option>
                                    <option>有效</option>
                                </select>
                            </td>
                        </tr>
                        <tr class="form-tr">
                            <td class="form-label"><label><span class='req_f'></span>试卷说明 :</label></td>
                            <td colspan="3">
                                <textarea rows="4" cols="120" class="form-control textAreaWindth textAreaInput" id="" name="ip"></textarea>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!--treeModal结束-->
<input type="hidden" id="judge" value="1">
<script src="../../common/common_hr.js"></script>
<script src="tls_list.js"></script>
<script type="text/javascript">
    function save() {
        pop_tip_open("blue","操作成功！");
    }
    function deleteRecord() {
        pop_text_open("blue", '是否确定删除？', function () {
            pop_tip_open("blue", "删除成功！");
        }, function () {
        });
    }
    function add() {
        if (a == "1") {
            initJqGridUser_px();
        }
        $("#judge").val("2");
    }

    function paperPreview() {
        window.open('tls_paper_preview.html');
    }
    /**
     * 打开新窗口
     */
    function openNewWindow(src) {
        window.open(src, 'width=' + (window.screen.availWidth - 180) + ',height=' + (window.screen.availHeight - 160) + ',top=40, left=90');
    }

    $('.btn').click(function(e) {
        e.preventDefault();
    });


    //计算高度
    function resizeHeight(){
        //左侧  头部底部为60px  title类 为50px
        var w_h = $(window).height();
        $(".slide-left .ztree-box").height((w_h-80)+"px");
        //右侧table
        $(".con-table .mytable").height((w_h-180)/2+"px");
    }
    //计算表格宽度
    function resizeGrid(){
        $(".ui-jqgrid-bdiv table").jqGrid().setGridHeight($('.mytable').height()-45);
        $(".ui-jqgrid-bdiv table").jqGrid().setGridWidth($('.mytable').width(), true);
        $.xljUtils.gridResizeFn();
    }
    //grid 自适应宽度
    $(window).resize(function(){
        resizeHeight();
        resizeGrid();
    });

    $(function () {
        resizeHeight();
        resizeGrid();
        setTimeout(function(){
            $.xljUtils.addTreeScroll();
            $.xljUtils.treeResizeFn();
        },300);
    });
</script>

</body>
</html>
