<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>预警设置</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <script src="../../common/common.css.js"></script>
    <link href="../../common/custom/css/index.css">
    <style>
        .ui-jqgrid tr.jqgrow td {
            white-space: normal !important;
            height: auto;
            vertical-align: text-top;
            padding-top: 2px;
        }

        .red {
            color: red;
        }
        .form-label label{margin: 0px !important}
    </style>
</head>
<body>
<div class="container-fluid xj-font" style="overflow: hidden">
    <div class="row">
        <div class="col-md-12">
            <div class="row">
            <div class="col-md-2 slide-left">
                <div class="tit-box clearfix">
                    <span class="tit pull-left">预警消息列表</span>
                    <div class="pull-right">
                        <button class="btn btn-default btn-sm my-search-btn" id="searchTreeBtn"
                                data-toggle="collapse" href="#searchBox" aria-expanded="true"
                                aria-controls="searchBox">查询
                        </button>
                        <button class="btn btn-default btn-sm" id="addBtn">新增</button>
                        <button class="btn btn-default btn-sm" id="del">删除</button>
                    </div>
                </div>
                <div class="searchBox clearfix collapse" id="searchBox" aria-expanded="false">
                    <input type="text" class="form-control" id="key" placeholder="请输入消息名称">
                    <button class="btn btn-sm btn-dim" id="searchBtn">
                        <i class="fa fa-search" aria-hidden="true"></i>
                    </button>
                </div>
                <div class="ztree-box">
                    <ul id="treeDemo" class="ztree">
                        <li id="treeDemo_1" class="level0" tabindex="0" hidefocus="true" treenode="">
                        <span id="treeDemo_1_switch" title="" class="button level0 switch noline_open"
                              treenode_switch=""></span>
                            <a id="treeDemo_1_a" class="level0" treenode_a="" onclick="" target="_blank"
                               style="color:#333;font-weight:normal;font-style:normal;" title="预警消息">
                            <span id="treeDemo_1_ico" title="" treenode_ico="" class="button diy-group_ico_open"
                                  style=""></span>
                                <span id="treeDemo_1_span" class="node_name">预警消息</span>
                            </a>
                            <ul id="treeDemo_1_ul" class="level0 ">

                            </ul>
                    </ul>
                </div>
            </div>
            <div class="col-md-10 right-content" style="height: 674px; overflow: scroll;">
                <div class="con-table" id="userDiv" style="display:block;">
                    <form class="form-inline" name="msgSetForm" id="msgSetForm" validate-type="jQueryValidate"
                          data-validate-success="">
                        <input type="hidden" name="id" id="id">
                        <!--底下table-->
                        <div class="xj-form-tab container-fluid">
                            <div class="row">
                                <!--头-->
                                <div class="col-md-3">
                                    <i class="fa fa-list addBlue" aria-hidden="true"></i>
                                    <span class="form-title">预警基本对象</span>
                                </div>
                                <div class="col-md-9" style="text-align: right">
                                    <button class="btn btn-default" id="saveBtn">保存</button>
                                </div>
                            </div>
                        </div>
                        <!--底下table-->
                        <div class="xj-form-content">
                            <table class="table table-bordered">
                                <tbody>
                                <tr class="form-tr">
                                    <td class="form-label"><span class='req_f'></span><label>预警名称</label></td>
                                    <td>
                                        <input type="text" class="form-control addInputWidth" name="name" id="name"
                                               data-required="true" data-placeholder="预警名称" value="">
                                    </td>
                                    <td class="form-label"><span class='req_f'></span><label>预警类型</label></td>
                                    <td>
                                        <div class="input-group form-date">
                                            <input type="text" id="typeValue" name="typeValue"
                                                   class="form-control addInputWidth" readonly="readonly"
                                                   placeholder="选择预警类型"/>
                                            <input type="hidden" id="type" name="type"
                                                   class="form-control addInputWidth"/>
                                            <div class="input-group-addon"><a class="glyphicon glyphicon-remove"
                                                                              id="valueEmpty"></a></div>
                                            <span class="input-group-addon w28">
									    <a class="fa fa-ellipsis-h hr-single-selector" data-selectorType="hrSysCode"
                                           data-treeParam='{"code_set_id":"1144"}'
                                           data-title="选择预警类型" data-savecallback="testCallback1"
                                           data-targetname="typeValue" data-targetId="type">
                                        </a>
								    </span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="form-label">
                                        提前(含)
                                    </td>
                                    <td>
                                        <input name="advanceDate" id="advanceDate" class="form-control"
                                               type="text" data-digits="true" data-max="10000000"
                                               data-placeholder="提前时间"
                                               value="7"/>
                                        <select name="advanceUnit" id="advanceUnit" class="form-control">
                                            <option value="day">天预警</option>
                                            <option value="month">月预警</option>
                                            <option value="year">年预警</option>
                                        </select>
                                    </td>
                                    <td class="form-label">
                                        <span class='req_f'></span><label>预警状态</label>
                                    </td>
                                    <td>
                                        <input type="radio" name="status" value="1" readonly>有效
                                        <input type="radio" name="status" value="0" readonly>无效
                                    </td>
                                </tr>
                                <tr>
                                    <td class="form-label">
                                        <span class='req_f'></span><label>已阅的处理方式</label>
                                    </td>
                                    <td>
                                        <input type="radio" name="readType" value="1" readonly>按钮操作
                                        <input type="radio" name="readType" value="0" readonly>看后即毁
                                    </td>
                                    <td class="form-label">
                                        <span class='req_f'></span><label>业务中自定义提醒范围</label>
                                    </td>
                                    <td>
                                        <input type="radio" name="customScope" value="1" readonly>是，依据业务中的人员查询范围
                                        <input type="radio" name="customScope" value="0" readonly>否,依据配置的提醒范围
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <!--预警显示信息头部-->
                        <div class="xj-form-tab mt20 container-fluid">
                            <div class="row">
                                <!--头-->
                                <div class="col-md-3">
                                    <i class="fa fa-list addBlue" aria-hidden="true"></i>
                                    <span class="form-title">预警显示信息</span>
                                </div>
                            </div>
                        </div>
                        <!--底下table-->
                        <div class="xj-form-content">
                            <table class="table table-bordered">
                                <tbody>
                                <tr class="form-tr">
                                    <td class="form-label"><span
                                            class="red">*注：业务需求设定的消息展示页面的url路径</span><label>展示url路径</label></td>
                                    <td class="form-label">
                                        <textarea class="form-control addInputWidth" name="showUrl"
                                                  id="showUrl"></textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="form-label"><span
                                            class="red">*注：无复杂的业务需求，只做展示文本提醒.会展示默认的提醒页面，将展示文本显示到上面</span><label>展示文本</label>
                                    </td>
                                    <td class="form-label">
                                    <textarea class="form-control addInputWidth" name="showText"
                                              id="showText"></textarea>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <!--预警人员和对象-->
                        <div id="topWidth" class="xj-form-tab mt20 container-fluid">
                            <div class="row">
                                <!--头-->
                                <div class="col-md-3">
                                    <i class="fa fa-list addBlue" aria-hidden="true"></i>
                                    <span class="form-title">预警人员和对象</span>
                                </div>
                            </div>
                        </div>
                        <!--底下table-->
                        <div class="xj-form-content">
                            <table class="table table-bordered">
                                <tbody>
                                <tr class="form-tr">
                                    <td class="form-label"><span class='req_f'></span><label>预警人员类型</label></td>
                                    <td>
                                        <div class="input-group form-date">
                                            <input type="text" id="personTypeValue" name="personTypeValue"
                                                   class="form-control addInputWidth" readonly="readonly"
                                                   placeholder="预警人员类型"/>
                                            <input type="hidden" id="personType" name="personType"
                                                   class="form-control addInputWidth"/>
                                            <div class="input-group-addon">
                                                <a class="glyphicon glyphicon-remove" id="valueEmpty1"></a>
                                            </div>
                                            <span class="input-group-addon w28">
									    <a class="fa fa-ellipsis-h hr-single-selector" data-selectorType="hrSysCode"
                                           data-treeParam='{"code_set_id":"1143"}'
                                           data-title="选择人员类型" data-savecallback="testCallback1"
                                           data-targetname="personTypeValue" data-targetId="personType">
                                        </a>
								    </span>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </form>
                    <!--预警机构范围-->
                    <div class="xj-form-tab mt20 container-fluid">
                        <div class="row">
                            <!--头-->
                            <div class="col-md-3">
                                <i class="fa fa-list addBlue" aria-hidden="true"></i>
                                <span class="form-title">预警机构范围</span>
                            </div>
                            <div class="col-md-9" style="text-align: right">
                                <input type="hidden" name="orgId" id="orgId">
                                <input type="hidden" name="orgName" id="orgName">
                                <button class="btn btn-default btn-sm hr-multiple-selector" type="button"
                                        data-selectorType="org" data-saveCallback="orgCallback" id="addOrgBtn" data-targetId="orgId" data-targetName="orgName">添加机构
                                </button>
                                <button class="btn btn-default btn-sm" type="button" id="delOrgBtn">删除机构</button>
                            </div>
                        </div>
                    </div>
                    <!--底下table-->
                    <div class="con-table">
                        <div class="mytable1 tableStyle">
                            <table id="orgList"></table>
                        </div>
                    </div>
                    <!--预警岗位范围-->
                    <div class="xj-form-tab mt20 container-fluid">
                        <div class="row">
                            <!--头-->
                            <div class="col-md-3">
                                <i class="fa fa-list addBlue" aria-hidden="true"></i>
                                <span class="form-title">预警岗位范围</span>
                            </div>
                            <div class="col-md-9" style="text-align: right">
                                <input type="hidden" name="postId" id="postId">
                                <input type="hidden" name="postName" id="postName">
                                <button class="btn btn-default btn-sm multiple-selector" type="button"
                                        data-selectorType="role"
                                        id="addPostBtn" data-saveCallback="postCallback" data-treeParam="{'type':1}" data-targetId="postId" data-targetName="postName">添加岗位
                                </button>
                                <button class="btn btn-default btn-sm" type="button" id="delPostBtn">删除岗位</button>
                            </div>
                        </div>
                    </div>
                    <!--底下table-->
                    <div class="con-table">
                        <div class="mytable1 tableStyle">
                            <table id="postList"></table>
                        </div>
                    </div>
                    <!--预警人员范围-->
                    <div class="xj-form-tab mt20 container-fluid">
                        <div class="row">
                            <!--头-->
                            <div class="col-md-3">
                                <i class="fa fa-list addBlue" aria-hidden="true"></i>
                                <span class="form-title">预警人员范围</span>
                            </div>
                            <div class="col-md-9" style="text-align: right">
                                <input type="hidden" name="personIds" id="personIds" value="缓存人员ids">
                                <input type="hidden" name="personNames" id="personNames" value="缓存人员名称">
                                <button class="btn btn-default btn-sm hr-multiple-selector" type="button"
                                        data-selectorType="person" data-title="选人" data-savecallback="personCallback" data-targetId="personIds" data-targetName="personNames"
                                        id="addPersonBtn">添加人员
                                </button>
                                <button class="btn btn-default btn-sm" type="button" id="delPersonBtn">删除人员</button>
                            </div>
                        </div>
                    </div>
                    <!--底下table-->
                    <div class="con-table">
                        <div class="mytable1 tableStyle">
                            <table id="personList"></table>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="../../common/common_hr.js"></script>
<script src="sys_msg_set.js"></script>
</html>
