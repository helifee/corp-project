package com.jzy.hio.flow.mapper;

import com.jzy.hio.base.mapper.BaseMapper;
import com.jzy.hio.flow.entity.FlowTemplateAc;
import com.jzy.hio.flow.entity.dto.FlowTemplateAcDto;
import org.apache.ibatis.annotations.Param;

import java.util.List;

public interface FlowTemplateAcDao  extends BaseMapper<FlowTemplateAc> {

	/**
	 *  查询 开始 和网关环节
	 * @param templateId
	 * @return
	 */
	List<FlowTemplateAc> findAcByTemplateId(@Param("templateId")String templateId);

	/**
	 *  获取所有环节  不包括开始和结束 递归使用
	 * @param templateId
	 * @return
	 */
	List<FlowTemplateAc> getListByTemplateId(String templateId);

    /**
     * 查询所有环节
     * @param code
     * @return
     */
    List<FlowTemplateAcDto> getAcList(@Param("code")String code);


    /**
     *  获取线下一个目标
     * @param templateId
     * @param startline
     * @return
     */
    List<FlowTemplateAcDto> findNextNodeByNodeId(@Param("templateId")String templateId,@Param("startline")String startline);

	int updateAcByTemId(String templateId);
}