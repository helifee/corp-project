package com.jzy.hio.flow.mapper;

import java.util.Date;
import java.util.List;

import org.apache.ibatis.annotations.Param;

import com.jzy.hio.base.mapper.BaseMapper;
import com.jzy.hio.flow.entity.FlowFollowInstance;
import com.jzy.hio.flow.entity.dto.ApprovalDto;
import com.jzy.hio.flow.entity.param.ApprovalParam;

public interface FlowFollowInstanceDao extends BaseMapper<FlowFollowInstance> {

	/**
	 * 我关注的列表
	 * 
	 * @param approvalParam
	 * @return
	 */
	List<ApprovalDto> getFollowList(ApprovalParam approvalParam);

	/**
	 * 我关注的列表数量
	 * 
	 * @param approvalParam
	 * @return
	 */
	Integer getCountFollowList(ApprovalParam approvalParam);

	/**
	 * 查询是否关注
	 * 
	 * @param createPerson
	 * @param instanceId
	 * @return
	 */
	FlowFollowInstance findById(@Param("createPerson") String createPerson, @Param("instanceId") String instanceId);

	int updateByInstanceId(FlowFollowInstance flowFollowInstance);

	Integer isMyFollow(@Param("instanceId") String instanceId, @Param("userId") String userId);

	/**
	 * 修改关注对应的流程实例
	 * 
	 * @param id
	 * @param newInstanceId
	 * @return
	 */
	int updateFollowInstanceByInstanceId(@Param("instanceId") String instanceId,
			@Param("newInstanceId") String newInstanceId, @Param("updateDate") Date updateDate);
	
	/**
	 * 根据流程实例ID删除关注
	 * 
	 * @param instanceId
	 * @return
	 */
	int deleteFollowBy(String instanceId);
}