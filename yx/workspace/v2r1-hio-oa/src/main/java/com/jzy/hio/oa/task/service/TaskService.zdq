package com.jzy.hio.oa.task.service;

import java.util.List;

import com.jzy.hio.annotation.DataSource;
import com.jzy.hio.base.anno.TargetIM;
import com.jzy.hio.oa.task.dto.QueryProjectTaskDto;
import com.jzy.hio.oa.task.dto.QueryTaskAuthDto;
import com.jzy.hio.oa.task.dto.QueryTaskDetailsDto;
import com.jzy.hio.oa.task.dto.QueryTaskListDto;
import com.jzy.hio.oa.task.param.CancelFollowParam;
import com.jzy.hio.oa.task.param.DeleteTaskParam;
import com.jzy.hio.oa.task.param.FollowTaskParam;
import com.jzy.hio.oa.task.param.QueryProjectTaskParam;
import com.jzy.hio.oa.task.param.QueryTaskAuthParam;
import com.jzy.hio.oa.task.param.QueryTaskDetailsParam;
import com.jzy.hio.oa.task.param.QueryTaskListParam;
import com.jzy.hio.oa.task.param.SaveTaskParam;
import com.jzy.hio.oa.task.param.UpdateParam;
import com.jzy.hio.oa.task.param.UpdateStatusParam;
import com.jzy.hio.utils.LoginUser;
import com.jzy.hio.utils.Page;

/**
 * 任务
 * @author wdy
 *
 */
public interface TaskService {

	/**
	 * 查询任务id
	 * @return
	 */
	public String queryTaskId();
	
	/**
	 * 查询任务列表
	 * @author wdy
	 *
	 */
	public Page queryTaskList(QueryTaskListParam queryTaskListParam,LoginUser loginUser);
	
	/**
	 * 任务状态变更
	 * @param updateStatusParam
	 * @return
	 */
	public int updateStatus(UpdateStatusParam updateStatusParam,LoginUser loginUser);
	
	/**
	 * 任务删除
	 * @param updateStatusParam
	 * @return
	 */
	public int delete(DeleteTaskParam deleteTaskParam,LoginUser loginUser);
	
	/**
	 * 任务关注
	 * @param updateStatusParam
	 * @return
	 */
	public int follow(FollowTaskParam followTaskParam,LoginUser loginUser);
	
	/**
	 * 取消关注
	 * @param cancelFollowParam
	 * @return
	 */
	public int cancelFollow(CancelFollowParam cancelFollowParam,LoginUser loginUser);
	
	/**
	 * 保存任务
	 * @param saveTaskParam
	 * @return
	 */
	public int saveTask(SaveTaskParam saveTaskParam,LoginUser loginUser,Boolean isSendMessage);
	
	/**
	 * 查询任务详情
	 * @param queryTaskDetailsParam
	 * @return
	 */
	public QueryTaskDetailsDto queryTaskDetails(QueryTaskDetailsParam queryTaskDetailsParam,LoginUser loginUser,boolean admin);
	
	/**
	 * 查询IM任务详情
	 * @param queryTaskDetailsParam
	 * @return
	 */
	@TargetIM
	public QueryTaskDetailsDto queryImTaskDetails(String tendId,QueryTaskDetailsParam queryTaskDetailsParam,LoginUser loginUser,String imUserId,boolean admin);
	
	/**
	 * 查询任务管理列表
	 * @param queryTaskDetailsParam
	 * @return
	 */
	public Page queryAdminTaskList(QueryTaskListParam queryTaskListParam);
	
	/**
	 * 根据任务id更新任务
	 * @param updateStatusParam
	 * @return
	 */
	public int updateTask(UpdateParam updateParam,LoginUser loginUser);
	
	/**
	 * 查询任务对应操作权限
	 * @param queryTaskAuthParam
	 * @return
	 */
	public QueryTaskAuthDto queryTaskAuth(QueryTaskAuthParam queryTaskAuthParam,LoginUser loginUser,boolean admin);
	
	/**
	 * 查询任务列表
	 * @param queryTaskListParam
	 * @return
	 */
	public List<QueryTaskListDto> queryTaskList(QueryTaskListParam queryTaskListParam);
	
	/**
	 * 查询项目中任务列表
	 * @param queryProjectTaskParam
	 * @return
	 */
	public Page queryProjectTaskList(QueryProjectTaskParam queryProjectTaskParam);
	
}
