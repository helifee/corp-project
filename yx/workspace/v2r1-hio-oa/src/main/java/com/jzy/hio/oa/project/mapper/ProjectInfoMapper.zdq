package com.jzy.hio.oa.project.mapper;

import com.jzy.hio.base.mapper.BaseMapper;
import com.jzy.hio.entity.ProjectInfo;
import com.jzy.hio.exception.HioMybatisDeleteException;
import com.jzy.hio.exception.HioMybatisQueryException;
import com.jzy.hio.oa.project.dto.ProjectInfoDto;
import com.jzy.hio.oa.project.dto.ProjectInfoPageParam;
import org.apache.ibatis.annotations.Param;

import java.util.List;
import java.util.Map;

/**
 * @author yangning
 */
public interface ProjectInfoMapper extends BaseMapper<com.jzy.hio.entity.ProjectInfo> {

	/**
	 * 根据id删除项目信息
	 * 
	 * @param projectId
	 * @return
	 * @throws HioMybatisDeleteException
	 */
	public int deleteProjectInfoById(String projectId) throws HioMybatisDeleteException;

	/**
	 * 根据id查询项目信息
	 * 
	 * @param projectId
	 * @param userId
	 * @return
	 * @throws HioMybatisQueryException
	 */
	public ProjectInfoDto queryProjectInfoById(@Param("projectId") String projectId, @Param("userId") String userId) throws HioMybatisQueryException;

	/**
	 * 根据项目名称查询项目
	 * 
	 * @param projectName
	 * @return
	 * @throws HioMybatisQueryException
	 */
	public List<ProjectInfoDto> queryProjectInfoByProjectName(String projectName) throws HioMybatisQueryException;

	/**
	 * 查询项目信息 分页
	 * 
	 * @param param
	 * @return
	 * @throws HioMybatisQueryException
	 */
	public List<ProjectInfoDto> queryProjectInfoPage(ProjectInfoPageParam param) throws HioMybatisQueryException;

	/**
	 * 查询我创建负责参与的项目信息 分页
	 * 
	 * @param param
	 * @return
	 * @throws HioMybatisQueryException
	 */
	public List<ProjectInfoDto> queryMyProjectInfoPage(ProjectInfoPageParam param) throws HioMybatisQueryException;

	/**
	 * 查询我共享的项目信息 分页
	 * 
	 * @param param
	 * @return
	 * @throws HioMybatisQueryException
	 */
	List<ProjectInfoDto> queryMyShareProjectInfoPage(ProjectInfoPageParam param) throws HioMybatisQueryException;

	/**
	 * 查询我关注的项目信息 分页
	 * 
	 * @param param
	 *
	 * @return
	 * @throws HioMybatisQueryException
	 *             查询异常
	 *
	 */
	List<ProjectInfoDto> queryMyConcernProjectInfoPage(ProjectInfoPageParam param) throws HioMybatisQueryException;

	/**
	 *
	 * 根据项目团队人员查询项目信息列表param id
	 * 
	 * @param id
	 *            项目团队人员OAID
	 * @return
	 * @throws HioMybatisQueryException
	 */
	List<ProjectInfo> queryProjectInfoByTeamPerson(String id) throws HioMybatisQueryException;

	/**
	 * 查询项目信息 总条数
	 * 
	 * @param param
	 * @return
	 * @throws HioMybatisQueryException
	 */
	Integer queryProjectInfoCount(ProjectInfoPageParam param) throws HioMybatisQueryException;

	/**
	 * 查询项目信息 总条数
	 * 
	 * @param param
	 *            查询条件
	 * @return
	 * @throws HioMybatisQueryException
	 */
	Integer queryMyProjectInfoCount(ProjectInfoPageParam param) throws HioMybatisQueryException;

	/**
	 * 查询分享给我的信息 总条数
	 * 
	 * @param param
	 * @return
	 * @throws HioMybatisQueryException
	 */
	Integer queryMyShareProjectInfoCount(ProjectInfoPageParam param) throws HioMybatisQueryException;

	/**
	 * 查询关注项目信息 总条数
	 * 
	 * @param param
	 * @return
	 * @throws HioMybatisQueryException
	 */
	Integer queryMyConcernProjectInfoCount(ProjectInfoPageParam param) throws HioMybatisQueryException;

	/**
	 * 定时任务用 查询指定状态的所有项目
	 * 
	 * @param status
	 *            状态 0进行中、1已延期、2未启动、3已完成、4已撤销。
	 * @return
	 * @throws HioMybatisQueryException
	 */
	List<ProjectInfo> queryProjectInfoListByQuartz() throws HioMybatisQueryException;

}