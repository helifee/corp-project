package com.jzy.fileserver.dao;

import java.util.List;

import org.apache.ibatis.annotations.Param;

import com.jzy.fileserver.domain.PrintTaskVo;

/**
 * 任务表
 *
 * Created by daoqi on 2018年8月9日
 */
public interface PrintTaskDao {

	/**
	 * 保存任务
	 * 
	 * @param fileVo
	 * @return 影响条数
	 */
	int save(PrintTaskVo printTask);

	/**
	 * 更新任务状态
	 * 
	 * @param taskId
	 * @param taskStatus
	 * @param printerHost
	 * @return
	 */
	int updateTaskStatusAndHost(@Param("taskId")int taskId, @Param("taskStatus")String taskStatus, 
			@Param("printerHost")String printerHost);

	/**
	 * 更新任务状态
	 * 
	 * @param taskId
	 * @param name
	 * @return
	 */
	int updateTaskStatus(@Param("taskId")int taskId, @Param("taskStatus")String taskStatus);
	
	/**
	 * 更新任务级别
	 * 
	 * @param taskId
	 * @param taskPrior 
	 */
	int updateTaskPrior(@Param("taskId")int taskId, int taskPrior);
	
	/**
	 * 更新任务状态
	 * 
	 * @param taskId
	 * @param taskStatus
	 * @param pageCount
	 * @return
	 */
	int updateTaskStatusAndPageCount(int taskId, String taskStatus, int pageCount);
	
	/**
	 * 查询接收失败的打印任务
	 * 
	 * @return
	 */
	List<PrintTaskVo> findFailTasks();

	/**
	 * 按ID查询任务
	 * 
	 * @param taskId
	 * @return
	 */
	PrintTaskVo findById(@Param("taskId")int taskId);

	/**
	 * 查找指定文件的打印任务
	 * 
	 * @param fileId
	 * @return
	 */
	List<PrintTaskVo> findByFileId(@Param("fileId")long fileId);



}
