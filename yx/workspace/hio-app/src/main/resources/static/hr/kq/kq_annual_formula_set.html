<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>年假公式</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <script src="../../common/common.css.js"></script>
    <link rel="styleSheet" href="css/kq.css">
</head>
<style>
    .tit-box .more > .btn {
        background: #fff;
    }

    .ui-jqgrid tr.jqgrow td {
        text-overflow : ellipsis;
    }

    .table td {
        border: 1px dotted #E1E1E1;
    }
</style>
<body>
<header class="container-fluid xj-form-header">
    <div class="row">
        <div class="col-md-1 col-sm-4 col-xs-4 xj-index-logo">
            <img src="../../logo.png" alt="鑫巨ERP">
        </div>
        <div class="col-md-8 col-sm-4 col-xs-4 xj-form-title">年假公式<span id="editTitel"></span></div>
        <div class="col-md-3 col-sm-4 col-xs-4 xj-form-btn">
            <button class="btn btn-sm btn-adv" id="closeWindow">关闭</button>
            <button class="btn btn-sm btn-adv" id="saveBtn">保存</button>
        </div>
    </div>
</header>
<div class="container-fluid " >
    <div class="row ">
        <div class="col-md-12">
            <div class="" style="margin-left: 5%;margin-right: -1%">
                <!--年假标准-->
                <form class="form-inline" id="annualStandardSetForm" validate-type="jQueryValidate"
                      data-validate-success="">
                    <input type="hidden" name="id"/>
                    <div style="height: auto;margin: 10px;border: 0px solid #acd7ff;margin-top: 80px;margin-left: 200px;margin-right: 300px">
                        <div class="con-table" id="userDiv2" style="display:block;">
                            <!--年假标准-->
                            <div class="user-list" id="" style="background-color: #F2F2F2;">
                                <span><span class="org-icons list-icon"></span><span class="tit">年假标准</span></span>
                            </div>
                            <!--按工龄计算-->
                            <div class="mytable tableStyle">
                                <!--<div style="height: auto;margin: 10px;">-->
                                <div style="border: 1px dashed #acd7ff;margin: 20px">
                                    <table class="table" style="border: 1px solid #ddd;">
                                        <tbody>
                                        <tr class="form-label">
                                            <td>
                                                <input type="radio" name="standardType" id="standardType1"
                                                       onclick="checkRegular()"
                                                       style="margin-left: 20px"/>
                                                <span><span class="tit">按工龄计算</span></span>
                                            </td>
                                            <td>
                                                <input type="radio" name="standardType" id="standardType2"
                                                       onclick="checkRegular()"
                                                       style="margin-left: 20px"/>
                                                <span><span class="tit">按司龄计算</span></span>
                                            </td>
                                        </tr>
                                        <tr class="form-label">
                                            <td>
                                                当工龄满
                                                <input type="text" class="form-control checkWork" id="standardYear2"
                                                       name="standardYear2" data-digits="true" data-placeholder="工龄年限"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                年，可享
                                                <input type="text" class="form-control checkWork" id="standardDay2"
                                                       name="standardDay2" data-digits="true" data-placeholder="年假天数"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                天年假
                                            </td>
                                            <td>
                                                <!--<div style="padding: 10px">-->
                                                当司龄满
                                                <input type="text" class="form-control checkEntry" id="standardYears2"
                                                       name="standardYears2" data-digits="true" data-placeholder="工龄年限"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                年，可享
                                                <input type="text" class="form-control checkEntry" id="standardDays2"
                                                       name="standardDays2" data-digits="true" data-placeholder="年假天数"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                天年假
                                            </td>
                                        </tr>


                                        <tr class="form-label">
                                            <td>
                                                当工龄满
                                                <input type="text" class="form-control checkWork" id="standardYear3"
                                                       name="standardYear3" data-digits="true" data-placeholder="工龄年限"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                年，可享
                                                <input type="text" class="form-control checkWork" id="standardDay3"
                                                       name="standardDay3" data-digits="true" data-placeholder="年假天数"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                天年假
                                            </td>
                                            <td>

                                                当司龄满
                                                <input type="text" class="form-control checkEntry" id="standardYears3"
                                                       name="standardYears3" data-digits="true" data-placeholder="工龄年限"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                年，可享
                                                <input type="text" class="form-control checkEntry" id="standardDays3"
                                                       name="standardDays3" data-digits="true" data-placeholder="年假天数"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                天年假
                                            </td>
                                        </tr>

                                        <tr class="form-label">
                                            <td>
                                                当工龄满
                                                <input type="text" class="form-control checkWork" id="standardYear4"
                                                       name="standardYear4" data-digits="true" data-placeholder="工龄年限"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                年，可享
                                                <input type="text" class="form-control checkWork" id="standardDay4"
                                                       name="standardDay4" data-digits="true" data-placeholder="年假天数"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                天年假
                                            </td>
                                            <td>
                                                <!--<div style="padding: 10px">-->
                                                当司龄满
                                                <input type="text" class="form-control checkEntry" id="standardYears4"
                                                       name="standardYears4" data-digits="true" data-placeholder="工龄年限"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                年，可享
                                                <input type="text" class="form-control checkEntry" id="standardDays4"
                                                       name="standardDays4" data-digits="true" data-placeholder="年假天数"
                                                       data-maxlength="2"
                                                       style="width: 50px;display: inline" placeholder=""/>
                                                天年假
                                            </td>
                                        </tr>



                                        </tbody>
                                    </table>
                                </div>

                                <!--固定值-->

                                <div class="mytable tableStyle">
                                    <!--年假结转-->
                                    <div style="margin-top: 10px;margin-left: 15px">
                                        <input type="radio" name="standardType" id="standardType3"
                                               onclick="checkRegular()"
                                               style="margin-left: 20px;margin-top: 10px"/>
                                        <span><span class="tit">固定值</span></span>
                                    </div>
                                    <div style="border: 1px dashed #acd7ff;margin: 10px">
                                        <table class="" cellpadding="0" cellspacing="0" border="0"
                                               style="border-top:0px;margin: 20px">
                                            <tbody>
                                            <tr class="form-label">
                                                <td>
                                                    <input type="text" class="form-control checkFixed" id="fixedValue"
                                                           name="fixedValue"
                                                           style="width: 50px;display: inline" placeholder=""
                                                           data-digits="true" data-placeholder="固定天数" data-maxlength="2"/>
                                                    天
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <!--年假奖励-->
                <form class="form-inline" id="annualFormalAwardSetForm" validate-type="jQueryValidate"
                      data-validate-success="">
                    <div id="annualFormalAwardSet"
                         style="height: auto;margin: 10px;border: 0px solid #acd7ff;margin-left: 200px;margin-right: 300px">
                        <div class="user-list" style="background-color: #F2F2F2;">
                            <span><span class="org-icons list-icon"></span><span class="tit">年假奖励</span></span>
                        </div>
                        <div class="mytable tableStyle">
                            <div style="border: 1px dashed #acd7ff;margin: 10px">
                                <table class="" cellpadding="0" cellspacing="0" border="0"
                                       style="border-top:0px;margin: 20px">
                                    <tbody>
                                    <tr class="form-label">
                                        <td>
                                            当司龄已满
                                            <input type="text" class="form-control checkEntry" id="awardStandardYears1"
                                                   name="awardStandardYears1" data-digits="true" data-placeholder="工龄年限"
                                                   data-maxlength="2"
                                                   style="width: 50px;display: inline" placeholder=""/>年，每满
                                            <input type="text" class="form-control checkEntry" id="awardStandardYears2"
                                                   name="awardStandardYears2" data-digits="true" data-placeholder="工龄年限"
                                                   data-maxlength="2"
                                                   style="width: 50px;display: inline" placeholder=""/>年，可额外享有
                                            <input type="text" class="form-control checkEntry" id="awardStandardDay1"
                                                   name="awardStandardDay1" data-digits="true" data-placeholder="奖励天数"
                                                   data-maxlength="2"
                                                   style="width: 50px;display: inline" placeholder=""/>天年假，最多不超过
                                            <input type="text" class="form-control checkEntry" id="awardStandardDay2"
                                                   name="awardStandardDay2" data-digits="true" data-placeholder="奖励天数上限"
                                                   data-maxlength="2"
                                                   style="width: 50px;display: inline" placeholder=""/>天年假
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </form>
                <form class="form-inline" id="annualFormalConvertSetForm" validate-type="jQueryValidate"
                      data-validate-success="">
                    <div id="annualFormalConvertSet"
                         style="height: auto;margin: 10px;border: 0px solid #acd7ff;margin-left: 200px;margin-right: 300px">
                        <div class="user-list" style="background-color: #F2F2F2;">
                            <span><span class="org-icons list-icon"></span><span class="tit">年假折算规则</span></span>
                        </div>
                        <div class="mytable tableStyle">
                            <!--折算最小单位-->
                            <div style="margin-top: 10px;margin-left: 15px">
                                <span class="tit" style="font-weight: bold">折算最小单位</span>
                            </div>
                            <div style="border: 1px dashed #acd7ff;margin: 10px">
                                <table class="" cellpadding="0" cellspacing="0" border="0"
                                               style="border-top:0px;margin: 20px">
                                <tbody>
                                <tr class="form-label">
                                    <td><input type="radio" name="limitIfConvert" value="0.5"
                                               onclick="checkRegular2()" checked/>
                                        0.5天<span style="margin-left: 20px"></span></td>
                                    <td><input type="radio" name="limitIfConvert" value="1"
                                               onclick="checkRegular2()" checked/>
                                        1天<span style="margin-left: 20px"></span></td>
                                </tr>
                                </tbody>
                            </table>
                            </div>

                            <!--入职折算-->
                            <div style="margin-top: 10px;margin-left: 15px">
                                <span class="tit" style="font-weight: bold">入职折算</span>
                            </div>
                            <div style="border: 1px dashed #acd7ff;margin: 10px">
                                <table class="" cellpadding="0" cellspacing="0" border="0"
                                       style="border-top:0px;margin: 20px">
                                    <tbody>
                                    <tr class="form-tr" style="margin-bottom: 100px">
                                        <td >
                                            入职当年，当年年假<br><br/>
                                        </td>

                                    </tr>
                                    <tr class="form-label">
                                        <td>
                                            <input type="radio" name="applyRegular" value="1"
                                                   onclick="checkRegular3()"/>按标准全额计算
                                        </td>
                                        <td>
                                            <input type="radio" name="applyRegular" value="1"
                                                   onclick="checkRegular3()"/>按入职时间进行折算，不足折算最小单位舍去
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div style="margin-top: 10px;margin-left: 15px">
                                <span class="tit" style="font-weight: bold">入职折算</span>
                            </div>
                            <!--年中折算-->
                            <div style="border: 1px dashed #acd7ff;margin: 10px">
                                <table class="" cellpadding="0" cellspacing="0" border="0"
                                       style="border-top:0px;margin: 20px">
                                    <tbody>
                                    <tr class="form-label">
                                        <td colspan="2">
                                            年中跨计算标准时，当年年假<br/><br/>
                                        </td>
                                    </tr>
                                    <tr class="form-label">
                                        <td>
                                            <input type="radio" name="applyRegular" value="1"
                                                   onclick="checkRegular3()"/>按低标准全额计算<br/><br/>
                                        </td>
                                        <td>
                                            <input type="radio" name="applyRegular" value="2"
                                                   onclick="checkRegular3()"/>按高标准全额计算<span style="margin-left: 20px"></span><br/><br/>
                                        </td>
                                    </tr>
                                    <tr class="form-label">
                                        <td>
                                            <input type="radio" name="applyRegular" value="3"
                                                   onclick="checkRegular3()"/>按两个标准分段进行折算，不足折算最小单位舍去，然后合计<span style="margin-left: 20px"></span>
                                        </td>
                                        <td>
                                            <input type="radio" name="applyRegular" value="4"
                                               onclick="checkRegular3()"/>按两个标准分段进行折算，然后合计，合计值不足折算最小单位舍去
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </form>
                <!--年假限制-->
                <form class="form-inline" id="annualFormalLimitSetForm" validate-type="jQueryValidate"
                      data-validate-success="">
                    <input type="hidden" name="id"/>
                    <div id="annualFormalLimitSet"
                         style="height: auto;margin: 10px;border: 0px solid #acd7ff;margin-left: 200px;margin-right: 300px">
                        <div class="user-list" style="background-color: #F2F2F2;">
                            <span><span class="org-icons list-icon"></span><span class="tit">年假限制</span></span>
                        </div>
                        <div class="mytable tableStyle">
                            <!--年假结转-->
                            <div style="margin-top: 10px;margin-left: 15px">
                                <span class="tit" style="font-weight: bold">年假结转</span>
                            </div>
                            <div style="border: 1px dashed #acd7ff;margin: 10px">
                                <table class="" cellpadding="0" cellspacing="0" border="0"
                                       style="border-top:0px;margin: 20px">
                                    <tbody>
                                    <tr class="form-label">
                                        <td>
                                            <input type="radio" name="limitIfConvert" value="0"
                                                   onclick="checkRegular2()" checked/>否
                                            <span style="color: red;margin-left: 10px">默认当年12月31日失效</span>

                                            <input type="radio" name="limitIfConvert" value="1"
                                                   onclick="checkRegular2()" style="margin-left: 200px"/>是
                                            <span style=""></span>

                                            <span style="margin-left: 20px">次年</span>
                                            <input type="text" class="form-control annualLimit"
                                                   id="limitInvalidMonth"
                                                   name="limitInvalidMonth" data-digits="true" data-placeholder="年假限制月"
                                                   data-range="1,12"
                                                   style="width: 50px;display: inline" placeholder=""/>月
                                            <input type="text" class="form-control annualLimit" id="limitInvalidDay"
                                                   name="limitInvalidDay" data-digits="true" data-placeholder="年假限制日"
                                                   data-range="1,31"
                                                   style="width: 50px;display: inline" placeholder=""/>
                                            日失效
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>


                            <!--年假申请规则-->
                            <span style="margin-left: 15px"><span class="tit"
                                                                  style="font-weight: bold; ">年假申请规则</span></span>
                            <div style="border: 1px dashed #acd7ff;margin-top: 10px;margin-left: 11px">
                                <table class="" cellpadding="0" cellspacing="0" border="0"
                                       style="border-top:0px;margin: 20px 20px 0px 20px">
                                    <tbody>
                                    <tr class="form-label">
                                        <td>
                                            <input type="radio" name="applyRegular" value="1"
                                                   onclick="checkRegular3()"/>入职当天即可申请

                                            <input type="radio" name="applyRegular" value="2"
                                                   onclick="checkRegular3()"
                                                   style="margin-left: 100px"/>转正当天即可申请
                                            <span style=""></span>

                                            <input type="radio" name="applyRegular" value="3"
                                                   onclick="checkRegular3()"
                                                   style="margin-left: 100px"/>入职满
                                            <input type="text" class="form-control applyRegular" id="applyMonth"
                                                   name="applyMonth"
                                                   style="width: 50px;display: inline" placeholder=""
                                                   data-digits="true"
                                                   data-placeholder=""/>
                                            个月即可申请
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <div style="padding: 10px">
                                    <input type="checkbox" name="applyRegular2" value="4" style="margin-left: 10px"/>年假有剩余时不可申请事假
                                    <input type="checkbox" name="applyRegular2" value="5"
                                           style="margin-left: 53px"/>年假有剩余时不可申请病假
                                </div>
                            </div>
                        </div>
                        </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="../../common/common.js"></script>
<script src="kq_annual_formula_set.js"></script>
<script type="text/javascript">
    function checkRegular() {
        var type = $('input:radio:checked').val();
        if (type == "1101100186") {
            $(".checkWork").removeAttr("readonly");
            $(".checkEntry").attr("readonly", true);
            $(".checkFixed").attr("readonly", true);
        } else if (type == "1101100187") {
            $(".checkWork").attr("readonly", true);
            $(".checkEntry").removeAttr("readonly");
            $(".checkFixed").attr("readonly", true);
        } else if (type == "1101100188") {
            $(".checkWork").attr("readonly", true);
            $(".checkEntry").attr("readonly", true);
            $(".checkFixed").removeAttr("readonly");
        }
    }

    function checkRegular2() {
        var type = $("input[name='limitIfConvert']:checked").val();
        if (type != "1") {
            $(".annualLimit").attr("readonly", true);
            $("#limitInvalidMonth").removeAttr("required");
            $("#limitInvalidDay").removeAttr("required");
        } else {
            $("#limitInvalidMonth").focus();
            $("#limitInvalidMonth").attr("required", true);
            $("#limitInvalidDay").attr("required", true);
            $(".annualLimit").removeAttr("readonly");
        }
    }

    function checkRegular3() {
        var type = $("input[name='applyRegular']:checked").val();
        if (type != "3") {
            $(".applyRegular").attr("readonly", true);
        } else {
            $(".applyRegular").removeAttr("readonly");
        }
    }
</script>
</body>
</html>
