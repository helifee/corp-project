<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>组织人事</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <script src="../../common/common.css.js"></script>
    <link rel="styleSheet" href="org.css">
    <link href="../../common/custom/css/index.css">
</head>
<style>
    .tit-box .more > .btn {
        background: #fff;
    }

    div#rMenu {
        position: absolute;
        visibility: hidden;
        top: 0;
        text-align: left;
        border: 1px solid #ddd;
        border-radius: 4px;
    }

    div#rMenu a {
        padding: 3px 15px 3px 15px;
        background-color: #fff;
        vertical-align: middle;
        color: #46A7FF;
    }

    div#rMenu a:hover {
        background: #46A7FF;
        color: #fff;
    }

    .list-group-item {
        border: none;
    }

    /*隐藏滚动条*/
    body {
        overflow-x: hidden;
        overflow-y: hidden;
    }

    html {
        overflow-x: hidden;
        overflow-y: hidden;
    }
</style>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-11 col-sm-12 col-mar-auto">
            <div class="row">
                <div class="col-md-3 slide-left ">
                    <!--放树的操作按钮-->
                    <div class="tit-box clearfix">
                        <span class="tit pull-left">组织结构</span>
                        <div class="pull-right">
                            <button class="btn btn-default btn-sm my-search-btn" id="searchTreeBtn"
                                    data-toggle="collapse" href="#searchBox" aria-expanded="true"
                                    aria-controls="searchBox">查询
                            </button>
                            <button class="btn btn-default btn-sm" type="button" onclick="editOrgInfo(0);">新增
                            </button>
                            <div class="btn-group more">
                                <button type="button" class="btn btn-default btn-sm mr0 dropdown-toggle"
                                        data-toggle="dropdown">
                                    更多 <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" role="more">
                                    <li><a href="#" data-toggle="modal" data-target="#editOrg" onclick="editOrgInfo(1)">修改</a>
                                    </li>
                                    <li><a href="#" onclick="copyOrg()">复制</a></li>
                                    <li><a href="#" onclick="pasteOrg()">粘贴</a></li>
                                    <li><a href="#" id="cancelBtn">撤销</a></li>
                                    <li><a href="#" id="unLockBtn">启用</a></li>
                                    <li><a href="#" id="delOrg">删除</a></li>
                                    <li><a href="#" id="orgChangeBtn">变更信息</a></li>
                                    <li><a href="#" onclick="showOrgTu()">机构图</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!--点查询按钮，弹出搜索框z，搜索完再隐藏-->
                    <div class="searchBox clearfix collapse" id="searchBox" aria-expanded="false" style="height: 23px;">
                        <input type="text" class="form-control" id="key" placeholder="输入关键词查询">
                        <button class="btn btn-sm btn-dim" onclick="clickRadio();"><i class="fa fa-search"
                                                                                      aria-hidden="true"></i></button>
                    </div>
                    <!--树-->
                    <div class="ztree-box dictionary-tree">
                        <ul id="treeDemo" class="ztree"></ul>
                    </div>
                    <!--右键菜单-->
                    <div id="rMenu">
                        <a href="#" class="list-group-item" onclick="editOrgInfo(0)">新增</a>
                        <a href="#" class="list-group-item" onclick="editOrgInfo(1)">修改</a>
                        <a href="#" class="list-group-item" onclick="delOrgAndCheck()">删除</a>
                        <a href="#" class="list-group-item" onclick="lockOrUnLockOrg(0)">禁用</a>
                        <a href="#" class="list-group-item" onclick="lockOrUnLockOrg(1)">启用</a>

                        <a href="#" class="list-group-item" onclick="copyOrg()">复制</a>
                        <a href="#" class="list-group-item" onclick="pasteOrg()">粘贴</a>
                    </div>
                </div>
                <div class="col-md-9 right-content pdrh0">
                    <div class="container-fluid xj-main-advanced">
                        <div class="row clearfix">
                            <table class="table" style="margin-bottom: 3px">
                                <tbody>
                                <tr>
                                    <td><span style="display:inline-block;width: 36px">姓名/账号：</span></td>
                                    <td>
                                        <input type="text" class="form-control" style="margin-right: 5px"
                                               placeholder="姓名/拼音/手机号" id="userQueryKey">
                                    </td>
                                    <td><label>所属机构</label></td>
                                    <td>
                                        <div class="input-group fullWidth">
                                            <input type="hidden" id="deptId" class="form-control"
                                                   name="deptId" readonly="readonly">
                                            <input type="text" id="deptName" name="dept_name" class="form-control"
                                                   readonly="readonly" data-placeholder="所属机构" placeholder="所属机构">
                                            <div class="input-group-addon"><a class="glyphicon glyphicon-remove"
                                                                              onclick="emptyInfo('deptId','deptName')"></a>
                                            </div>
                                            <span class="input-group-addon hr-single-selector" data-title="选择机构"
                                                  data-selectorType="org-selectDeptOnly"
                                                  data-saveCallback="deptCallback">
                                                    <a class="fa fa-ellipsis-h" data-selectorType=""></a>
                                            </span>
                                        </div>
                                    </td>
                                    <td><span style="display: inline-block;width: 60px">人员类别：</span></td>
                                    <td>
                                        <div class="input-group addInputWidth">
                                            <input type="text" id="personType_name" name="personType_name"
                                                   class="form-control addInputWidth" readonly="readonly"
                                                   placeholder="人员类别" data-placeholder="人员类别" data-required="true"/>
                                            <input type="hidden" id="personType" name="personType"
                                                   class="form-control addInputWidth"/>
                                            <div class="input-group-addon">
                                                <a class="glyphicon glyphicon-remove"
                                                   onclick="emptyInfo('personType_name','personType')"></a>
                                            </div>
                                            <span class="input-group-addon hr-single-selector"
                                                  data-selectorType="hrSysCode" data-title="选择代码"
                                                  data-savecallback="" data-treeParam='{"code_set_id":"1019"}'
                                                  data-targetname="personType_name" data-targetId="personType">
                                          <a class="fa fa-ellipsis-h" data-selectorType=""></a>
                                        </span>
                                        </div>
                                    </td>
                                    <td style="width:10%;">
                                        <button type="button" id="upDownBtn" title="展开"
                                                class="btn btn-sm btn-adv pull-left"
                                                style=" padding: 2px 8px;text-align: center;margin-left: 0;margin-right: 5px;">
                                            <i class="fa fa-angle-down" aria-hidden="true" style="margin-left: 0;"></i>
                                        </button>
                                        <button type="button" id="queryBtnTwo"
                                                class="btn btn-sm btn-search rm-pad pull-left"><i class="fa fa-search"
                                                                                                  aria-hidden="true"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="showOrHide" style="display:none;margin-top: 10px">
                                    <td><span style="display: inline-block;width: 36px">最高学历：</span></td>
                                    <td>
                                        <div class="input-group addInputWidth">
                                            <input type="text" id="education_name" name="education_name"
                                                   class="form-control addInputWidth" readonly="readonly"
                                                   placeholder="最高学历"/>
                                            <input type="hidden" id="education" name="education"
                                                   class="form-control addInputWidth"/>
                                            <div class="input-group-addon">
                                                <a class="glyphicon glyphicon-remove"
                                                   onclick="emptyInfo('education_name','education')"></a>
                                            </div>
                                            <span class="input-group-addon hr-single-selector"
                                                  data-selectorType="hrSysCode" data-title="选择代码"
                                                  data-savecallback="" data-treeParam='{"code_set_id":"1059"}'
                                                  data-targetname="education_name" data-targetId="education">
                                          <a class="fa fa-ellipsis-h" data-selectorType=""></a>
                                        </span>
                                        </div>
                                    </td>
                                    <td><span style="display: inline-block;width: 36px">最高学位：</span></td>
                                    <td>
                                        <div class="input-group addInputWidth">
                                            <input type="text" id="degree_name" name="degree_name"
                                                   class="form-control addInputWidth" readonly="readonly"
                                                   placeholder="最高学位"/>
                                            <input type="hidden" id="degree" name="degree"
                                                   class="form-control addInputWidth"/>
                                            <div class="input-group-addon">
                                                <a class="glyphicon glyphicon-remove"
                                                   onclick="emptyInfo('degree_name','degree')"></a>
                                            </div>
                                            <span class="input-group-addon hr-single-selector"
                                                  data-selectorType="hrSysCode" data-title="选择代码"
                                                  data-savecallback="" data-treeParam='{"code_set_id":"1060"}'
                                                  data-targetname="degree_name" data-targetId="degree">
                                          <a class="fa fa-ellipsis-h" data-selectorType=""></a>
                                        </span>
                                        </div>
                                    </td>
                                    <td class="form-label"><span class="red">*</span><label>入职日期</label></td>
                                    <td>
                                        <div class="input-group date form_datetime form-date"
                                             data-link-field="dtp_input1">
                                            <input data-required="true" class="form-control" id="entryTime"
                                                   name="entryTime"
                                                   size="16" type="text" data-placeholder="入职日期" readonly>
                                            <div class="input-group-addon"><a
                                                    class="glyphicon glyphicon-remove"></a></div>
                                            <span class="input-group-addon"><span
                                                    class="glyphicon glyphicon-th"></span></span>
                                        </div>
                                    </td>
                                    <td style="width:10%;">

                                        <div class="form-group">
                                            <select id="ms" multiple="multiple">
                                                <option value="1">机构</option>
                                                <option value="2">岗位</option>
                                                <option value="3">人员类别</option>
                                                <option value="4">姓名</option>
                                                <option value="5">员工编号</option>
                                                <option value="6">手机号</option>
                                                <option value="7">最高学历</option>
                                                <option value="8">最高学位</option>
                                            </select>
                                        </div>
                                        <button class="btn btn-default">
                                            重置
                                        </button>
                                    </td>
                                </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="con-table clearfix">
                        <div class="user-list" style="background-color: #F5F5F5!important;" id="userList">
                            <span style="float: left"><span class="org-icons list-icon"></span><span
                                    class="tit">人员列表</span></span>
                            <div style="float: left">
                                <span class="my-checkbox" style="margin-left: 8px;"></span>
                            </div>
                            <div style="background-color: #F5F5F5!important; float: left;margin-left:0;"
                                 class="tableSearchBox">
                                <span>含离职人员</span>
                                <button class="btn btn-sm btn-dim" id="queryBtnOne"><i class="fa fa-search"
                                                                                       aria-hidden="true"></i></button>
                            </div>
                            <div class="my-btn-group" style="float: right">
                                <div class="my-btn-group" style="float: left">
                                    <button class="btn btn-default" onclick="window.open('../emp/emp_entry.html')">新增
                                    </button>
                                    <button class="btn btn-default" onclick="window.open('../emp/emp_import.html')">导入
                                    </button>
                                    <button class="btn btn-default" id="exportData">导出</button>
                                    <!--导出弹出浮层，勾选指定导出的字段-->
                                    <button class="btn btn-default" onclick="window.open('../emp/emp_monthly_report.html')">月报
                                    </button>
                                </div>
                                <div class="btn-group more">
                                    <button type="button" class="btn btn-default dropdown-toggle"
                                            data-toggle="dropdown">
                                        更多 <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu" role="menu">
                                        <li><a href="#" onclick="window.open('../emp/emp_regular.html')">转正</a></li>
                                        <li><a href="#" onclick="window.open('../emp/emp_personChange.html')">调动</a></li>
                                        <li><a href="#" onclick="window.open('../emp/emp_leavework.html')">离职</a></li>
                                        <li><a href="#" id="cancelBtn1">启用</a></li>
                                        <li><a href="#" id="cancelBtn2">禁用</a></li>
                                        <!--<li><a href="#" id="changeBtn">修改</a></li>-->
                                        <!--<li><a href="#" id="delBtn">删除</a></li>-->
                                        <li><a href="#" id="showUserGridSort">显示设置</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="customtable" style="clear: both"
                         class="mytable tableStyle xj-main-grid grid-container gridset clearfix">
                        <table id="hrEmpSetList"></table>
                        <div id="pager2"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--撤销机构-->
<div class="modal fade" id="cancelOrg" tabindex="-1" role="dialog" style="width: auto;display: none;"
     aria-labelledby="cancelOrg">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h5 class="modal-title">撤销</h5>
                <button type="button" class="btn btn-sm blue pull-right mr20" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-sm blue pull-right mr20" id="cancelOrgBtn">保存</button>
            </div>
            <div class="modal-body">
                <table class="table table-bordered">
                    <tbody>
                    <tr class="form-tr">
                        <td>撤销日期</td>
                        <td>
                            <input type="text" class="form-control" name="cancelDate1" id="cancelDate1" readonly>
                        </td>
                    </tr>
                    <tr class="form-tr">
                        <td><span style="color: red">*</span>说明</td>
                        <td>
                            <textarea cols="40" rows="3" class="form-control" name="remark1" id="remark1">
                            </textarea>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!--撤销机构结束-->
<!--启用机构-->
<div class="modal fade" id="unLockOrg" tabindex="-1" role="dialog" style="width: auto;display: none;"
     aria-labelledby="unLockOrg">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h5 class="modal-title">启用</h5>
                <button type="button" class="btn btn-sm blue pull-right mr20" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-sm blue pull-right mr20" id="unLockOrgBtn">保存</button>
            </div>
            <div class="modal-body">
                <table class="table table-bordered">
                    <tbody>
                    <tr class="form-tr">
                        <td>启用日期</td>
                        <td>
                            <input type="text" class="form-control" name="cancelDate2" id="cancelDate2" readonly>
                        </td>
                    </tr>
                    <tr class="form-tr">
                        <td><span style="color: red">*</span>说明</td>
                        <td>
                            <textarea cols="40" rows="3" class="form-control" name="remark2" id="remark2">
                            </textarea>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!--启用机构结束-->
<!--撤销岗位-->
<div class="modal fade" id="cancelPost" tabindex="-1" role="dialog" style="width: auto;display: none"
     aria-labelledby="cancelPost">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h5 class="modal-title">撤销</h5>
                <button type="button" class="btn btn-sm blue pull-right mr20" data-dismiss="modal">取消
                    <button type="button" class="btn btn-sm blue pull-right mr20" id="cancelOrgPostBtn">保存</button>
                </button>
            </div>
            <div class="modal-body">
                <table class="table table-bordered">
                    <tbody>
                    <tr class="form-tr">
                        <td>撤销日期</td>
                        <td><input type="text" class="form-control" name="cancelDate" id="cancelDate" readonly></td>
                    </tr>
                    <tr class="form-tr">
                        <td><span style="color: red">*</span>说明</td>
                        <td>
                            <textarea cols="40" rows="3" class="form-control" name="remark" id="remark"></textarea>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!--撤销机构结束-->
<!--导出文件-->
<iframe name="exportTarget" id="exportTarget" style="display:none;"></iframe>
<script src="../../common/common.js"></script>
<script src="org_tree.js"></script>
<script src="org_list.js"></script>
<script src="../emp/emp_list.js"></script>
<script>
</script>
</body>
</html>
