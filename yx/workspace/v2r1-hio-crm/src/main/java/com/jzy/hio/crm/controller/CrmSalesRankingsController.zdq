package com.jzy.hio.crm.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.jzy.hio.crm.dto.CrmSalesRankingsDto;
import com.jzy.hio.crm.service.CrmSalesRankingsService;
import com.jzy.hio.springmvc.ApiResponse;

/**
 * 销售员订单，客户排行榜
 * @author 
 *
 */
@RestController
@RequestMapping("/salesRankings")
public class CrmSalesRankingsController {

	@Autowired
	private CrmSalesRankingsService crmSalesRankingsService;
	
	/**
	 * 查询当前月份排行榜
	 * @return
	 */
	@PostMapping("/monthRankings")
	public ApiResponse<List<CrmSalesRankingsDto>> monthRankings(){
		ApiResponse<List<CrmSalesRankingsDto>> res = new ApiResponse<>(200, "查询成功");
		List<CrmSalesRankingsDto> salesRankingsList = crmSalesRankingsService.selectRankingsThisMonth();
		res.setResult(salesRankingsList);
		return res;
	}
}
