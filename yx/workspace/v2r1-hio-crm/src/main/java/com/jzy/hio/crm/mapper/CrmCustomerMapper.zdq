package com.jzy.hio.crm.mapper;

import java.util.List;
import java.util.Map;

import org.apache.ibatis.annotations.MapKey;
import org.apache.ibatis.annotations.Param;

import com.jzy.hio.base.mapper.BaseMapper;
import com.jzy.hio.crm.dto.CrmCustomerPageDto;
import com.jzy.hio.crm.dto.CrmStatusCountDto;
import com.jzy.hio.crm.dto.CustomerNamesDto;
import com.jzy.hio.crm.param.CrmCustomerSearchParam;
import com.jzy.hio.entity.CrmCustomer;

/**
 * 客户
 * @author 
 *
 */
public interface CrmCustomerMapper extends BaseMapper<CrmCustomer> {

	/**
	 * 根据客户名称模糊查询
	 * @param map.put("name", name)
	 * @return
	 */
	List<CustomerNamesDto> selectCustNames(Map<String, Object> map);
	
	/**
	 * 查询客户名称是否有重复
	 * @param id
	 * @param name
	 * @return
	 */
	int selectCustNameCount(@Param("id") String id,@Param("name") String name);
	
	/**
	 * 查看各个状态数量
	 * @param uid
	 * @return
	 */
	List<CrmStatusCountDto> selectCustCountGoupByStatus(@Param("uid") String uid);

	/**
	 * 分页查询客户列表
	 * @param customerSearchParam
	 * @return
	 */
	List<CrmCustomerPageDto> getPageCustomers(CrmCustomerSearchParam customerSearchParam);

	/**
	 * 查询客户总条数
	 * @param customerSearchParam
	 * @return
	 */
	int getPageCustomersCount(CrmCustomerSearchParam customerSearchParam);

	/**
	 * 根据uid和客户id查询
	 * @param mapParam key:uid,custIds
	 * @return
	 */
	@MapKey("customerId")
	Map<String, CustomerNamesDto> selectCustNameByIds(Map<String, Object> mapParam);
}
