<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <constant name="struts.objectFactory" value="spring"/>
    <constant name="struts.il8n.encoding" value="UTF-8"/>
	<constant name="struts.custom.i18n.resources" value="message"></constant>
    <!-- 上传文件的临时目录 -->
	<constant name="struts.multipart.saveDir" value="e:\\temp"></constant>

    <package name="hysyy" extends="jfreechart-default">

		<!-- 全局结果的定义 -->
		<global-results>
			<result name="login" type="redirect">/relogin.action</result>
			<result name="delaultexception">/common/exception.jsp</result> 
		</global-results>

		<!-- 全局异常 -->
		<global-exception-mappings>
			<exception-mapping result="delaultexception" exception="java.lang.Exception"></exception-mapping>
		</global-exception-mappings>

		<!-- 重登录Action，不使用登录拦截器 -->
        <action name="relogin" class="reloginAction">
        	<result name="success">${destUrl}</result>
        </action>

		<!-- 注销Action，不使用登录拦截器 -->
        <action name="logout" method="logout" class="logoutAction">
        	<result name="success" type="redirect">${destUrl}</result>
        </action>
		
		<!-- 登录Action，不使用登录拦截器，使用URL机能的拦截器 -->
        <action name="loginserver" method="login" class="loginAction">
        	<result name="success" type="redirect">${destUrl}</result>
        	<result name="error" >/login.jsp</result>
        	<result name="input" >/login.jsp</result>
        </action>
		
<!--RenLoong追加Start-->		
		<!-- 部门信息一览Action-->
		<action name="getDeptInfosAction" method="execute" class="departmentAction">
			<result name="success" >/perm/dept_info_main.jsp</result>
        </action>
		
		<!-- 删除部门信息Action-->
		<action name="deptInfoDelAction" method="departmentdel" class="departmentAction">
			<result name="success" >/perm/dept_info_list.jsp</result>
        </action>
		
		<!-- 修改部门信息Action-->
		<action name="deptInfoUpdAction" method="departmentupt" class="departmentAction">
			<result name="success" type="redirectAction">getDeptInfosAction</result>
        </action>
		
		<!-- 添加部门信息Action-->
		<action name="deptInfoAddAction" method="departmentadd" class="departmentAction">
			<result name="success" type="redirectAction">getDeptInfosAction</result>
			<result name="error">/perm/dept_info_main.jsp</result>
        </action>
		
		<!-- 取得部门名称Action-->
		<action name="getDeptNmAction" method="getdepartmentnm" class="departmentAction">
        </action>
		
		<!-- 取得部门信息Action-->
		<action name="getDeptInfoAction" method="getdepartmentinfo" class="departmentAction">
			<result name="success">/perm/dept_info_view.jsp</result>
			<result name="error">/perm/dept_info_main.jsp</result>
        </action>
		
		<!-- 取得部门主管名称Action-->
		<action name="getLeaderNmAction" method="getusernm" class="userAction">
        </action>
<!--RenLoong追加End-->
		<!-- 生成静态页面Action-->

   </package>
   
   <!-- json2.1 test -->
   <package name="json-example" namespace="/json" extends="json-default">
		<action name="jsonExample" class="jsonAction">
			<result type="json" />
		</action>
   </package>
   
</struts>
