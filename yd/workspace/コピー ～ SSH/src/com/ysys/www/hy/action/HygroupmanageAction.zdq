package com.ysys.www.hy.action;

import java.util.List;

import com.opensymphony.xwork2.Action;
import com.opensymphony.xwork2.ActionSupport;
import com.ysys.www.hy.service.GroupmanageService;
import com.ysys.www.hy.service.condition.Groupinfo;
import com.ysys.www.hy.service.condition.Groupshow;
import com.ysys.www.hy.service.condition.Pinfo;
public class HygroupmanageAction extends ActionSupport{

	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;
	private	GroupmanageService groupmanageService;
	private  List<Groupinfo> groupinfos;
	private  List<Groupshow> zmList;
	private  List<Pinfo> pinfos;
	private  String zuid;
	private  String zbid;
	private  String[] leftname;

	public String execute() throws Exception{
		this.groupinfos = groupmanageService.getmanage();
		this.zmList = groupmanageService.getzuname();
		if(zuid==null){
			this.pinfos = groupmanageService.getinfo(zmList, "");;
		}
        return Action.SUCCESS;
    }

	public String execute2() throws Exception{
		this.zmList = groupmanageService.getzuname();
		this.pinfos = groupmanageService.getinfo(zmList, zuid);

		this.groupinfos = groupmanageService.getmanage();
       return Action.SUCCESS;
    }
	public String updateZbyl() throws Exception{
		groupmanageService.updateZbyl(zbid);
		this.zmList = groupmanageService.getzuname();
		this.pinfos = groupmanageService.getinfo(zmList, zbid);
		
		this.groupinfos = groupmanageService.getmanage();
       return Action.SUCCESS;
    }
	
	public String deleteZbyl() throws Exception{
		groupmanageService.deleteZbyl(zbid);
//		this.zmList = groupmanageService.getzuname();
//		this.pinfos = groupmanageService.getinfo(zmList, zuid);
//		
//		this.groupinfos = groupmanageService.getmanage();
//		showlist();
       return Action.SUCCESS;
    }
	
	public String showlist() throws Exception{
		this.zmList = groupmanageService.getzuname();
		this.pinfos = groupmanageService.getinfo(zmList, "");
		this.groupinfos = groupmanageService.getmanage();
       return Action.SUCCESS;
    }
	
	
	public GroupmanageService getGroupmanageService() {
		return groupmanageService;
	}

	public void setGroupmanageService(GroupmanageService groupmanageService) {
		this.groupmanageService = groupmanageService;
	}

	public List<Groupinfo> getGroupinfos() {
		return groupinfos;
	}

	public void setGroupinfos(List<Groupinfo> groupinfos) {
		this.groupinfos = groupinfos;
	}

	public List<Groupshow> getZmList() {
		return zmList;
	}

	public void setZmList(List<Groupshow> zmList) {
		this.zmList = zmList;
	}

	public List<Pinfo> getPinfos() {
		return pinfos;
	}

	public void setPinfos(List<Pinfo> pinfos) {
		this.pinfos = pinfos;
	}

	public String getZuid() {
		return zuid;
	}

	public void setZuid(String zuid) {
		this.zuid = zuid;
	}
	public String getZbid() {
		return zbid;
	}

	public void setZbid(String zbid) {
		this.zbid = zbid;
	}

	public String[] getLeftname() {
		return leftname;
	}

	public void setLeftname(String[] leftname) {
		this.leftname = leftname;
	}

}
