package cn.helife.action;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import cn.helife.model.Person;

import com.googlecode.jsonplugin.annotations.JSON;
import com.opensymphony.xwork2.ActionSupport;

public class JsonAction extends ActionSupport {
	
	List<Person> pl = new ArrayList<Person>();
	private boolean success = true;

	@Override
	public String execute() throws Exception {
		
		Person p1 = new Person();
		Person p2 = new Person();
		Person p3 = new Person();
		Person p4 = new Person();
		Person p5 = new Person();
		
		p1.setId("001");
		p1.setName("ZhangSan");
		p1.setSex("male");
		p1.setEmail("www.sohu.com.cn");
		p1.setBirthday("2008-08-12");
		
		p2.setId("002");
		p2.setName("lisi");
		p2.setSex("female");
		p2.setEmail("bbb@com.cn");
		p2.setBirthday("2009-12-10");
		
		p3.setId("003");
		p3.setName("wangwu");
		p3.setSex("female");
		p3.setEmail("a@b.com");
		p3.setBirthday("2009-12-10");
		
		p4.setId("004");
		p4.setName("sst");
		p4.setSex("male");
		p4.setEmail("bbb@com.cn");
		p4.setBirthday("2009-12-10");
		
		p5.setId("005");
		p5.setName("John");
		p5.setSex("male");
		p5.setEmail("bbb@com.cn");
		p5.setBirthday("2009-12-10");

		pl.add(p1);
		pl.add(p2);
		pl.add(p3);
		pl.add(p4);
		pl.add(p5);
		return SUCCESS;
	}

	@JSON(name = "Person")
	public List<Person> getPl() {
		return pl;
	}

	public void setPl(List<Person> pl) {
		this.pl = pl;
	}

	@JSON(name = "s")
	public boolean isSuccess() {
		return success;
	}

	public void setSuccess(boolean success) {
		this.success = success;
	}

}
