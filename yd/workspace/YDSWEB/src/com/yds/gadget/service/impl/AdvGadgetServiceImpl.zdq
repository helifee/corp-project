/*
 * @(#)AdvGadgetServiceImpl.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 远东公司内部网
 *    SubSystem: 广告组件
 */
package com.yds.gadget.service.impl;

import java.io.File;
import java.util.ArrayList;
import java.util.List;
import java.util.Locale;

import org.apache.struts2.ServletActionContext;
import org.springframework.stereotype.Service;

import com.yds.base.service.AbstractBaseService;
import com.yds.gadget.service.AdvGadgetService;

/**
 * @see com.yds.gadget.service.AdvGadgetService
 * 
 */
@Service("advGadgetService")
public class AdvGadgetServiceImpl extends AbstractBaseService implements
		AdvGadgetService {

	private static String IMG_EXT = ".jpg";

	/**
	 * {@inheritDoc}
	 */
	@Override
	public List<String> getSlideList() {

		String pathName = "/images/activeDesk/advPic";
		File file = new File(ServletActionContext.getServletContext()
				.getRealPath(pathName));
		List<String> picNameList = new ArrayList<String>();

		// 查出pathName下的所有文件
		File[] fileNames = file.listFiles();
		String imgName;
		if (fileNames != null) {
			for (int i = 0; i < fileNames.length; i++) {
				imgName = fileNames[i].getName();
				if (imgName.toLowerCase(Locale.SIMPLIFIED_CHINESE).endsWith(IMG_EXT)) {
					picNameList.add(imgName.substring(0, imgName.length() - 4));
				}
			}
		}

		return picNameList;
	}

}
