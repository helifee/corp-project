/*
 * @(#)ActiveDeskAction.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 远东公司内部网
 *    SubSystem: 活动桌面
 */
package com.yds.gadget.action;

import java.util.List;

import org.springframework.beans.factory.config.BeanDefinition;
import org.springframework.context.annotation.Scope;
import org.springframework.stereotype.Controller;

import com.yds.base.action.AbstractBaseAction;
import com.yds.gadget.service.ActiveDeskService;
import com.yds.gadget.bean.ActiveDeskInfo;

/**
 * 个人活动桌面Action
 * 
 * @author 远东)zhangzheng
 * @version 1.00 2010/08/12
 */
@Scope(BeanDefinition.SCOPE_PROTOTYPE)
@Controller("activeDeskAction")
public class ActiveDeskAction extends AbstractBaseAction {

	private static final long serialVersionUID = 7481918898236296159L;
	private ActiveDeskService activeDeskService;
	private List<ActiveDeskInfo> activeDeskInfoList;
	private String strJson;
	private int gadgetId;
	private String foldFlg;

	public String findActiveDeskInfoLst() {
		activeDeskInfoList = activeDeskService.getActiveDeskInfoList();
		if (activeDeskInfoList.size() == 0) {
			activeDeskService.insertDefault();
			activeDeskInfoList = activeDeskService.getActiveDeskInfoList();
		}
		return SUCCESS;
	}

	public String updateDeskInfo() {
		activeDeskService.updateDeskInfo(activeDeskInfoList);
		strJson = "1";
		return SUCCESS;
	}

	public String updateFoldStatus() {
		activeDeskService.updateFoldStatus(gadgetId, foldFlg);
		strJson = "1";
		return SUCCESS;
	}

	public String delGadget() {
		activeDeskService.deleteGadget(gadgetId);
		strJson = "1";
		return SUCCESS;
	}

	public String resetGadget() {
		activeDeskService.deleteAll();
		return SUCCESS;
	}

	public List<ActiveDeskInfo> getActiveDeskInfoList() {
		return activeDeskInfoList;
	}

	public void setActiveDeskInfoList(List<ActiveDeskInfo> activeDeskInfoList) {
		this.activeDeskInfoList = activeDeskInfoList;
	}

	public String getStrJson() {
		return strJson;
	}

	public void setStrJson(String strJson) {
		this.strJson = strJson;
	}

	public void setActiveDeskService(ActiveDeskService activeDeskService) {
		this.activeDeskService = activeDeskService;
	}

	public int getGadgetId() {
		return gadgetId;
	}

	public void setGadgetId(int gadgetId) {
		this.gadgetId = gadgetId;
	}

	public String getFoldFlg() {
		return foldFlg;
	}

	public void setFoldFlg(String foldFlg) {
		this.foldFlg = foldFlg;
	}

}
