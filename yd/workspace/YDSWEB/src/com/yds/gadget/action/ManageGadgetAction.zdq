/*
 * @(#)ManageGadgetAction.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司 All rights
 * reserved. Project: 远东公司内部网
 *  SubSystem: 活动桌面
 */
package com.yds.gadget.action;

import java.util.List;

import net.sf.json.JSONArray;

import org.springframework.beans.factory.config.BeanDefinition;
import org.springframework.context.annotation.Scope;
import org.springframework.stereotype.Controller;

import com.yds.base.action.AbstractBaseAction;
import com.yds.gadget.service.ManageGadgetService;
import com.yds.gadget.bean.ActiveDeskInfo;
import com.yds.gadget.bean.GadgetInfo;

/**
 * 组件一览Action
 * 
 * @author 远东)zhangzheng
 * @version 1.00 2010/08/12
 */
@Scope(BeanDefinition.SCOPE_PROTOTYPE)
@Controller("manageGadgetAction")
public class ManageGadgetAction extends AbstractBaseAction {


	private static final long serialVersionUID = 932460696456201143L;
	/** Service */
	private ManageGadgetService manageGadgetService;
	/** 组件list */
	private List<GadgetInfo> manageGadgetInfoList;
	/** 组件一览返回值 */
	private String strJson;
	/** 组件设置 */
	private ActiveDeskInfo gadget;	

	/**
	 * 组件一览检索
	 * @return SUCCESS
	 */
	public String findGadgetInfoLst(){
		manageGadgetInfoList = manageGadgetService.getManageGadgetInfoList();
		JSONArray jo = JSONArray.fromObject(manageGadgetInfoList);
		strJson = jo.toString();
		return SUCCESS;
	}
	
	/**
	 * 画面初始化
	 * @return SUCCESS
	 */
	public String initManageGadget(){
		return SUCCESS;
	}
	
	/**
	 * 添加组件
	 * @return SUCCESS/ERROR
	 */
	public String addGadget() {
		if (manageGadgetService.addGadget(gadget)) {
			strJson = SUCCESS;
		} else {
			strJson = ERROR;
		}
		return SUCCESS;
	}

	/**
	 * @param manageGadgetService the manageGadgetService to set
	 */
	public void setManageGadgetService(ManageGadgetService manageGadgetService) {
		this.manageGadgetService = manageGadgetService;
	}

	/**
	 * @return the manageGadgetInfoList
	 */
	public List<GadgetInfo> getManageGadgetInfoList() {
		return manageGadgetInfoList;
	}

	/**
	 * @param manageGadgetInfoList the manageGadgetInfoList to set
	 */
	public void setManageGadgetInfoList(List<GadgetInfo> manageGadgetInfoList) {
		this.manageGadgetInfoList = manageGadgetInfoList;
	}

	/**
	 * @return the strJson
	 */
	public String getStrJson() {
		return strJson;
	}

	/**
	 * @param strJson the strJson to set
	 */
	public void setStrJson(String strJson) {
		this.strJson = strJson;
	}

	/**
	 * @return the gadget
	 */
	public ActiveDeskInfo getGadget() {
		return gadget;
	}

	/**
	 * @param gadget the gadget to set
	 */
	public void setGadget(ActiveDeskInfo gadget) {
		this.gadget = gadget;
	}

}
