/*
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 远东公司内部网
 *    SubSystem: 权限管理
 */

package com.yds.sample.action;

import java.util.ArrayList;
import java.util.List;

import org.springframework.beans.factory.config.BeanDefinition;
import org.springframework.context.annotation.Scope;
import org.springframework.stereotype.Controller;

import com.yds.base.action.AbstractBaseAction;
import com.yds.sample.bean.DepartmentInfo;

/**
 * 部门信息一览处理
 * 
 * @author renlong
 * @version 1.00 2010/01/04
 */
@Scope(BeanDefinition.SCOPE_PROTOTYPE)
@Controller("departmentSampleAction")
public class DepartmentSampleAction extends AbstractBaseAction {

	private static final long serialVersionUID = -1397051695703253282L;
	private List<DepartmentInfo> departmentInfos = new ArrayList<DepartmentInfo>();
	private int deptInfosCnt; // 部门数

	/**
	 * 画面的初期显示 部门信息一览取得
	 * 
	 * @return SUCCESS
	 */
	@Override
	public String execute() throws Exception {

		// 取得部门信息一览
		putDepartList();
		return SUCCESS;
	}
	/**
	 * 模拟添加部门
	 * @return
	 */
	public String addDepet(){
		// 取得部门信息一览
		DepartmentInfo departmentInfo2 = new DepartmentInfo();
		departmentInfo2.setDeptId("003");
		departmentInfo2.setDeptNm("国际开发三部");
		departmentInfo2.setDeptSnm("开发三部");
		this.departmentInfos.add(departmentInfo2);
		putDepartList();
		putOpTip(propMgr.getMessage("yds.com.info.0008"));
		return SUCCESS;
	}
	
	public String delDepet(){
		// 取得部门信息一览
		putDepartList();
		putOpTip(propMgr.getMessage("yds.com.info.0010"));
		return SUCCESS;
	}

	public void putDepartList(){
		// 取得部门信息一览
		DepartmentInfo departmentInfo = new DepartmentInfo();
		departmentInfo.setDeptId("001");
		departmentInfo.setDeptNm("国际开发一部");
		departmentInfo.setDeptSnm("开发一部");
		this.departmentInfos.add(departmentInfo);
		DepartmentInfo departmentInfo1 = new DepartmentInfo();
		departmentInfo1.setDeptId("002");
		departmentInfo1.setDeptNm("国际开发二部");
		departmentInfo1.setDeptSnm("开发二部");
		this.departmentInfos.add(departmentInfo1);
		
		this.deptInfosCnt = departmentInfos.size();
	}
	
	/**
	 * @return the departmentInfos
	 */
	public List<DepartmentInfo> getDepartmentInfos() {
		return departmentInfos;
	}

	/**
	 * @param departmentInfos the departmentInfos to set
	 */
	public void setDepartmentInfos(List<DepartmentInfo> departmentInfos) {
		this.departmentInfos = departmentInfos;
	}

	/**
	 * @return the deptInfosCnt
	 */
	public int getDeptInfosCnt() {
		return deptInfosCnt;
	}

	/**
	 * @param deptInfosCnt the deptInfosCnt to set
	 */
	public void setDeptInfosCnt(int deptInfosCnt) {
		this.deptInfosCnt = deptInfosCnt;
	}
}
