<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTDSQLMap2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="PaginationDao">
	<typeAlias alias="paginationCondA" type="com.yds.manual.bean.PaginationCondA"/>

	<!-- 用于SQL查询公用抽取语句 -->	
	<sql id="PaginationCondASQL">    
 		FROM 
		      man_major_info
		WHERE 
		      mod_type = 'pageshow'
		<isNotEmpty prepend="AND" property="belongto">			
			  pro4_var = #belongto#
		</isNotEmpty>
		ORDER BY ob_id
	</sql>			



	
	<!-- TODO 获取paginationCondA列表 --> 
	<select id="getPaginationCondAList" parameterClass="paginationCondA" resultClass="paginationCondA">
		SELECT
			ob_id    AS id,
			ob_name  AS ennm,
			pro1_var AS chnm,
			pro2_var AS nicknm,
			pro3_var AS introduce,
			pro4_var AS belongto
		<include refid="PaginationCondASQL"/>
	</select>


    <!-- 取得会议室信息总数 --> 
    <select id="getTotalCount" parameterClass="paginationCondA" resultClass="Long"> 
        SELECT
			COUNT(*) 
		<include refid="PaginationCondASQL"/>
	</select>		
</sqlMap>  
