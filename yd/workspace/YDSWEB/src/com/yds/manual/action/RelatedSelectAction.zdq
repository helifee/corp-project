/*
 * @(#)RelatedSelectAction.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 远东公司内部网
 *    SubSystem: Manual 
 */

package com.yds.manual.action;

import org.springframework.beans.factory.config.BeanDefinition;
import org.springframework.context.annotation.Scope;
import org.springframework.stereotype.Controller;

import com.yds.base.action.AbstractBaseAction;
import com.yds.manual.service.RelatedSelectService;

/**
 * 联动下拉列表
 * 
 * @author zhangdaoqiang
 * @version 1.00 2010/05/25
 */
@Scope(BeanDefinition.SCOPE_PROTOTYPE)
@Controller("relatedSelectAction")
public class RelatedSelectAction extends AbstractBaseAction {

	private static final long serialVersionUID = -1397051695703253282L;
	
	private RelatedSelectService relatedSelectService;
	
	//返回到页面的字符串
	private String selectList;
	
	//页面中各select的name
	private String nationId;
	private String provinceId;
	private String cityId;
	
	public String findSelect() {
		
		//设置下拉列表默认值
		this.setNationId("200");
		
		return SUCCESS;
	}

	/**
	 * 取得国籍列表
	 * 
	 * @return SUCCESS
	 */
	public String findNationList() throws Exception {
		
		//上级列表项Id
		String rootId = "000";
		
		this.setSelectList(relatedSelectService.getItemList(rootId));

		return SUCCESS;
	}

	/**
	 * 取得省份列表
	 * 
	 * @return SUCCESS
	 */
	public String findProvinceList() throws Exception {
		
		this.setSelectList(relatedSelectService.getItemList(this.nationId));
		
		return SUCCESS;
	}

	/**
	 * 取得城市列表
	 * 
	 * @return SUCCESS
	 */
	public String findCityList() throws Exception {
		
		this.setSelectList(relatedSelectService.getItemList(this.provinceId));
		
		return SUCCESS;
	}

	/**
	 * @return the selectList
	 */
	public String getSelectList() {
		return selectList;
	}

	/**
	 * @param selectList
	 *            the selectList to set
	 */
	public void setSelectList(String selectList) {
		this.selectList = selectList;
	}

	/**
	 * @return the provinceId
	 */
	public String getProvinceId() {
		return provinceId;
	}

	/**
	 * @param provinceId
	 *            the provinceId to set
	 */
	public void setProvinceId(String provinceId) {
		this.provinceId = provinceId;
	}

	/**
	 * @return the nationId
	 */
	public String getNationId() {
		return nationId;
	}

	/**
	 * @param nationId
	 *            the nationId to set
	 */
	public void setNationId(String nationId) {
		this.nationId = nationId;
	}

	/**
	 * @return the cityId
	 */
	public String getCityId() {
		return cityId;
	}

	/**
	 * @param cityId
	 *            the cityId to set
	 */
	public void setCityId(String cityId) {
		this.cityId = cityId;
	}

	public void setRelatedSelectService(RelatedSelectService relatedSelectService) {
		this.relatedSelectService = relatedSelectService;
	}
}
