/*
 * @(#)PaginationAction.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 远东公司内部网
 *    SubSystem: 开发手册
 */
package com.yds.manual.action;

import java.util.List;

import org.springframework.beans.factory.config.BeanDefinition;
import org.springframework.context.annotation.Scope;
import org.springframework.stereotype.Controller;

import com.yds.base.action.BasePagerAction;
import com.yds.manual.bean.PaginationCondA;
import com.yds.manual.service.PaginationService;

/**
 * 分页示例Action
 * 
 * @author 远东)xupai
 * @version 1.00 2010/08/04
 */
@Scope(BeanDefinition.SCOPE_PROTOTYPE)
@Controller("paginationAction")
public class PaginationAction extends BasePagerAction {

	private static final long serialVersionUID = 8333904084227397770L;
	private PaginationService paginationService;
	
	/** 检索信息一览 */
	private List<PaginationCondA> paginationCondAList;
	
	/** Pagination 画面Bean */
	private PaginationCondA paginationCondA;
	
//	/** 作品名称 */
//	private String belongto;
	
	public String findPaginationCondALst() throws Exception {
		
		super.setPagerParamter(
				paginationService.getTotalCount(paginationCondA),
				"manualFindPageLst.action",5);

		this.paginationCondAList = paginationService.getPaginationCondAList(
				pager.getOffset().intValue(), pager.getPerDisplayCount()
						.intValue(), paginationCondA);

		// Session里存检索条件
		paginationCondA.setPageNum(pageNumber);
		paginationCondA.setPageOffset(pager.getOffset());

		return SUCCESS;
	}

	public void setPaginationService(PaginationService PaginationService) {
		this.paginationService = PaginationService;
	}

	/**
	 * @param paginationCondAList
	 *            the paginationCondAList to set
	 */
	public void setPaginationCondAList(List<PaginationCondA> paginationCondAList) {
		this.paginationCondAList = paginationCondAList;
	}

	/**
	 * @return the paginationCondAList
	 */
	public List<PaginationCondA> getPaginationCondAList() {
		return paginationCondAList;
	}

	/**
	 * @return the paginationCondA
	 */
	public PaginationCondA getPaginationCondA() {
		return paginationCondA;
	}

	/**
	 * @param paginationCondA the paginationCondA to set
	 */
	public void setPaginationCondA(PaginationCondA paginationCondA) {
		this.paginationCondA = paginationCondA;
	}

}
