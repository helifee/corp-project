/*
 * @(#)TtCommonUtil.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 教育考试培训系统
 *    SubSystem: 共通
 */

package com.yds.tt.manager.service;

import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;

import com.yds.common.service.SessionService;

/**
 * TT工具类.
 * 
 * @author qianguorong
 * @version 1.00 2010/04/20
 */
public class TtCommonUtil {
	private static final int maxYear = 9999;
	private static final int maxMonth = 11;
	private static final int maxDate = 31;
	private static final int maxHour = 23;
	private static final int maxMiniute = 59;
	private static final int maxSecond = 59;

	/**
	 * 整数是否相等.
	 * 
	 * @param 整数1
	 *            （Bean属性）
	 * @param 整数2
	 *            （enum定数）
	 * @return boolean
	 */
	public static boolean isEquals(Integer beanObj, int enumValue) {

		if (beanObj == null) {
			return false;
		}
		if (beanObj == enumValue) {
			return true;
		}
		return false;
	}

	/**
	 * 取得最大的日期
	 * 
	 * @return 最大的日期
	 */
	public static Date getMaxDate() {

		Calendar calendar = Calendar.getInstance();
		calendar
				.set(maxYear, maxMonth, maxDate, maxHour, maxMiniute, maxSecond);
		return calendar.getTime();
	}

	/**
	 * 取得session中登录用户ID
	 * 
	 * @return 登录用户ID
	 */
	public static String getLoginUserId() {
		
		return SessionService.getLoginUserId();
	}

	/**
	 * 生成文件名
	 * 
	 * @param fileName
	 *            上传文件名
	 * @return String 处理后文件名
	 */
	public static String generateFileName(String fileName) {

		DateFormat format = new SimpleDateFormat(TtConstants.FILENAMEFORMAT);
		StringBuilder formatDate = new StringBuilder(format.format(new Date()));

		int position = fileName.lastIndexOf(".");
		String extension = fileName.substring(position);

		return formatDate.append(extension).toString();
	}
}
