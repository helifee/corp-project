/*
 * @(#) J020031DaoImpl.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 教育考试培训系统
 *    SubSystem: 教育子系统
 */

package com.yds.tt.training.dao.impl;

import java.util.Date;
import java.util.List;

import org.springframework.stereotype.Repository;

import com.yds.base.dao.AbstractBaseDao;
import com.yds.tt.manager.bean.AuthorityInfo;
import com.yds.tt.training.dao.J020031Dao;
import com.yds.tt.training.bean.BookInfo;
import com.yds.tt.training.bean.CourseBookRelation;
import com.yds.tt.training.bean.CourseInfo;
/**
 * @see J020031Dao
 */
@Repository("j020031Dao")
public class J020031DaoImpl extends AbstractBaseDao implements J020031Dao {
	
	/**
	 * {@inheritDoc}
	 */
	@Override
	public CourseInfo getCourseInfo(String courseId){
		return (CourseInfo)super.queryForObject("J020031Dao.getCourseInfo",courseId);
		
	};
	
	/**
	 * {@inheritDoc}
	 */
	@Override
	public int updateCourseInfo(CourseInfo manaCourseInfo){
		
		return super.update("J020031Dao.updateCourseInfo", manaCourseInfo);
	}

	/**
	 * {@inheritDoc}
	 */
	@Override
	public int updateApplyCourseInfo(CourseInfo manaCourseInfo){
		
		return super.update("J020031Dao.updateApplyCourseInfo", manaCourseInfo);
	}	
	
	/**
	 * {@inheritDoc}
	 */	
	@SuppressWarnings("unchecked")
	@Override
	public List<BookInfo> getBookInfoList(String courseId) {
		
		return (List<BookInfo>)super.queryForList("J020031Dao.getBookInfoList",courseId);
	}

	/**
	 * {@inheritDoc}
	 */	
	@Override
	public int updateConfirmCourse(CourseInfo manaCourseInfo){
		return super.update("J020031Dao.updateConfirmCourse",manaCourseInfo);
	}

	/**
	 * {@inheritDoc}
	 */		
	@Override
	public int updateReEditCourse(CourseInfo manaCourseInfo) {

		return super.update("J020031Dao.updateReEditCourse", manaCourseInfo);
		
	}

	/**
	 * {@inheritDoc}
	 */
	@Override
	public Date getTimeStamp(String courseId) {
		
		return (Date)super.queryForObject("J020031Dao.getTimeStamp",
				courseId);
	}

	/**
	 * {@inheritDoc}
	 */	
	@Override
	public Long getAuthority(AuthorityInfo ttAuthorityInfo) {
		
		return (Long)super.queryForObject("J020031Dao.getAuthority",
				ttAuthorityInfo);
	};

	/**
	 * {@inheritDoc}
	 */
	@Override
	public int deleteBookLink(CourseBookRelation courseBookRelation) {

		return super.delete("J020031Dao.deleteBookLink", courseBookRelation);
	}
	
	/**
	 * {@inheritDoc}
	 */
	@SuppressWarnings("unchecked")
	@Override
	public String getCourseApprover(String courseId){
		List<String> approverId =  (List<String>)super.queryForList("J020031Dao.getCourseApprover",courseId);
		if(approverId==null || approverId.size()==0){
			return "";
		}
		return approverId.get(0);
	}

	/**
	 * {@inheritDoc}
	 */
	@Override
	public Integer getPublishedBookCnt(String bookId) {
		return (Integer)super.queryForObject("J020031Dao.getPublishedBookCnt",
				bookId);
	};	

}
