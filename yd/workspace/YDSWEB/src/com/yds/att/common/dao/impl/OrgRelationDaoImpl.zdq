/*
 * @(#)OrgRelationDaoImpl.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 远东公司内部网
 *    SubSystem: 考勤管理
 */

package com.yds.att.common.dao.impl;

import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.springframework.stereotype.Repository;

import com.yds.att.bean.AttEmpOrgInfo;
import com.yds.att.common.dao.OrgRelationDao;
import com.yds.base.dao.AbstractBaseDao;
import com.yds.common.bean.UserInfo;

/**
 * @see com.yds.att.common.dao.OrgRelationDao
 */
@Repository("orgRelationDao")
public class OrgRelationDaoImpl extends AbstractBaseDao implements OrgRelationDao {

	/** 
	 *  {@inheritDoc}
	 */
	@SuppressWarnings("unchecked")
	@Override
	public List<AttEmpOrgInfo> getOrgsBy(String empId, Date date) {
		
		Map<String, Object> params = new HashMap<String, Object>();
		params.put("empId", empId);
		params.put("date", date);
		
		return (List<AttEmpOrgInfo>)super.queryForList("orgRelationDao.getOrgs", params);
		
	}

	/** 
	 *  {@inheritDoc}
	 */
	@SuppressWarnings("unchecked")
	@Override
	public List<AttEmpOrgInfo> getManagedOrgBy(String empId) {
		return super.queryForList("orgRelationDao.getManagedOrg", empId);
	}
	
	/** 
	 *  {@inheritDoc}
	 */
	@SuppressWarnings("unchecked")
	@Override
	public List<AttEmpOrgInfo> getManagedProjectBy(String empId) {
		return super.queryForList("orgRelationDao.getManagedProject", empId);
	}

	/** 
	 *  {@inheritDoc}
	 */
	@Override
	public String getOrgLevelBy(String orgId) {
		
		return (String) super.queryForObject("orgRelationDao.getOrgLevelBy", orgId);
	}

	/** 
	 *  {@inheritDoc}
	 */
	@Override
	public AttEmpOrgInfo getOrgBy(String level) {
		return (AttEmpOrgInfo) super.queryForObject("orgRelationDao.getOrgBy", level);
	}

	/** 
	 *  {@inheritDoc}
	 */
	@Override
	public AttEmpOrgInfo getOrgInfoBy(String orgId) {
		return (AttEmpOrgInfo) super.queryForObject("orgRelationDao.getOrgInfoById", orgId);
	}

	/** 
	 *  {@inheritDoc}
	 */
	@SuppressWarnings("unchecked")
	@Override
	public List<UserInfo> getMembersBy(String orgId, Date date) {
		Map<String, Object> params = new HashMap<String, Object>();
		params.put("orgId", orgId);
		params.put("date", date);
		
		return super.queryForList("orgRelationDao.getMembers", params);
	}

	/** 
	 *  {@inheritDoc}
	 */
	@SuppressWarnings("unchecked")
	@Override
	public List<AttEmpOrgInfo> getJoinPrjt(String empId, String type) {
		Map<String, Object> params = new HashMap<String, Object>();
		params.put("empId", empId);
		params.put("type", type);
		
		return super.queryForList("orgRelationDao.getJoinPrjt", params);
	}

}
