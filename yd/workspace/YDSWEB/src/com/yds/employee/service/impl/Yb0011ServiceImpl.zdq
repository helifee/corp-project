/*
 * @(#)Yb0011ServiceImpl.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 远东计算机社内网
 *    SubSystem: 人员管理
 */

package com.yds.employee.service.impl;

import java.util.ArrayList;
import java.util.List;

import org.springframework.stereotype.Service;

import com.yds.base.service.AbstractBaseService;
import com.yds.common.bean.EmpInfo;
import com.yds.employee.bean.Yb0011CondA;
import com.yds.employee.dao.Yb0011Dao;
import com.yds.employee.service.Yb0011Service;
import com.yds.util.service.StringUtil;

/**
 * @see com.yds.employee.service.Yb0010Service
 */
@Service("yb0011Service")
public class Yb0011ServiceImpl extends AbstractBaseService implements
		Yb0011Service {
	
	private Yb0011Dao yb0011Dao;
	/**
	 * {@inheritDoc}
	 */
	@Override
	public List<EmpInfo> getEmpInfoListAdv(Yb0011CondA yb0011CondA) {

		// 员工ID左端加YD
		yb0011CondA.setEmpId(
				StringUtil.leftPadYd(yb0011CondA.getEmpId()));
		// 员工姓名类型判断
		yb0011CondA.setEmpNmType(
				StringUtil.checkType(yb0011CondA.getEmpNm()).toString());

		// 员工一览信息
		List<EmpInfo> tempA = yb0011Dao.getEmpInfoListAdv(yb0011CondA);
		List<EmpInfo> tempB = new ArrayList<EmpInfo>() ;
		List<EmpInfo> tempC = new ArrayList<EmpInfo>() ;
		// 排序把退休和离职的人员往后排
		if (tempA != null && tempA.size() != 0) {	
			if(tempA.get(0).getPosSEQ()!=null && !"".equals(tempA.get(0).getPosSEQ())){
				return tempA;
			}
			else{
				for(int i =0;i<tempA.size();i++){
					if(tempA.get(i).getPosSEQ()!=null && !"".equals(tempA.get(i).getPosSEQ())){
						tempB.add(tempA.get(i));
					}else{
						tempC.add(tempA.get(i));
					}
				}
				tempB.addAll(tempC);
				return tempB;
		}
		}
		return tempA;
	}
	
	/**
	 * @param yb0011Dao the yb0011Dao to set
	 */
	public void setYb0011Dao(Yb0011Dao yb0011Dao) {
		this.yb0011Dao = yb0011Dao;
	}
}
