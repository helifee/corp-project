<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTDSQLMap2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="Yb7011Dao">
    <typeAlias alias="yb7011CondA" type="com.yds.employee.bean.Yb7011CondA"/>
    <typeAlias alias="yb7011CondB" type="com.yds.employee.bean.Yb7011CondB"/>
	
	<!-- 项目表中已开始数据的获取 -->
	<select id="getOldProgramInfoList" resultClass="yb7011CondA">		
		SELECT
				PRJ_ID            as   prjId
				,PRJ_NAME         as   prjNm
				,PRJ_DESCRIBE     as   prjDescribe
				,PRJ_CUSNAME      as   prjCusNm
				,PRJ_CUSCONTACT   as   prjCusContact
				,PRJ_ENVIR        as   prjEnvir
				,PRJ_DPTID        as   prjDepId
				,PRJ_PBDATE       as   prjPbDate
				,PRJ_PEDATE       as   prjPeDate
				,PRJ_TBDATE       as   prjTbDate
				,PRJ_TEDATE       as   prjTeDate
				,PRJ_DATE         as   prjDate
				,PRJ_REF          as   prjRef
				,PRJ_CNAME        as   prjCName
				,PRJ_ENAME        as   prjEName
			FROM
				TPRJMGRS
			WHERE
				PRJ_TBDATE != '0000-00-00'
			ORDER BY
				PRJ_ID
		</select>	
		
	<!--项目人员表中相关人员信息的获取 -->
	<select id="getOldStaffInfoList" parameterClass = "yb7011CondA" resultClass="yb7011CondB">		
		SELECT	
				PRJ_ID	         as   prjId
				,PRJ_EMPID	     as   prjEmpId
				,PRJ_FLAG	     as   prjFlag
				,PRJ_BEGDATE	 as   prjBegDate
				,PRJ_ENDDATE	 as   prjEndDate
			FROM	
				TPRJJION	
			WHERE	
				PRJ_ID = #prjId#
			ORDER BY	
				PRJ_FLAG	
				,PRJ_EMPID	
				,PRJ_BEGDATE	
				,PRJ_ENDDATE	
		</select>	
		
</sqlMap>  
