/*
 * @(#)LibInterceptor.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 远东工会图书管理
 */
package com.yds.library.interceptor;

import org.springframework.stereotype.Component;

import com.opensymphony.xwork2.ActionInvocation;
import com.opensymphony.xwork2.interceptor.AbstractInterceptor;
import com.yds.util.service.DbContextHolder;

/**
 * 图书系统默认拦截器
 * 
 * @author zhanghaibo
 * @version 1.00 2011/01/05
 */
@Component("libInterceptor")
public class LibInterceptor extends AbstractInterceptor {
	
	private static final long serialVersionUID = 5874723381174119570L;

	@Override
	public String intercept(ActionInvocation invocation) throws Exception {
			
			// 每个Http请求对应的线程使用默认的DB连接		
			DbContextHolder.clearDbType();
			
			return invocation.invoke();
	}
}
