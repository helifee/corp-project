/*
 * @(#)NumberUtil.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 远东公司内部网
 *    SubSystem: 共通系统
 */

package com.yds.util.service;

import java.math.BigDecimal;
import java.text.DecimalFormat;

import org.apache.commons.lang.math.NumberUtils;

/**
 * 数字工具类.
 * 
 * @author sundefu
 * @version 1.00 2010/11/16
 */
public class NumberUtil extends NumberUtils {

	/**
	 * Double型数值计算结果处理函数.
	 * 
	 * @param doubleNumber
	 *            处理前数值
	 * @param bitNum
	 *            保留位数(默认为两位小数)
	 * @return Double 处理后数值
	 */
	public static Double doubleFormat(Double doubleNumber, int... bitNum) {
		int unitNum = 2;
		if (bitNum.length != 0) {
			unitNum = bitNum[0];
		}
		String formatUnit = "0." + StringUtil.getUnit(unitNum);
		DecimalFormat format = new DecimalFormat(formatUnit);
		return Double.valueOf(format.format(doubleNumber));
	}

	/**
	 * Double型数值计算结果保留固定位数（可选舍入方式）.
	 * 
	 * @param value
	 *            处理前数值
	 * @param scale
	 *            保留位数
	 * @param roundingMode
	 *            舍入方式（默认为四舍五入）
	 * @return Double 处理后数值
	 */
	public static double round(double value, int scale, int... roundingMode) {
		int roundMode = BigDecimal.ROUND_HALF_UP;
		if (roundingMode.length != 0) {
			roundMode = roundingMode[0];
		}
		BigDecimal bd = new BigDecimal(value);
		bd = bd.setScale(scale, roundMode);
		double d = bd.doubleValue();
		return d;
	}
}
