<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTDSQLMap2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="TreeTableDao">
	<typeAlias alias="author" type="com.yds.manual.bean.TreeTableAuthor"/>
	<typeAlias alias="book" type="com.yds.manual.bean.TreeTableBook"/>
	
	<!-- 获取作者列表 --> 
	<select id="getAuthorList" resultClass="author">
		SELECT PRO1_VAR AS AUTHORNAME, PRO2_VAR AS AUTHORID FROM MAN_MAJOR_INFO WHERE MOD_TYPE='treetable' AND OB_NAME='author' 
	</select>

	<!-- 获取图书列表 --> 
	<select id="getBookList" parameterClass="String" resultClass="book">
		SELECT PRO1_VAR AS BOOKNAME, PRO2_VAR AS BOOKAUTHOR, PRO3_VAR AS BOOKISBN, PRO1_FLOAT AS BOOKPRICE FROM MAN_MAJOR_INFO WHERE MOD_TYPE='treetable' AND OB_NAME='book' and PRO2_VAR=#author# 
	</select>

</sqlMap>  
