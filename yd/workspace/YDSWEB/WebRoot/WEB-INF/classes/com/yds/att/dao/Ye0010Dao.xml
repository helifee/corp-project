<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTDSQLMap2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="Ye0010Dao">
	
    <typeAlias alias="attInfoApp" type="com.yds.att.bean.AttInfo"/>
    <typeAlias alias="attMonReport" type="com.yds.att.bean.AttMonReport"/>
    <typeAlias alias="ye0010CondA" type="com.yds.att.bean.Ye0010CondA"/>

	<!--检索本月小计 --> 
	<select id="getMonReport" parameterClass="ye0010CondA" resultClass="AttMonReport">
		SELECT
			EMP_ID			AS empId,
			YEAR			AS year,
			MONTH			AS month,
			PER_MIN 		AS perMin,
			SICK_MIN 		AS sickMin,
			BELATE_MIN		AS belateMin,
			BELATE_CNT		AS belateCnt,
			LVE_EARLY_MIN	AS lveEarlyMin,
			LVE_EARLY_CNT	AS lveEarlyCnt,
			WORKDAY_OT_MIN	AS workdayOtMin,
			E_REST_MIN		AS erestMin
		FROM  ATT_MON_REPORT
		WHERE EMP_ID = #empId# AND
				YEAR = #year# AND
			   MONTH = #month#
	</select>
	
	<!--检索考勤信息 --> 
	<select id="getAttInfo" parameterClass="ye0010CondA" resultClass="attInfoApp">
		SELECT
			EMP_ID			AS empId,
			YEAR			AS year,
			MONTH			AS month,
			DAY				AS day,
			DAY_FLG			AS dayFlg,
			TYPE_FLG		AS typeFlg,
			CLOCK_IN		AS clockIn,
			P_START_TIME	AS pstartTime,
			P_END_TIME		AS pendTime,
			LUNCH_TIME_ST	AS lunchTimeSt,
			LUNCH_TIME_END	AS lunchTimeEnd,
			DINNER_TIME_END	AS dinnerTimeEnd,
			R_START_TIME	AS rstartTime,
			R_END_TIME		AS rendTime,
			FIRST_TIME		AS firstTime,
			LAST_TIME		AS lastTime,
			REST_TYPE		AS restType,
			APP_STATUS		AS appStatus,
			APP_ID			AS appId,
			REST_TYPE_ADDI	AS restTypeAddi,
			APP_STATUS_ADDI	AS appStatusAddi,
			APP_ID_ADDI		AS appIdAddi,
			ATT_STATUS_COR	AS attStatusCor,
			APP_ID_COR		AS appIdCor,
			ATT_STATUS_OT	AS attStatusOt,
			OT_ST_TIME		AS otStTime,
			OT_ED_TIME		AS otEdTime,
			OT_BENEFIT		AS otBenefit
		FROM ATT_INFO
		WHERE EMP_ID = #empId# AND
				YEAR = #year# AND
			   MONTH = #month#   
	</select>
</sqlMap>
