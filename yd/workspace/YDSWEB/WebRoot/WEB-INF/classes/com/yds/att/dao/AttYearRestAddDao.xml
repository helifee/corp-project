<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="attYearRestAddDao">

    <typeAlias alias="attYearRestAdd" type="com.yds.att.bean.AttYearRestAdd"/>

	<!-- 用于select查询公用抽取的列 -->
	<sql id="commonColumns">
	    <![CDATA[
        	APP_ID as appId ,
        	APP_YEAR as appYear ,
        	APP_PER_ID as appPerId ,
        	APP_ORGANIZATION_ID as appOrganizationId ,
        	APP_DATE as appDate ,
        	APP_REASON as appReason ,
        	APP_STATUS as appStatus 
	    ]]>
	</sql>
	
    <insert id="insertAttYearRestAdd" parameterClass="attYearRestAdd">
    <![CDATA[
        INSERT INTO
        att_year_rest_add (
        	APP_ID ,
        	APP_YEAR ,
        	APP_PER_ID ,
        	APP_ORGANIZATION_ID ,
        	APP_DATE ,
        	APP_REASON ,
        	APP_STATUS 
        ) VALUES (
        	#appId# ,
        	#appYear# ,
        	#appPerId# ,
        	#appOrganizationId# ,
        	#appDate# ,
        	#appReason# ,
        	#appStatus# 
        )
    ]]>
    </insert>

    <update id="updateAttYearRestAdd" parameterClass="attYearRestAdd">
    <![CDATA[
        UPDATE att_year_rest_add SET
	        APP_YEAR = #appYear# ,
	        APP_PER_ID = #appPerId# ,
	        APP_ORGANIZATION_ID = #appOrganizationId# ,
	        APP_DATE = #appDate# ,
	        APP_REASON = #appReason# ,
	        APP_STATUS = #appStatus# 
        WHERE 
	        APP_ID = #appId# 
    ]]>
    </update>

    <delete id="deleteAttYearRestAdd" parameterClass="attYearRestAdd">
    <![CDATA[
        delete from att_year_rest_add where
        APP_ID = #appId# 
    ]]>
    </delete>
    
    <select id="getAttYearRestAddByPk" parameterClass="attYearRestAdd" resultClass="attYearRestAdd">
	    select <include refid="commonColumns"/>
	    <![CDATA[
	        from att_year_rest_add 
	        where 
		        APP_ID = #appId# 
	    ]]>
    </select>

	<sql id="dynamicWhere">
	    <dynamic prepend="WHERE">
	       <isNotEmpty prepend="AND" property="appId">
	             APP_ID = #appId#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="appYear">
	             APP_YEAR = #appYear#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="appPerId">
	             APP_PER_ID = #appPerId#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="appOrganizationId">
	             APP_ORGANIZATION_ID = #appOrganizationId#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="appDate">
	             APP_DATE = #appDate#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="appReason">
	             APP_REASON = #appReason#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="appStatus">
	             APP_STATUS = #appStatus#
	       </isNotEmpty>
	    </dynamic>	
	</sql>
	 
    <select id="getAttYearRestAddCount" resultClass="long">
    <![CDATA[
        select count(*) from att_year_rest_add
    ]]>
		<include refid="dynamicWhere"/>    
    </select>
    
    <select id="getAttYearRestAddList" resultClass="attYearRestAdd">
    	select <include refid="commonColumns"/>
	    <![CDATA[
	        from att_year_rest_add 
	    ]]>
		<include refid="dynamicWhere"/>
    </select>

</sqlMap>
