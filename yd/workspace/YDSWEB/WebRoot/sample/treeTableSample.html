<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>示例</title>
		<link href="../css/blue.css" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="../js/common/prototype.js"></script>
		<script type="text/javascript" src="../js/common/util.js"></script>
		<script type="text/javascript" src="../js/common/treeTableX.js"></script>
		<script>
			function init() {
				var param = {};
				// 目标容器
				param.dest = 'mtable';
				
				// 整体大小
				param.size = {
					width: 400,
					height: 400
				};
				
				// 总层数
				param.totalLevel = 3;
				
				// 表头各列名及宽度(可选)
				param.headWidth = {
					'编号': 70,
					'姓名': 70,
					'书名': 130,
					'价格': 50,
					'ISBN': 80
				};
				
				// 一级各列宽度
				param.lv1Width = {
					'authId': 70,
					'blank': 20,
					'authName': 70,
					'sumBook': 220
				};
				
				// 一级各列附加CSS
				param.lv1Class = {
					'authId': 'text_center',
					'authName': 'text_indent_8',
					'sumBook': 'text_right font_simsun'
				};
				
				// 二级各列宽度
				param.lv2Width = {
					'bookName': 130,
					// 因为下面设置了padding 6,所以这里是50-6=44
					'bookPrice': 44,
					'bookIsbn': 80,
					'sumStore': 70
				};
				
				// 二级各列附加CSS
				param.lv2Class = {
					'bookName': 'text_indent_8',
					// 这里有padding 6
					'bookPrice': 'padding_right_6 text_right font_simsun',
					'bookIsbn': 'text_indent_12 font_simsun',
					'sumStore': 'text_center'
				};
				
				param.lv3Width = {
					'storeName': 130,
					'storeCount': 70
				}
				param.lv3Class = {
					'storeName': 'text_indent_8',
					'storeCount': 'text_indent_12 font_simsun'
				}
				
				// 使用ajax加载第二级数据
				param.ajax = {
					// 注意参数传递方式
					lv2: 'treeAjax/#{authId}.html'
				}
				
				// 子列表名称
				param.lv2Name = "bookList";
				param.lv3Name = "storeList";
				
				// 缩进
				param.lv2Indent = 70;
				param.lv3Indent = 130;
				
				// 数据：对象数组
				var data = [{
					'authId': 'A01',
					'authName': '张三',
					'sumBook': 3
				}, {
					'authId': 'A14',
					'authName': '李四',
					'sumBook': 3
				}, {
					'authId': 'A03',
					'authName': '王二',
					'sumBook': 5
				}, {
					'authId': 'A09',
					'authName': '麻子',
					'sumBook': 4
				}, {
					'authId': 'C21',
					'authName': '路人甲',
					'sumBook': 3
				}, {
					'authId': 'B22',
					'authName': '路人乙',
					'sumBook': 2
				}, {
					'authId': 'K47',
					'authName': '打酱油的',
					'sumBook': 3
				}];
				
				var myTree = new TreeTableX(param, data);
				
				// 使用ajax加载第二个树表格
				TreeTableX.AjaxLoadData('treeAjax/full.html', init2);
			}
			
			function init2(data) {
				debug = false;
				var param = {};
				// 目标容器
				param.dest = 'ctable';
				
				// 整体大小
				param.size = {
					width: 400,
					height: 400
				};
				
				param.totalLevel = 2;
				
				param.lv2Name = "bookList";
				
				param.lv2Indent = 140;
				
				// 表头各列名及宽度
				param.headWidth = {
					'编号': 70,
					'姓名': 70,
					'书名': 130,
					'价格': 50,
					'ISBN': 80
				};
				
				// 不要表头(设为true时不用设置headWidth)
				//param.noHead = true;
				
				// 一级各列宽度
				param.lv1Width = {
					'authId': 70,
					'authName': 70,
					'sumBook': 240
				};
				
				// 一级各列附加CSS
				param.lv1Class = {
					'authId': 'text_center',
					'authName': 'text_indent_8',
					'sumBook': 'text_right font_simsun'
				};
				
				// 二级各列宽度
				param.lv2Width = {
					'bookName': 130,
					// 因为下面设置了padding 6,所以这里是50-6=44
					'bookPrice': 44,
					'bookIsbn': 70
				};
				
				// 二级各列附加CSS
				param.lv2Class = {
					'bookName': 'text_indent_8',
					// 这里有padding 6
					'bookPrice': 'padding_right_6 text_right font_simsun',
					'bookIsbn': 'text_indent_12 font_simsun'
				};
				
				var myTree2 = new TreeTableX(param, data);
			}
		</script>
	</head>
	<body onload="init();">
		<div class="container">
			<br/>
			<div id="mtable" class="span-11"></div>
			<div id="ctable" class="span-11"></div>
		</div>
	</body>
</html>
