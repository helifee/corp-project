package com.yds.util.service;

import static org.junit.Assert.*;

import java.util.ArrayList;
import java.util.List;

import org.junit.Before;
import org.junit.Test;

import com.yds.common.bean.UserInfo;
import com.yds.common.bean.UserPerm;

public class BeanUtilTest {
	@Before
	public void setUp() throws Exception {
	}

	@Test
	public void testCopeBean() throws Exception{
		UserInfo userInfo = new UserInfo();
		userInfo.setUserId("001");
		userInfo.setUserName("tianjian");
		UserPerm userPerm = new UserPerm();
		BeanUtil.copyBean(userInfo, userPerm);
		assertEquals(userInfo.getUserId(), userPerm.getUserId());
		assertEquals(userInfo.getUserName(), userPerm.getUserName());
		
		UserPerm userPerm2 = new UserPerm();
		List<String> excludeList = new ArrayList<String>();
		excludeList.add("userId");
		BeanUtil.copyBean(userInfo, userPerm2,excludeList);
		assertNull(userPerm2.getUserId());
		assertEquals(userInfo.getUserName(), userPerm2.getUserName());
		
		UserPerm userPerm3 = new UserPerm();
		List<String> inludeList = new ArrayList<String>();
		inludeList.add("userId");
		BeanUtil.copyBean(userInfo, userPerm3,null,inludeList);
		assertNull(userPerm3.getUserName());
		assertEquals(userInfo.getUserId(), userPerm3.getUserId());
		
		UserPerm userPerm4 = new UserPerm();
		List<String> excludeList2 = new ArrayList<String>();
		List<String> inludeList2 = new ArrayList<String>();
		excludeList2.add("userId");
		inludeList2.add("userName");
		BeanUtil.copyBean(userInfo, userPerm4,excludeList2,inludeList2);
		assertNull(userPerm4.getUserId());
		assertEquals(userInfo.getUserName(), userPerm4.getUserName());
		
	}

}
