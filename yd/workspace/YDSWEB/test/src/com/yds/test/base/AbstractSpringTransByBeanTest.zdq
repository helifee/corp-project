/*
 * @(#)AbstractSpringTransByBeanTest.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 远东公司内部网
 *    SubSystem: 共通系统
 */

package com.yds.test.base;

import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.AbstractTransactionalJUnit4SpringContextTests;

/**
 * 利用基于注解的spring TestContext 测试框架测试基类，支持事务.<br>
 * 
 * @author xieyujun
 * 
 */
@ContextConfiguration(locations = { "classpath:applicationContext-*.xml" })
public abstract class AbstractSpringTransByBeanTest extends AbstractTransactionalJUnit4SpringContextTests {

	/**
	 * 返回sql文件全路径.
	 * 
	 * @param clazz
	 *            测试类类名.
	 * @param sqlfilesuffix
	 *            sql文件名后缀. 如文件为：DepartmentDaoImplSpringTransTest_init.sql<bR>
	 *            对应参数为：init
	 * @return sql文件全路径
	 */
	public String getSqlResourcePath(Class<? extends Object> clazz, String sqlfilesuffix) {
		StringBuilder sBuilder = new StringBuilder();
		sBuilder.append("file://");
		sBuilder.append(clazz.getResource(".").getPath());
		sBuilder.append(clazz.getSimpleName());
		sBuilder.append("_");
		sBuilder.append(sqlfilesuffix);
		sBuilder.append(".sql");
		return sBuilder.toString();
	}
}
