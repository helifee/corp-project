/*
 * @(#)BatchServiceCtrl.java
 * Copyright (c) 2009-2010 大连远东计算机系统有限公司
 * All rights reserved.
 *      Project: 远东公司内部网
 *    SubSystem: 批处理系统
 */

package com.yds.batch.service.impl;

import static org.junit.Assert.fail;

import org.junit.Test;

/**
 * 批处理服务启动停止控制测试
 * 
 * @author wangduo
 * @version 1.00 2010/05/27
 */
public class BatchServiceCtrlImplTest {

	private static final int SERVICE_PORT = 12345;

	private BatchServiceCtrlImpl startSuccess;

	private BatchServiceCtrlImpl startFail;

	/**
	 * Test method for
	 * {@link com.yds.batch.service.impl.BatchServiceCtrlImpl#startup(int)}.
	 * 
	 * @throws Exception
	 */
	@Test
	public synchronized void testStartup() throws Exception {

		// 成功启动
		startSuccess = new BatchServiceCtrlImpl();

		startSuccess.startup(SERVICE_PORT);

		// 失败启动
		startFail = new BatchServiceCtrlImpl();

		startFail.startup(SERVICE_PORT);

		if (!startSuccess.shutdown()) {
			fail("成功启动或终止程序不正确。");
		}

		if (startFail.shutdown()) {
			fail("失败启动或终止程序不正确。");
		}

	}

}
