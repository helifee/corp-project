/**
 * プログラム名：サービス２
 * 機能概要：データベースでテープルの情報を検索する
 * 作成者：張瑜
 * 作成日：2008/9/26
 * バージョン：1.0
 * 修正履歴：
 */ 
package services;
import java.util.ArrayList;
import java.util.List;

import pojo.dao.PjinfoDAO;
import pojo.Pjinfo; 
import pojo.dao.UsermstDAO;
import pojo.Usermst; 
import pojo.dao.BusyomstDAO;
import pojo.Busyomst; 

public class ManageUser02Service {
	private PjinfoDAO pjinfoDAO; 
	public PjinfoDAO getPjinfoDAO() {
		return pjinfoDAO;
	} 
	public void setPjinfoDAO(PjinfoDAO pjinfoDAO) {
		this.pjinfoDAO = pjinfoDAO;
	} 
	private UsermstDAO usermstDAO; 
	public UsermstDAO getUsermstDAO() {
		return usermstDAO;
	} 
	public void setUsermstDAO(UsermstDAO usermstDAO) {
		this.usermstDAO = usermstDAO;
	} 	
	private BusyomstDAO busyomstDAO; 
	public BusyomstDAO getBusyomstDAO() {
		return busyomstDAO;
	} 
	public void setBusyomstDAO(BusyomstDAO busyomstDAO) {
		this.busyomstDAO = busyomstDAO;
	} 	
	public void saveinfo(Pjinfo pjinfo) {
		try{	
			pjinfoDAO.getHibernateTemplate().save(pjinfo);
		}catch(Exception ex){
				
		}
	}
	/**
	 * プロジェクト番号でPjinfoテーブルを検索する
	 * @param projectid
	 * @return
	 */
	public Pjinfo findBykey(String projectid){
		String queryString="from Pjinfo u where  trim(u.projectid)=?";
		List<Pjinfo> result =new ArrayList<Pjinfo>();
		result= (List<Pjinfo>)pjinfoDAO.getHibernateTemplate().find(queryString,projectid.trim());
		if(result.size()>0){
			return (Pjinfo)result.get(0);
		}else{
			return null;
		}
	}
	/**
	 * 管理者番号でUsermstテーブルを検索する
	 * @param projectid
	 * @return
	 */
	public Usermst getUserByUserId(String userid){
		String queryString="from Usermst u where trim(u.userid)=?";
		List<Usermst> result =new ArrayList<Usermst>();
		result= (List<Usermst>)usermstDAO.getHibernateTemplate().find(queryString,userid.trim());
		if(result.size()>0){
			return (Usermst)result.get(0);
		}else{
			return null;
		}
	}
	/**
	 * 部門番号でBusyomstテーブルを検索する
	 * @param projectid
	 * @return
	 */
	public Busyomst getBYBusyoid(String busyoid){
		String queryString="from Busyomst u where trim(u.busyoid)=?";
		List<Busyomst> result =new ArrayList<Busyomst>();
		result= (List<Busyomst>)busyomstDAO.getHibernateTemplate().find(queryString,busyoid.trim());
		if(result.size()>0){
			return (Busyomst)result.get(0);
		}else{
			return null;
		}
	}
}
