/*
 * Copyright (c) 2009-2010 by DaLian YuDong Computer System CO.,LTD
 * All rights reserved.
 *      Project: SSH
 *    SubSystem: 会议室管理子系统
 */

package com.ysys.www.hy.dao.impl;

import java.util.List;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import org.springframework.orm.hibernate3.support.HibernateDaoSupport;

import com.ysys.www.hy.dao.LoginDao;
import com.ysys.www.hy.dao.condition.Tempinfo;

/**
 *  @see com.ysys.www.hy.dao.LoginDao
 */
public class LoginDaoImpl extends HibernateDaoSupport implements LoginDao {
	private static final Log log = LogFactory.getLog(LoginDaoImpl.class);

	 /**
	 * {@inheritDoc}
	 */
	@Override
	@SuppressWarnings("unchecked")
	public List<Tempinfo> login(String userid) {
		log.debug("userid：" + userid + "logon...");
		try {
			//检索类型标志为0(正常)
			String queryString = "from Tempinfo t where id = '" + userid
					+ "' and empFlag = '0'";

			return getHibernateTemplate().find(queryString);

		} catch (RuntimeException re) {
			log.error("find all failed", re);
			throw re;
		}
	}

}
