package com.creditease.b2bsettle.basedata.service;

import static org.junit.Assert.*;

import java.util.Date;

import org.junit.Test;
import org.springframework.beans.factory.annotation.Autowired;

import com.creditease.b2bsettle.basedata.base.BaseTest;
import com.creditease.b2bsettle.basedata.model.Function;

public class FunctionServiceTest extends BaseTest {

	@Autowired
	private FunctionService functionService;
	
	@Test
	public void addFunction() {
		Function function = new Function();
		function.setCode("00");
		function.setName("对外结算");
		function.setSysId("portal");
		functionService.addFunction(function);
		Function function2 = functionService.findFunctionByCode("portal", "00");
		assertNotNull(function2);
	}
	
	@Test
	public void delFunctionByCode() {
		boolean condition = functionService.delFunctionByCode("portal", "00");
		assertTrue(condition);
	}
	
	@Test
	public void updateFunction() {
		Function function = functionService.findFunctionByCode("portal", "00");
		if(function != null) {
			function.setName("对外结算new");
			function.setModifyTime(new Date());
			boolean condition = functionService.updateFunction(function);
			assertTrue(condition);
		}
	}
	
	@Test
	public void findFunctionByCode() {
		Function function = functionService.findFunctionByCode("portal", "00");
		assertNull(function);
	}

	public FunctionService getFunctionService() {
		return functionService;
	}

	public void setFunctionService(FunctionService functionService) {
		this.functionService = functionService;
	}
}
