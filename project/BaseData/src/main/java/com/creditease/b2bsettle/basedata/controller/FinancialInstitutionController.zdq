package com.creditease.b2bsettle.basedata.controller;

import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import net.sf.json.JSONObject;

import org.junit.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;

import com.creditease.b2bsettle.basedata.external.model.FinancialInstitutionResDetail;
import com.creditease.b2bsettle.basedata.model.BankDataByMercIdRes;
import com.creditease.b2bsettle.basedata.model.FinancialInstitution;
import com.creditease.b2bsettle.basedata.service.FinancialInstitutionService;

@Controller
@RequestMapping(value = "/financialinstitution")
public class FinancialInstitutionController {

	@Autowired
	private FinancialInstitutionService financialInstitutionService;
	
	
	
	/**
	 * 获取银行基础数据列表
	 * @param reqParam
	 * @return
	 */
//	@RequestMapping(value = "/query" ,method = RequestMethod.POST)
//	@ResponseBody
//	@Test
//	public JSONObject queryBankAccInfoByComId(@RequestBody JSONObject reqParam) {
//		System.out.println( "xxx  服务器端接收");
//		SimpleDateFormat df=new SimpleDateFormat("yyyy-MM-dd HH:MM:ss");
//		Date date = new Date();
//		String strDate=df.format(date);
//		
//		String sendTime =(String) reqParam.get("sendTime");
//		String userId = (String) reqParam.get("userId");
//		
//		List<BankDataByMercIdResDetail> sendlist = new ArrayList<BankDataByMercIdResDetail>();
//		List<FinancialInstitution> list = financialInstitutionService.queryFinancialInstitutionAll();
//		for(int i=0; i<list.size(); i++){
//			BankDataByMercIdResDetail bankDataByMercIdResDetail = new BankDataByMercIdResDetail();
//			bankDataByMercIdResDetail.setBankCode(list.get(i).getBankCode());
//			bankDataByMercIdResDetail.setBankName(list.get(i).getBankName());
//			sendlist.add(bankDataByMercIdResDetail);
//		}
//		
//		BankDataByMercIdRes res = new BankDataByMercIdRes();
//		res.setBankList(sendlist);
//		res.setSendTime(strDate);
//		res.setRetCode("1");//1成功 2失败
//		res.setRetMessage("发送成功");
//		JSONObject obj = JSONObject.fromObject(res);
//		System.out.println( "xxx  服务器端发送");
//		return obj;
//	}
	
	
	
	
}
