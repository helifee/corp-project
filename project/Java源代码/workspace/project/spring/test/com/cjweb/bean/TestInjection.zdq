package com.cjweb.bean;

import org.springframework.beans.factory.BeanFactory;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import junit.framework.TestCase;

public class TestInjection extends TestCase {
	
	private BeanFactory factory;

	@Override
	protected void setUp() throws Exception {
		
		/**
		 * TODO 如果此外是"applicationContext-*.xml"，而配置文件名称是
		 * applicationContext.xml,依然能够生成factory对象？？？
		 */
		factory = new ClassPathXmlApplicationContext("applicationContext-*.xml");
	}

	/**
	 * 测试注入
	 */
	public void testInjection() {
		People p = (People) factory.getBean("people");
		System.out.println("int: \t" + p.getId());
		System.out.println("String:\t" + p.getName());
		System.out.println("List: \t" + p.getFriends());
		System.out.println("Array: \t" + p.getThing());
		System.out.println("Set: \t" + p.getCompany());
		System.out.println("Map: \t" + p.getScore());
		System.out.println("Date: \t" + p.getBirthday());
		
	}
	
	/**
	 * 测试scope
	 */
	public void testScope() {
		People p = (People) factory.getBean("people");
		People p2 = (People) factory.getBean("people");
		
		if(p == p2) {
			System.out.println("p==p2");
		} else {
			System.out.println("p!=p2");
		}
	}
}
