package com.cnaps.hvps.action.messages;

import java.util.ArrayList;
import java.util.List;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionForward;
import org.apache.struts.action.ActionMapping;

import com.bancstone.action.BaseAction;
import com.cnaps.coreservices.DuizhangService;

public class ReportManagAction extends BaseAction{
	/**
	 * 汇总对账
	 * 
	 * @param mapping
	 * @param form
	 * @param request
	 * @param response
	 * @return
	 */
	public ActionForward checkTotalAcct(ActionMapping mapping, ActionForm form,
			HttpServletRequest request, HttpServletResponse response) {
		String systemcd = request.getParameter("systemcd");
		String chckDt = request.getParameter("chckdt");// 对账日期
		DuizhangService ds = (DuizhangService) this.getBean("DuizhangService");
		
		List list = new ArrayList();
		// 返回的路径
		String mappingforward = "";
		if ("HVPS".equals(systemcd)) {//大额汇总查询
			list = ds.checkTotalAcctHVPS(chckDt);
			mappingforward = "checkTotalAcctHVPS";
		} else {//小额汇总查询
			list = ds.checkTotalAcctBEPS(chckDt);
			mappingforward = "checkTotalAcctBEPS";
		}
		this.setObjectToRequest(request, "queryList", list);
		request.setAttribute("chckdt", chckDt);
		return mapping.findForward(mappingforward);
	}
}
