package com.bancstone.constants;

import java.util.List;


import com.bancstone.hibernate.systemManage.Systemorganizationsmanage;
import com.bancstone.hibernate.systemManage.Systemusersmanage;


public class SystemUserManagerConstants 
{
	
	
	
	 /**
	 * <ul>
	 * <li>1、开发作者：史文龙</li>
	 * <li>2、开发日期：2010-8-12</li>
	 * <li>3、开发时间：下午07:35:48</li>
	 * <li>4、返回类型：void</li>
	 * <li>5、方法含义：</li>
	 * <li>6、方法说明：根据用户机构权限 去除没有权限查看的机构</li>
	 * </ul>
	 * @param orgList
	 * @param user
	 */
	public static List RemoveNoRightORG(List orgList ,Systemusersmanage user)
	 {
		String  levelCode=user.getSystemorganizationsmanage().getLevelCode();
		//总行 可以显示全部
		//分行 只可以显示 分行和支行的机构
		if (levelCode.equals(SystemConstants.FEN_BANK_LEVEL_CODE)) 
		{			
			for(int i=0;i<orgList.size();i++)
			{
				Systemorganizationsmanage sysorg=(Systemorganizationsmanage)orgList.get(i);
				//总行的移除 当前分行的其他分行移除
				//if(sysorg.getLevelCode().equals(SystemConstants.ZONG_BANK_LEVEL_CODE)||(sysorg.getLevelCode().equals(SystemConstants.FEN_BANK_LEVEL_CODE)&&!sysorg.getIndentifier().equals(user.getSystemorganizationsmanage().getIndentifier())))
					
				if(sysorg.getLevelCode().equals(SystemConstants.ZONG_BANK_LEVEL_CODE)||sysorg.getLevelCode().equals(SystemConstants.FEN_BANK_LEVEL_CODE))
				{
					orgList.remove(i);
					i--;
				}
				
			}
		}
		//支行只可显示 支行的机构
		if (levelCode.equals(SystemConstants.ZHI_BANK_LEVEL_CODE))
		{
			for(int i=0;i<orgList.size();i++)
			{
				Systemorganizationsmanage sysorg=(Systemorganizationsmanage)orgList.get(i);
				//if(sysorg.getLevelCode().equals(SystemConstants.ZONG_BANK_LEVEL_CODE)||sysorg.getLevelCode().equals(SystemConstants.FEN_BANK_LEVEL_CODE))
			    if(!sysorg.getIndentifier().equals(user.getSystemorganizationsmanage().getIndentifier()))
				{
					orgList.remove(i);
					i--;
				}
			}
		}
		
		
		return orgList;
	 } 
	
	
/*	public static Systemusersmanage  getSessionUser(HttpServletRequest request)
	{
		Systemusersmanage userSystemusersmanage=(Systemusersmanage)request.getSession().getAttribute("userentity");
		return userSystemusersmanage;
		
	}*/
}
