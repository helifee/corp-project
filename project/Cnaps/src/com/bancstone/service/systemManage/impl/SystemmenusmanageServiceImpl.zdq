/**
 * <p>项目名称：zhiNengT<p>
 * <ul>
 * <li>1、版权所有：驰波公司</li>
 * <li>2、开发作者：史文龙</li>
 * <li>3、开发日期：2010-7-28</li>
 * <li>4、开发时间：上午10:13:53</li>
 * <li>5、文件名称：h.java</li>
 * <li>6、包路径名：com.bancstone.service.systemManage.impl</li>
 * </ul>
 */
package com.bancstone.service.systemManage.impl;

import java.util.List;

import com.bancstone.dao.systemManage.SystemmenusmanageDAO;
import com.bancstone.hibernate.systemManage.Systemmenusmanage;
import com.bancstone.service.systemManage.SystemmenusmanageService;

/**
 * <ul>
 * <li>1、开发日期：2010-7-28</li>
 * <li>2、开发时间：上午10:10:00</li>
 * <li>3、类型名称：SystemmenusmanageServiceImpl</li>
 * <li>4、类型意图：对系统菜单的管理类</li>
 * </ul>
 * 
 * @author 史文龙
 * 
 */

public class SystemmenusmanageServiceImpl implements SystemmenusmanageService {

	/**
	 * <ul>
	 * <li>1、开发作者：史文龙</li>
	 * <li>2、开发日期：2010-7-28</li>
	 * <li>3、开发时间：上午11:03:35</li>
	 * <li>4、方法含义：</li>
	 * <li>5、方法说明：</li>
	 * </ul>
	 * 
	 * @see com.bancstone.service.systemManage.SystemmenusmanageService#findSystemmenusmanageById(java.lang.String)
	 */
	public Systemmenusmanage findSystemmenusmanageById(String id) {
		return this.systemmenusmanageDAO.findById(id);
	}

	/**
	 * <ul>
	 * <li>1、开发作者：史文龙</li>
	 * <li>2、开发日期：2010-7-28</li>
	 * <li>3、开发时间：上午11:03:35</li>
	 * <li>4、方法含义：</li>
	 * <li>5、方法说明：</li>
	 * </ul>
	 * 
	 * @see com.bancstone.service.systemManage.SystemmenusmanageService#modifySystemmenusmanage(com.bancstone.hibernate.systemManage.Systemmenusmanage)
	 */
	public void modifySystemmenusmanage(Systemmenusmanage obj) {
		this.systemmenusmanageDAO.merge(obj);
	}

	/**
	 * <ul>
	 * <li>1、开发作者：史文龙</li>
	 * <li>2、开发日期：2010-7-28</li>
	 * <li>3、开发时间：上午11:03:35</li>
	 * <li>4、方法含义：分页查询菜单 一个节点下的列表</li>
	 * <li>5、方法说明：</li>
	 * </ul>
	 * 
	 * @see com.bancstone.service.systemManage.SystemmenusmanageService#querySystemmenusmanageList(com.bancstone.form.systemManage.SystemmenusmanageForm)
	 */

	public List<Systemmenusmanage> querySystemmenusmanageList(String id) {
		return this.systemmenusmanageDAO.querySystemmenusmanageList(id);
	}

	/**
	 * <ul>
	 * <li>1、开发作者：史文龙</li>
	 * <li>2、开发日期：2010-7-28</li>
	 * <li>3、开发时间：上午11:03:35</li>
	 * <li>4、方法含义：</li>
	 * <li>5、方法说明：</li>
	 * </ul>
	 * 
	 * @see com.bancstone.service.systemManage.SystemmenusmanageService#saveSystemmenusmanage(com.bancstone.hibernate.systemManage.Systemmenusmanage)
	 */
	public void saveSystemmenusmanage(Systemmenusmanage obj) {

		this.systemmenusmanageDAO.save(obj);
	}

	private SystemmenusmanageDAO systemmenusmanageDAO;

	/**
	 * <ul>
	 * <li>1、开发作者：史文龙</li>
	 * <li>2、开发日期：2010-7-28</li>
	 * <li>3、开发时间：上午11:03:35</li>
	 * <li>4、方法含义：</li>
	 * <li>5、方法说明：</li>
	 * </ul>
	 * 
	 * @see com.bancstone.service.systemManage.SystemmenusmanageService#getSystemmenusmanageDAO()
	 */
	public SystemmenusmanageDAO getSystemmenusmanageDAO() {
		return systemmenusmanageDAO;
	}

	/**
	 * <ul>
	 * <li>1、开发作者：史文龙</li>
	 * <li>2、开发日期：2010-7-28</li>
	 * <li>3、开发时间：上午11:03:35</li>
	 * <li>4、方法含义：</li>
	 * <li>5、方法说明：</li>
	 * </ul>
	 * 
	 * @see com.bancstone.service.systemManage.SystemmenusmanageService#setSystemmenusmanageDAO(com.bancstone.dao.systemManage.SystemmenusmanageDAO)
	 */
	public void setSystemmenusmanageDAO(
			SystemmenusmanageDAO systemmenusmanageDAO) {
		this.systemmenusmanageDAO = systemmenusmanageDAO;
	}

	/**
	 * 异步更新标题 true-修改成功 false-修改失败
	 * <ul>
	 * <li>1、开发作者：史文龙</li>
	 * <li>2、开发日期：2010-7-29</li>
	 * <li>3、开发时间：下午02:53:03</li>
	 * <li>4、方法含义：</li>
	 * <li>5、方法说明：异步更新标题 true-修改成功 false-修改失败</li>
	 * </ul>
	 * 
	 * @see com.bancstone.service.systemManage.SystemmenusmanageService#modifyTitle(java.lang.String,
	 *      java.lang.String)
	 */
	public Boolean modifyTitle(String id, String name) {
		boolean bl = false;
		Systemmenusmanage po = systemmenusmanageDAO.findById(id);
		po.setName(name);
		systemmenusmanageDAO.update(po);
		bl = true;
		return bl;

	}

	/**
	 * 
	 * <ul>
	 * <li>1、开发作者：史文龙</li>
	 * <li>2、开发日期：2010-7-29</li>
	 * <li>3、开发时间：下午02:52:03</li>
	 * <li>4、方法含义：</li>
	 * <li>5、方法说明：AJAX DWR用到异步删除数据，包括其子孙节点 递归删除</li>
	 * </ul>
	 * 
	 * @see com.bancstone.service.systemManage.SystemmenusmanageService#delNode(java.lang.String)
	 */
	@SuppressWarnings("unchecked")
	public void delNode(String id) {
		Systemmenusmanage po = systemmenusmanageDAO.findById(id);
		// 取得所有要删除的实体类
		List listpo = systemmenusmanageDAO.queryDownNodes(Integer.parseInt(po
				.getParentidentifier()), Integer.parseInt(po.getNum()), -1);
		// 减1 更新
		systemmenusmanageDAO.downNodes(listpo);
		systemmenusmanageDAO.delNode(id);
	}

	/**
	 * <ul>
	 * <li>1、开发作者：王亮</li>
	 * <li>2、开发日期：Aug 20, 2010</li>
	 * <li>3、开发时间：2:30:29 PM</li>
	 * <li>4、方法含义：</li>
	 * <li>5、方法说明：</li>
	 * </ul>
	 * 
	 * @see com.bancstone.service.systemManage.SystemmenusmanageService#querySystemmenusmanageList(java.lang.String,
	 *      java.lang.String)
	 */
	public List<Systemmenusmanage> querySystemmenusmanageList(String id,
			String availiableSystemMenus) {
		return this.systemmenusmanageDAO.querySystemmenusmanageList(id,
				availiableSystemMenus);
	}

}
